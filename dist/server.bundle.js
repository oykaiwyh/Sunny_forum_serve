/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/api/AdminController.js":
/*!************************************!*\
  !*** ./src/api/AdminController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Menus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/model/Menus */ \"./src/model/Menus.js\");\n/* harmony import */ var _model_Roles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/model/Roles */ \"./src/model/Roles.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/model/user */ \"./src/model/user.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/model/SignRecord */ \"./src/model/SignRecord.js\");\n\n\n\n\n\n\n\n\n\nconst weekday = __webpack_require__(/*! dayjs/plugin/weekday */ \"dayjs/plugin/weekday\");\n\ndayjs__WEBPACK_IMPORTED_MODULE_4___default.a.extend(weekday);\n\nclass AdminController {\n  // 后台管理--添加菜单\n  async addMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const menu = new _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const result = await menu.save();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理--获取菜单\n\n\n  async getMenu(ctx) {\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({});\n    ctx.body = {\n      code: 200,\n      data: Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__[\"sortMenus\"])(result)\n    };\n  } // 后台管理--删除菜单\n\n\n  async deleteMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n      _id: body._id\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理--更新菜单\n\n\n  async updateMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const data = { ...body\n    };\n    delete data._id;\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body._id\n    }, { ...data\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理--获取角色\n\n\n  async getRoles(ctx) {\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({});\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理--添加角色\n\n\n  async addRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const role = new _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"](body);\n    const result = await role.save();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理--更新角色\n\n\n  async updateRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const data = { ...body\n    };\n    delete data._id;\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n      _id: body._id\n    }, { ...data\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理--删除角色\n\n\n  async deleteRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteOne({\n      _id: body._id\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理--获取角色名字列表\n\n\n  async getRoleNames(ctx) {\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({}, {\n      menu: 0,\n      desc: 0\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理--获取用户的菜单权限，菜单数据\n\n\n  async getRoutes(ctx) {\n    // 1. obj -> _id -> roles\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: ctx._id\n    }, {\n      roles: 1\n    });\n    const {\n      roles\n    } = user; // 2. 通过角色 -> menus\n    // 用户的角色可能有多个\n    // 角色 menus -> 去重\n\n    let menus = [];\n\n    for (let i = 0; i < roles.length; i++) {\n      const role = roles[i];\n      const rights = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n        role\n      }, {\n        menu: 1\n      });\n      menus = menus.concat(rights.menu);\n    }\n\n    menus = Array.from(new Set(menus)); // 去重\n    // 3. menus -> 可以访问的菜单数据\n\n    const treeData = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({}); // 递归查询 type = 'menu' && _id 包含在menus中\n    // 结构进行改造\n\n    const routes = Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__[\"getMenuData\"])(treeData, menus, ctx.isAdmin);\n    ctx.body = {\n      code: 200,\n      data: routes\n    };\n  } // 后台管理--获取用户的菜单权限,中资源权限\n\n\n  async getOperations(ctx) {\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: ctx._id\n    }, {\n      roles: 1\n    });\n    const {\n      roles\n    } = user;\n    let menus = [];\n\n    for (let i = 0; i < roles.length; i++) {\n      const role = roles[i];\n      const rights = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n        role\n      }, {\n        menu: 1\n      });\n      menus = menus.concat(rights.menu);\n    }\n\n    menus = Array.from(new Set(menus)); // 3. menus -> 可以访问的菜单数据\n\n    const treeData = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({});\n    const operations = Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__[\"getRights\"])(treeData, menus);\n    return operations;\n  } // 后台管理--获取首页统计数据\n\n\n  async getStats(ctx) {\n    let result = {}; // 1. 顶部的card\n\n    const inforCardData = [];\n    const time = dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYY-MM-DD 00:00:00'); // 今天新增用户数\n\n    const userNewCount = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({\n      created: {\n        $gte: time\n      }\n    }).countDocuments(); // 发帖统计\n\n    const postCount = await _model_Post__WEBPACK_IMPORTED_MODULE_5__[\"default\"].find({}).countDocuments(); // 今天新增评论\n\n    const commentsCounts = await _model_Comments__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({\n      created: {\n        $gte: time\n      }\n    }).countDocuments(); // 本周热议\n    // weekday会去查询day是属于哪一周 weekday(1)本周的星期一\n    // const day = moment('2020-10-20')\n    // console.log(moment(day).weekday(1).format());\n    // console.log(moment(day).weekday(7).format());\n    // 重置时分秒\n\n    const nowZero = new Date().setHours(0, 0, 0, 0);\n    const starttime = dayjs__WEBPACK_IMPORTED_MODULE_4___default()(nowZero).weekday(1);\n    const endtime = dayjs__WEBPACK_IMPORTED_MODULE_4___default()(nowZero).weekday(8);\n    const weekEndCount = await _model_Comments__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      },\n      isBest: '1'\n    }).countDocuments(); // 本周签到\n\n    const signWeekCount = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      }\n    }).countDocuments(); // 本周发帖\n\n    const postWeekCount = await _model_Post__WEBPACK_IMPORTED_MODULE_5__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      }\n    }).countDocuments();\n    inforCardData.push(userNewCount);\n    inforCardData.push(postCount);\n    inforCardData.push(commentsCounts);\n    inforCardData.push(weekEndCount);\n    inforCardData.push(signWeekCount);\n    inforCardData.push(postWeekCount); // 2. 左侧的饼图数据\n\n    const postsCatalogCount = await _model_Post__WEBPACK_IMPORTED_MODULE_5__[\"default\"].aggregate([{\n      $group: {\n        _id: '$catalog',\n        count: {\n          $sum: 1\n        }\n      }\n    }]);\n    const pieData = {};\n    postsCatalogCount.forEach(item => {\n      pieData[item._id] = item.count;\n    }); // 3. 本周的右侧统计数据\n    // 3.1 计算6个月前的时间： 1号 00:00:00\n    // 3.2 查询数据库中对应时间内的数据 $gte\n    // 3.3 group组合 -> sum -> sort排序\n    // const startMonth = moment('2020-10-10').subtract(5, 'M').date(1).format() // 2020-05-01T00:00:00+08:00 \n    // const endMonth = moment('2020-10-10').add(1, 'M').date(1).format()        // 2020-11-01T00:00:00+08:00\n    // const endMonth = moment('2020-10-10').date(31).format('YYYY-MM-DD 23:59:59') // 2020-10-31 23:59:59\n\n    const startMonth = dayjs__WEBPACK_IMPORTED_MODULE_4___default()(nowZero).subtract(5, 'M').date(1).format();\n    const endMonth = dayjs__WEBPACK_IMPORTED_MODULE_4___default()(nowZero).add(1, 'M').date(1).format();\n    let monthData = await _model_Post__WEBPACK_IMPORTED_MODULE_5__[\"default\"].aggregate([{\n      $match: {\n        created: {\n          $gte: new Date(startMonth),\n          $lt: new Date(endMonth)\n        }\n      }\n    }, {\n      // 格式化\n      $project: {\n        // 结构化的对象对应$group中的 _id:$month , \n        // create: {\n        month: {\n          $dateToString: {\n            format: '%Y-%m',\n            date: '$created' // 需要结构化的 key -> created\n\n          }\n        }\n      }\n    }, {\n      // 以月份分组 1 2 3 ...\n      $group: {\n        // _id:'$create',\n        _id: '$month',\n        count: {\n          $sum: 1\n        }\n      }\n    }, {\n      //排序\n      $sort: {\n        _id: 1\n      }\n    }]); // 将数组转换为对象\n\n    monthData = monthData.reduce((obj, item) => {\n      return { ...obj,\n        [item._id]: item.count\n      };\n    }, {}); // 4. 底部的数据\n\n    const startDay = dayjs__WEBPACK_IMPORTED_MODULE_4___default()().subtract(7, 'day').format();\n\n    const _aggregate = async model => {\n      let result = await model.aggregate([{\n        $match: {\n          created: {\n            $gte: new Date(startDay)\n          }\n        }\n      }, {\n        $project: {\n          month: {\n            $dateToString: {\n              format: '%Y-%m-%d',\n              date: '$created'\n            }\n          }\n        }\n      }, {\n        $group: {\n          _id: '$month',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $sort: {\n          _id: 1\n        }\n      }]);\n      result = result.reduce((obj, item) => {\n        return { ...obj,\n          [item._id]: item.count\n        };\n      }, {});\n      return result;\n    };\n\n    const userWeekData = await _aggregate(_model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"]); // -> { 2019-10-01: 1}\n\n    const signWeekData = await _aggregate(_model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n    const postWeekData = await _aggregate(_model_Post__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    const commentsWeekData = await _aggregate(_model_Comments__WEBPACK_IMPORTED_MODULE_6__[\"default\"]); // {user: [1,2,3,4,0,0,0]}\n\n    const dataArr = [];\n\n    for (let i = 0; i <= 6; i++) {\n      dataArr.push(dayjs__WEBPACK_IMPORTED_MODULE_4___default()().subtract(6 - i, 'day').format('YYYY-MM-DD'));\n    }\n\n    const addData = obj => {\n      const arr = [];\n      dataArr.forEach(item => {\n        if (obj[item]) {\n          arr.push(obj[item]);\n        } else {\n          arr.push(0);\n        }\n      });\n      return arr;\n    };\n\n    const weekData = {\n      user: addData(userWeekData),\n      sign: addData(signWeekData),\n      post: addData(postWeekData),\n      comments: addData(commentsWeekData)\n    };\n    result = {\n      inforCardData,\n      pieData,\n      monthData,\n      weekData\n    };\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new AdminController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0FkbWluQ29udHJvbGxlci5qcz80YTBkIl0sIm5hbWVzIjpbIndlZWtkYXkiLCJyZXF1aXJlIiwibW9tZW50IiwiZXh0ZW5kIiwiQWRtaW5Db250cm9sbGVyIiwiYWRkTWVudSIsImN0eCIsImJvZHkiLCJyZXF1ZXN0IiwibWVudSIsIk1lbnUiLCJyZXN1bHQiLCJzYXZlIiwiY29kZSIsImRhdGEiLCJnZXRNZW51IiwiZmluZCIsInNvcnRNZW51cyIsImRlbGV0ZU1lbnUiLCJkZWxldGVPbmUiLCJfaWQiLCJ1cGRhdGVNZW51IiwidXBkYXRlT25lIiwiZ2V0Um9sZXMiLCJSb2xlcyIsImFkZFJvbGUiLCJyb2xlIiwidXBkYXRlUm9sZSIsImRlbGV0ZVJvbGUiLCJnZXRSb2xlTmFtZXMiLCJkZXNjIiwiZ2V0Um91dGVzIiwidXNlciIsIlVzZXIiLCJmaW5kT25lIiwicm9sZXMiLCJtZW51cyIsImkiLCJsZW5ndGgiLCJyaWdodHMiLCJjb25jYXQiLCJBcnJheSIsImZyb20iLCJTZXQiLCJ0cmVlRGF0YSIsInJvdXRlcyIsImdldE1lbnVEYXRhIiwiaXNBZG1pbiIsImdldE9wZXJhdGlvbnMiLCJvcGVyYXRpb25zIiwiZ2V0UmlnaHRzIiwiZ2V0U3RhdHMiLCJpbmZvckNhcmREYXRhIiwidGltZSIsImZvcm1hdCIsInVzZXJOZXdDb3VudCIsImNyZWF0ZWQiLCIkZ3RlIiwiY291bnREb2N1bWVudHMiLCJwb3N0Q291bnQiLCJQb3N0IiwiY29tbWVudHNDb3VudHMiLCJDb21tZW50cyIsIm5vd1plcm8iLCJEYXRlIiwic2V0SG91cnMiLCJzdGFydHRpbWUiLCJlbmR0aW1lIiwid2Vla0VuZENvdW50IiwiJGx0ZSIsImlzQmVzdCIsInNpZ25XZWVrQ291bnQiLCJTaWduUmVjb3JkIiwicG9zdFdlZWtDb3VudCIsInB1c2giLCJwb3N0c0NhdGFsb2dDb3VudCIsImFnZ3JlZ2F0ZSIsIiRncm91cCIsImNvdW50IiwiJHN1bSIsInBpZURhdGEiLCJmb3JFYWNoIiwiaXRlbSIsInN0YXJ0TW9udGgiLCJzdWJ0cmFjdCIsImRhdGUiLCJlbmRNb250aCIsImFkZCIsIm1vbnRoRGF0YSIsIiRtYXRjaCIsIiRsdCIsIiRwcm9qZWN0IiwibW9udGgiLCIkZGF0ZVRvU3RyaW5nIiwiJHNvcnQiLCJyZWR1Y2UiLCJvYmoiLCJzdGFydERheSIsIl9hZ2dyZWdhdGUiLCJtb2RlbCIsInVzZXJXZWVrRGF0YSIsInNpZ25XZWVrRGF0YSIsInBvc3RXZWVrRGF0YSIsImNvbW1lbnRzV2Vla0RhdGEiLCJkYXRhQXJyIiwiYWRkRGF0YSIsImFyciIsIndlZWtEYXRhIiwic2lnbiIsInBvc3QiLCJjb21tZW50cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsbUJBQU8sQ0FBQyxrREFBRCxDQUF2Qjs7QUFDQUMsNENBQU0sQ0FBQ0MsTUFBUCxDQUFjSCxPQUFkOztBQUVBLE1BQU1JLGVBQU4sQ0FBc0I7QUFFbEI7QUFDQSxRQUFNQyxPQUFOLENBQWNDLEdBQWQsRUFBbUI7QUFDZixVQUFNO0FBQ0ZDO0FBREUsUUFFRkQsR0FBRyxDQUFDRSxPQUZSO0FBR0EsVUFBTUMsSUFBSSxHQUFHLElBQUlDLG9EQUFKLENBQVNILElBQVQsQ0FBYjtBQUNBLFVBQU1JLE1BQU0sR0FBRyxNQUFNRixJQUFJLENBQUNHLElBQUwsRUFBckI7QUFFQU4sT0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDUE0sVUFBSSxFQUFFLEdBREM7QUFFUEMsVUFBSSxFQUFFSDtBQUZDLEtBQVg7QUFJSCxHQWRpQixDQWdCbEI7OztBQUNBLFFBQU1JLE9BQU4sQ0FBY1QsR0FBZCxFQUFtQjtBQUNmLFVBQU1LLE1BQU0sR0FBRyxNQUFNRCxvREFBSSxDQUFDTSxJQUFMLENBQVUsRUFBVixDQUFyQjtBQUNBVixPQUFHLENBQUNDLElBQUosR0FBVztBQUNQTSxVQUFJLEVBQUUsR0FEQztBQUVQQyxVQUFJLEVBQUVHLCtEQUFTLENBQUNOLE1BQUQ7QUFGUixLQUFYO0FBS0gsR0F4QmlCLENBMEJsQjs7O0FBQ0EsUUFBTU8sVUFBTixDQUFpQlosR0FBakIsRUFBc0I7QUFDbEIsVUFBTTtBQUNGQztBQURFLFFBRUZELEdBQUcsQ0FBQ0UsT0FGUjtBQUdBLFVBQU1HLE1BQU0sR0FBRyxNQUFNRCxvREFBSSxDQUFDUyxTQUFMLENBQWU7QUFDaENDLFNBQUcsRUFBRWIsSUFBSSxDQUFDYTtBQURzQixLQUFmLENBQXJCO0FBSUFkLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BNLFVBQUksRUFBRSxHQURDO0FBRVBDLFVBQUksRUFBRUg7QUFGQyxLQUFYO0FBSUgsR0F2Q2lCLENBeUNsQjs7O0FBQ0EsUUFBTVUsVUFBTixDQUFpQmYsR0FBakIsRUFBc0I7QUFDbEIsVUFBTTtBQUNGQztBQURFLFFBRUZELEdBQUcsQ0FBQ0UsT0FGUjtBQUdBLFVBQU1NLElBQUksR0FBRyxFQUNULEdBQUdQO0FBRE0sS0FBYjtBQUdBLFdBQU9PLElBQUksQ0FBQ00sR0FBWjtBQUNBLFVBQU1ULE1BQU0sR0FBRyxNQUFNRCxvREFBSSxDQUFDWSxTQUFMLENBQWU7QUFDaENGLFNBQUcsRUFBRWIsSUFBSSxDQUFDYTtBQURzQixLQUFmLEVBRWxCLEVBQ0MsR0FBR047QUFESixLQUZrQixDQUFyQjtBQU1BUixPQUFHLENBQUNDLElBQUosR0FBVztBQUNQTSxVQUFJLEVBQUUsR0FEQztBQUVQQyxVQUFJLEVBQUVIO0FBRkMsS0FBWDtBQUlILEdBNURpQixDQThEbEI7OztBQUNBLFFBQU1ZLFFBQU4sQ0FBZWpCLEdBQWYsRUFBb0I7QUFDaEIsVUFBTUssTUFBTSxHQUFHLE1BQU1hLG9EQUFLLENBQUNSLElBQU4sQ0FBVyxFQUFYLENBQXJCO0FBQ0FWLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BNLFVBQUksRUFBRSxHQURDO0FBRVBDLFVBQUksRUFBRUg7QUFGQyxLQUFYO0FBSUgsR0FyRWlCLENBdUVsQjs7O0FBQ0EsUUFBTWMsT0FBTixDQUFjbkIsR0FBZCxFQUFtQjtBQUNmLFVBQU07QUFDRkM7QUFERSxRQUVGRCxHQUFHLENBQUNFLE9BRlI7QUFHQSxVQUFNa0IsSUFBSSxHQUFHLElBQUlGLG9EQUFKLENBQVVqQixJQUFWLENBQWI7QUFDQSxVQUFNSSxNQUFNLEdBQUcsTUFBTWUsSUFBSSxDQUFDZCxJQUFMLEVBQXJCO0FBQ0FOLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BNLFVBQUksRUFBRSxHQURDO0FBRVBDLFVBQUksRUFBRUg7QUFGQyxLQUFYO0FBSUgsR0FsRmlCLENBb0ZsQjs7O0FBQ0EsUUFBTWdCLFVBQU4sQ0FBaUJyQixHQUFqQixFQUFzQjtBQUNsQixVQUFNO0FBQ0ZDO0FBREUsUUFFRkQsR0FBRyxDQUFDRSxPQUZSO0FBR0EsVUFBTU0sSUFBSSxHQUFHLEVBQ1QsR0FBR1A7QUFETSxLQUFiO0FBR0EsV0FBT08sSUFBSSxDQUFDTSxHQUFaO0FBQ0EsVUFBTVQsTUFBTSxHQUFHLE1BQU1hLG9EQUFLLENBQUNGLFNBQU4sQ0FBZ0I7QUFDakNGLFNBQUcsRUFBRWIsSUFBSSxDQUFDYTtBQUR1QixLQUFoQixFQUVsQixFQUNDLEdBQUdOO0FBREosS0FGa0IsQ0FBckI7QUFLQVIsT0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDUE0sVUFBSSxFQUFFLEdBREM7QUFFUEMsVUFBSSxFQUFFSDtBQUZDLEtBQVg7QUFJSCxHQXRHaUIsQ0F3R2xCOzs7QUFDQSxRQUFNaUIsVUFBTixDQUFpQnRCLEdBQWpCLEVBQXNCO0FBQ2xCLFVBQU07QUFDRkM7QUFERSxRQUVGRCxHQUFHLENBQUNFLE9BRlI7QUFHQSxVQUFNRyxNQUFNLEdBQUcsTUFBTWEsb0RBQUssQ0FBQ0wsU0FBTixDQUFnQjtBQUNqQ0MsU0FBRyxFQUFFYixJQUFJLENBQUNhO0FBRHVCLEtBQWhCLENBQXJCO0FBR0FkLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BNLFVBQUksRUFBRSxHQURDO0FBRVBDLFVBQUksRUFBRUg7QUFGQyxLQUFYO0FBSUgsR0FwSGlCLENBc0hsQjs7O0FBQ0EsUUFBTWtCLFlBQU4sQ0FBbUJ2QixHQUFuQixFQUF3QjtBQUNwQixVQUFNSyxNQUFNLEdBQUcsTUFBTWEsb0RBQUssQ0FBQ1IsSUFBTixDQUFXLEVBQVgsRUFBZTtBQUNoQ1AsVUFBSSxFQUFFLENBRDBCO0FBRWhDcUIsVUFBSSxFQUFFO0FBRjBCLEtBQWYsQ0FBckI7QUFJQXhCLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BNLFVBQUksRUFBRSxHQURDO0FBRVBDLFVBQUksRUFBRUg7QUFGQyxLQUFYO0FBSUgsR0FoSWlCLENBa0lsQjs7O0FBQ0EsUUFBTW9CLFNBQU4sQ0FBZ0J6QixHQUFoQixFQUFxQjtBQUNqQjtBQUNBLFVBQU0wQixJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ0MsT0FBTCxDQUFhO0FBQzVCZCxTQUFHLEVBQUVkLEdBQUcsQ0FBQ2M7QUFEbUIsS0FBYixFQUVoQjtBQUNDZSxXQUFLLEVBQUU7QUFEUixLQUZnQixDQUFuQjtBQUtBLFVBQU07QUFDRkE7QUFERSxRQUVGSCxJQUZKLENBUGlCLENBVWpCO0FBQ0E7QUFDQTs7QUFDQSxRQUFJSSxLQUFLLEdBQUcsRUFBWjs7QUFDQSxTQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdGLEtBQUssQ0FBQ0csTUFBMUIsRUFBa0NELENBQUMsRUFBbkMsRUFBdUM7QUFDbkMsWUFBTVgsSUFBSSxHQUFHUyxLQUFLLENBQUNFLENBQUQsQ0FBbEI7QUFDQSxZQUFNRSxNQUFNLEdBQUcsTUFBTWYsb0RBQUssQ0FBQ1UsT0FBTixDQUFjO0FBQy9CUjtBQUQrQixPQUFkLEVBRWxCO0FBQ0NqQixZQUFJLEVBQUU7QUFEUCxPQUZrQixDQUFyQjtBQUtBMkIsV0FBSyxHQUFHQSxLQUFLLENBQUNJLE1BQU4sQ0FBYUQsTUFBTSxDQUFDOUIsSUFBcEIsQ0FBUjtBQUNIOztBQUNEMkIsU0FBSyxHQUFHSyxLQUFLLENBQUNDLElBQU4sQ0FBVyxJQUFJQyxHQUFKLENBQVFQLEtBQVIsQ0FBWCxDQUFSLENBdkJpQixDQXVCa0I7QUFDbkM7O0FBQ0EsVUFBTVEsUUFBUSxHQUFHLE1BQU1sQyxvREFBSSxDQUFDTSxJQUFMLENBQVUsRUFBVixDQUF2QixDQXpCaUIsQ0EwQmpCO0FBQ0E7O0FBQ0EsVUFBTTZCLE1BQU0sR0FBR0MsaUVBQVcsQ0FBQ0YsUUFBRCxFQUFXUixLQUFYLEVBQWtCOUIsR0FBRyxDQUFDeUMsT0FBdEIsQ0FBMUI7QUFDQXpDLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BNLFVBQUksRUFBRSxHQURDO0FBRVBDLFVBQUksRUFBRStCO0FBRkMsS0FBWDtBQUlILEdBcEtpQixDQXNLbEI7OztBQUNBLFFBQU1HLGFBQU4sQ0FBb0IxQyxHQUFwQixFQUF5QjtBQUNyQixVQUFNMEIsSUFBSSxHQUFHLE1BQU1DLG1EQUFJLENBQUNDLE9BQUwsQ0FBYTtBQUM1QmQsU0FBRyxFQUFFZCxHQUFHLENBQUNjO0FBRG1CLEtBQWIsRUFFaEI7QUFDQ2UsV0FBSyxFQUFFO0FBRFIsS0FGZ0IsQ0FBbkI7QUFLQSxVQUFNO0FBQ0ZBO0FBREUsUUFFRkgsSUFGSjtBQUdBLFFBQUlJLEtBQUssR0FBRyxFQUFaOztBQUNBLFNBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0YsS0FBSyxDQUFDRyxNQUExQixFQUFrQ0QsQ0FBQyxFQUFuQyxFQUF1QztBQUNuQyxZQUFNWCxJQUFJLEdBQUdTLEtBQUssQ0FBQ0UsQ0FBRCxDQUFsQjtBQUNBLFlBQU1FLE1BQU0sR0FBRyxNQUFNZixvREFBSyxDQUFDVSxPQUFOLENBQWM7QUFDL0JSO0FBRCtCLE9BQWQsRUFFbEI7QUFDQ2pCLFlBQUksRUFBRTtBQURQLE9BRmtCLENBQXJCO0FBS0EyQixXQUFLLEdBQUdBLEtBQUssQ0FBQ0ksTUFBTixDQUFhRCxNQUFNLENBQUM5QixJQUFwQixDQUFSO0FBQ0g7O0FBQ0QyQixTQUFLLEdBQUdLLEtBQUssQ0FBQ0MsSUFBTixDQUFXLElBQUlDLEdBQUosQ0FBUVAsS0FBUixDQUFYLENBQVIsQ0FuQnFCLENBb0JyQjs7QUFDQSxVQUFNUSxRQUFRLEdBQUcsTUFBTWxDLG9EQUFJLENBQUNNLElBQUwsQ0FBVSxFQUFWLENBQXZCO0FBQ0EsVUFBTWlDLFVBQVUsR0FBR0MsK0RBQVMsQ0FBQ04sUUFBRCxFQUFXUixLQUFYLENBQTVCO0FBQ0EsV0FBT2EsVUFBUDtBQUNILEdBL0xpQixDQWlNbEI7OztBQUNBLFFBQU1FLFFBQU4sQ0FBZTdDLEdBQWYsRUFBb0I7QUFDaEIsUUFBSUssTUFBTSxHQUFHLEVBQWIsQ0FEZ0IsQ0FHaEI7O0FBQ0EsVUFBTXlDLGFBQWEsR0FBRyxFQUF0QjtBQUNBLFVBQU1DLElBQUksR0FBR25ELDRDQUFNLEdBQUdvRCxNQUFULENBQWdCLHFCQUFoQixDQUFiLENBTGdCLENBTWhCOztBQUNBLFVBQU1DLFlBQVksR0FBRyxNQUFNdEIsbURBQUksQ0FBQ2pCLElBQUwsQ0FBVTtBQUNqQ3dDLGFBQU8sRUFBRTtBQUNMQyxZQUFJLEVBQUVKO0FBREQ7QUFEd0IsS0FBVixFQUl4QkssY0FKd0IsRUFBM0IsQ0FQZ0IsQ0FZaEI7O0FBQ0EsVUFBTUMsU0FBUyxHQUFHLE1BQU1DLG1EQUFJLENBQUM1QyxJQUFMLENBQVUsRUFBVixFQUFjMEMsY0FBZCxFQUF4QixDQWJnQixDQWVoQjs7QUFDQSxVQUFNRyxjQUFjLEdBQUcsTUFBTUMsdURBQVEsQ0FBQzlDLElBQVQsQ0FBYztBQUN2Q3dDLGFBQU8sRUFBRTtBQUNMQyxZQUFJLEVBQUVKO0FBREQ7QUFEOEIsS0FBZCxFQUkxQkssY0FKMEIsRUFBN0IsQ0FoQmdCLENBc0JoQjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0EsVUFBTUssT0FBTyxHQUFHLElBQUlDLElBQUosR0FBV0MsUUFBWCxDQUFvQixDQUFwQixFQUF1QixDQUF2QixFQUEwQixDQUExQixFQUE2QixDQUE3QixDQUFoQjtBQUNBLFVBQU1DLFNBQVMsR0FBR2hFLDRDQUFNLENBQUM2RCxPQUFELENBQU4sQ0FBZ0IvRCxPQUFoQixDQUF3QixDQUF4QixDQUFsQjtBQUNBLFVBQU1tRSxPQUFPLEdBQUdqRSw0Q0FBTSxDQUFDNkQsT0FBRCxDQUFOLENBQWdCL0QsT0FBaEIsQ0FBd0IsQ0FBeEIsQ0FBaEI7QUFDQSxVQUFNb0UsWUFBWSxHQUFHLE1BQU1OLHVEQUFRLENBQUM5QyxJQUFULENBQWM7QUFDckN3QyxhQUFPLEVBQUU7QUFDTEMsWUFBSSxFQUFFUyxTQUREO0FBRUxHLFlBQUksRUFBRUY7QUFGRCxPQUQ0QjtBQUtyQ0csWUFBTSxFQUFFO0FBTDZCLEtBQWQsRUFNeEJaLGNBTndCLEVBQTNCLENBakNnQixDQXlDaEI7O0FBQ0EsVUFBTWEsYUFBYSxHQUFHLE1BQU1DLHlEQUFVLENBQUN4RCxJQUFYLENBQWdCO0FBQ3hDd0MsYUFBTyxFQUFFO0FBQ0xDLFlBQUksRUFBRVMsU0FERDtBQUVMRyxZQUFJLEVBQUVGO0FBRkQ7QUFEK0IsS0FBaEIsRUFLekJULGNBTHlCLEVBQTVCLENBMUNnQixDQWdEaEI7O0FBQ0EsVUFBTWUsYUFBYSxHQUFHLE1BQU1iLG1EQUFJLENBQUM1QyxJQUFMLENBQVU7QUFDbEN3QyxhQUFPLEVBQUU7QUFDTEMsWUFBSSxFQUFFUyxTQUREO0FBRUxHLFlBQUksRUFBRUY7QUFGRDtBQUR5QixLQUFWLEVBS3pCVCxjQUx5QixFQUE1QjtBQU1BTixpQkFBYSxDQUFDc0IsSUFBZCxDQUFtQm5CLFlBQW5CO0FBQ0FILGlCQUFhLENBQUNzQixJQUFkLENBQW1CZixTQUFuQjtBQUNBUCxpQkFBYSxDQUFDc0IsSUFBZCxDQUFtQmIsY0FBbkI7QUFDQVQsaUJBQWEsQ0FBQ3NCLElBQWQsQ0FBbUJOLFlBQW5CO0FBQ0FoQixpQkFBYSxDQUFDc0IsSUFBZCxDQUFtQkgsYUFBbkI7QUFDQW5CLGlCQUFhLENBQUNzQixJQUFkLENBQW1CRCxhQUFuQixFQTVEZ0IsQ0E4RGhCOztBQUVBLFVBQU1FLGlCQUFpQixHQUFHLE1BQU1mLG1EQUFJLENBQUNnQixTQUFMLENBQWUsQ0FBQztBQUM1Q0MsWUFBTSxFQUFFO0FBQ0p6RCxXQUFHLEVBQUUsVUFERDtBQUVKMEQsYUFBSyxFQUFFO0FBQ0hDLGNBQUksRUFBRTtBQURIO0FBRkg7QUFEb0MsS0FBRCxDQUFmLENBQWhDO0FBU0EsVUFBTUMsT0FBTyxHQUFHLEVBQWhCO0FBQ0FMLHFCQUFpQixDQUFDTSxPQUFsQixDQUEyQkMsSUFBRCxJQUFVO0FBQ2hDRixhQUFPLENBQUNFLElBQUksQ0FBQzlELEdBQU4sQ0FBUCxHQUFvQjhELElBQUksQ0FBQ0osS0FBekI7QUFDSCxLQUZELEVBMUVnQixDQThFaEI7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ0EsVUFBTUssVUFBVSxHQUFHakYsNENBQU0sQ0FBQzZELE9BQUQsQ0FBTixDQUFnQnFCLFFBQWhCLENBQXlCLENBQXpCLEVBQTRCLEdBQTVCLEVBQWlDQyxJQUFqQyxDQUFzQyxDQUF0QyxFQUF5Qy9CLE1BQXpDLEVBQW5CO0FBQ0EsVUFBTWdDLFFBQVEsR0FBR3BGLDRDQUFNLENBQUM2RCxPQUFELENBQU4sQ0FBZ0J3QixHQUFoQixDQUFvQixDQUFwQixFQUF1QixHQUF2QixFQUE0QkYsSUFBNUIsQ0FBaUMsQ0FBakMsRUFBb0MvQixNQUFwQyxFQUFqQjtBQUNBLFFBQUlrQyxTQUFTLEdBQUcsTUFBTTVCLG1EQUFJLENBQUNnQixTQUFMLENBQWUsQ0FBQztBQUM5QmEsWUFBTSxFQUFFO0FBQ0pqQyxlQUFPLEVBQUU7QUFDTEMsY0FBSSxFQUFFLElBQUlPLElBQUosQ0FBU21CLFVBQVQsQ0FERDtBQUVMTyxhQUFHLEVBQUUsSUFBSTFCLElBQUosQ0FBU3NCLFFBQVQ7QUFGQTtBQURMO0FBRHNCLEtBQUQsRUFRakM7QUFDSTtBQUNBSyxjQUFRLEVBQUU7QUFDTjtBQUNBO0FBQ0FDLGFBQUssRUFBRTtBQUNIQyx1QkFBYSxFQUFFO0FBQ1h2QyxrQkFBTSxFQUFFLE9BREc7QUFFWCtCLGdCQUFJLEVBQUUsVUFGSyxDQUVNOztBQUZOO0FBRFo7QUFIRDtBQUZkLEtBUmlDLEVBcUJqQztBQUNJO0FBQ0FSLFlBQU0sRUFBRTtBQUNKO0FBQ0F6RCxXQUFHLEVBQUUsUUFGRDtBQUdKMEQsYUFBSyxFQUFFO0FBQ0hDLGNBQUksRUFBRTtBQURIO0FBSEg7QUFGWixLQXJCaUMsRUErQmpDO0FBQ0k7QUFDQWUsV0FBSyxFQUFFO0FBQ0gxRSxXQUFHLEVBQUU7QUFERjtBQUZYLEtBL0JpQyxDQUFmLENBQXRCLENBeEZnQixDQStIaEI7O0FBQ0FvRSxhQUFTLEdBQUdBLFNBQVMsQ0FBQ08sTUFBVixDQUFpQixDQUFDQyxHQUFELEVBQU1kLElBQU4sS0FBZTtBQUN4QyxhQUFPLEVBQ0gsR0FBR2MsR0FEQTtBQUVILFNBQUNkLElBQUksQ0FBQzlELEdBQU4sR0FBWThELElBQUksQ0FBQ0o7QUFGZCxPQUFQO0FBSUgsS0FMVyxFQUtULEVBTFMsQ0FBWixDQWhJZ0IsQ0F3SWhCOztBQUNBLFVBQU1tQixRQUFRLEdBQUcvRiw0Q0FBTSxHQUFHa0YsUUFBVCxDQUFrQixDQUFsQixFQUFxQixLQUFyQixFQUE0QjlCLE1BQTVCLEVBQWpCOztBQUNBLFVBQU00QyxVQUFVLEdBQUcsTUFBT0MsS0FBUCxJQUFpQjtBQUNoQyxVQUFJeEYsTUFBTSxHQUFHLE1BQU13RixLQUFLLENBQUN2QixTQUFOLENBQWdCLENBQUM7QUFDNUJhLGNBQU0sRUFBRTtBQUNKakMsaUJBQU8sRUFBRTtBQUNMQyxnQkFBSSxFQUFFLElBQUlPLElBQUosQ0FBU2lDLFFBQVQ7QUFERDtBQURMO0FBRG9CLE9BQUQsRUFPL0I7QUFDSU4sZ0JBQVEsRUFBRTtBQUNOQyxlQUFLLEVBQUU7QUFDSEMseUJBQWEsRUFBRTtBQUNYdkMsb0JBQU0sRUFBRSxVQURHO0FBRVgrQixrQkFBSSxFQUFFO0FBRks7QUFEWjtBQUREO0FBRGQsT0FQK0IsRUFpQi9CO0FBQ0lSLGNBQU0sRUFBRTtBQUNKekQsYUFBRyxFQUFFLFFBREQ7QUFFSjBELGVBQUssRUFBRTtBQUNIQyxnQkFBSSxFQUFFO0FBREg7QUFGSDtBQURaLE9BakIrQixFQXlCL0I7QUFDSWUsYUFBSyxFQUFFO0FBQ0gxRSxhQUFHLEVBQUU7QUFERjtBQURYLE9BekIrQixDQUFoQixDQUFuQjtBQStCQVQsWUFBTSxHQUFHQSxNQUFNLENBQUNvRixNQUFQLENBQWMsQ0FBQ0MsR0FBRCxFQUFNZCxJQUFOLEtBQWU7QUFDbEMsZUFBTyxFQUNILEdBQUdjLEdBREE7QUFFSCxXQUFDZCxJQUFJLENBQUM5RCxHQUFOLEdBQVk4RCxJQUFJLENBQUNKO0FBRmQsU0FBUDtBQUlILE9BTFEsRUFLTixFQUxNLENBQVQ7QUFNQSxhQUFPbkUsTUFBUDtBQUNILEtBdkNEOztBQXdDQSxVQUFNeUYsWUFBWSxHQUFHLE1BQU1GLFVBQVUsQ0FBQ2pFLG1EQUFELENBQXJDLENBbExnQixDQWtMNEI7O0FBQzVDLFVBQU1vRSxZQUFZLEdBQUcsTUFBTUgsVUFBVSxDQUFDMUIseURBQUQsQ0FBckM7QUFDQSxVQUFNOEIsWUFBWSxHQUFHLE1BQU1KLFVBQVUsQ0FBQ3RDLG1EQUFELENBQXJDO0FBQ0EsVUFBTTJDLGdCQUFnQixHQUFHLE1BQU1MLFVBQVUsQ0FBQ3BDLHVEQUFELENBQXpDLENBckxnQixDQXNMaEI7O0FBQ0EsVUFBTTBDLE9BQU8sR0FBRyxFQUFoQjs7QUFDQSxTQUFLLElBQUluRSxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxJQUFJLENBQXJCLEVBQXdCQSxDQUFDLEVBQXpCLEVBQTZCO0FBQ3pCbUUsYUFBTyxDQUFDOUIsSUFBUixDQUFheEUsNENBQU0sR0FBR2tGLFFBQVQsQ0FBa0IsSUFBSS9DLENBQXRCLEVBQXlCLEtBQXpCLEVBQWdDaUIsTUFBaEMsQ0FBdUMsWUFBdkMsQ0FBYjtBQUNIOztBQUNELFVBQU1tRCxPQUFPLEdBQUlULEdBQUQsSUFBUztBQUNyQixZQUFNVSxHQUFHLEdBQUcsRUFBWjtBQUNBRixhQUFPLENBQUN2QixPQUFSLENBQWlCQyxJQUFELElBQVU7QUFDdEIsWUFBSWMsR0FBRyxDQUFDZCxJQUFELENBQVAsRUFBZTtBQUNYd0IsYUFBRyxDQUFDaEMsSUFBSixDQUFTc0IsR0FBRyxDQUFDZCxJQUFELENBQVo7QUFDSCxTQUZELE1BRU87QUFDSHdCLGFBQUcsQ0FBQ2hDLElBQUosQ0FBUyxDQUFUO0FBQ0g7QUFDSixPQU5EO0FBT0EsYUFBT2dDLEdBQVA7QUFDSCxLQVZEOztBQVdBLFVBQU1DLFFBQVEsR0FBRztBQUNiM0UsVUFBSSxFQUFFeUUsT0FBTyxDQUFDTCxZQUFELENBREE7QUFFYlEsVUFBSSxFQUFFSCxPQUFPLENBQUNKLFlBQUQsQ0FGQTtBQUdiUSxVQUFJLEVBQUVKLE9BQU8sQ0FBQ0gsWUFBRCxDQUhBO0FBSWJRLGNBQVEsRUFBRUwsT0FBTyxDQUFDRixnQkFBRDtBQUpKLEtBQWpCO0FBT0E1RixVQUFNLEdBQUc7QUFDTHlDLG1CQURLO0FBRUw0QixhQUZLO0FBR0xRLGVBSEs7QUFJTG1CO0FBSkssS0FBVDtBQU9BckcsT0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDUE0sVUFBSSxFQUFFLEdBREM7QUFFUEMsVUFBSSxFQUFFSDtBQUZDLEtBQVg7QUFLSDs7QUEzWmlCOztBQThaUCxtRUFBSVAsZUFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9BZG1pbkNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTWVudSBmcm9tICdAL21vZGVsL01lbnVzJ1xyXG5pbXBvcnQgUm9sZXMgZnJvbSAnQC9tb2RlbC9Sb2xlcydcclxuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbC91c2VyJ1xyXG5pbXBvcnQge1xyXG4gICAgZ2V0TWVudURhdGEsXHJcbiAgICBzb3J0TWVudXMsXHJcbiAgICBnZXRSaWdodHNcclxufSBmcm9tICdAL2NvbW1vbi91dGlscydcclxuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcclxuaW1wb3J0IFBvc3QgZnJvbSBcIkAvbW9kZWwvUG9zdFwiO1xyXG5pbXBvcnQgQ29tbWVudHMgZnJvbSAnQC9tb2RlbC9Db21tZW50cydcclxuaW1wb3J0IFNpZ25SZWNvcmQgZnJvbSAnQC9tb2RlbC9TaWduUmVjb3JkJ1xyXG5cclxuY29uc3Qgd2Vla2RheSA9IHJlcXVpcmUoJ2RheWpzL3BsdWdpbi93ZWVrZGF5JylcclxubW9tZW50LmV4dGVuZCh3ZWVrZGF5KVxyXG5cclxuY2xhc3MgQWRtaW5Db250cm9sbGVyIHtcclxuXHJcbiAgICAvLyDlkI7lj7DnrqHnkIYtLea3u+WKoOiPnOWNlVxyXG4gICAgYXN5bmMgYWRkTWVudShjdHgpIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcclxuICAgICAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoYm9keSlcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtZW51LnNhdmUoKVxyXG5cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZCO5Y+w566h55CGLS3ojrflj5boj5zljZVcclxuICAgIGFzeW5jIGdldE1lbnUoY3R4KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTWVudS5maW5kKHt9KVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHNvcnRNZW51cyhyZXN1bHQpXHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDlkI7lj7DnrqHnkIYtLeWIoOmZpOiPnOWNlVxyXG4gICAgYXN5bmMgZGVsZXRlTWVudShjdHgpIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBNZW51LmRlbGV0ZU9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogYm9keS5faWRcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZCO5Y+w566h55CGLS3mm7TmlrDoj5zljZVcclxuICAgIGFzeW5jIHVwZGF0ZU1lbnUoY3R4KSB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgLi4uYm9keVxyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgZGF0YS5faWRcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBNZW51LnVwZGF0ZU9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogYm9keS5faWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIC4uLmRhdGFcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZCO5Y+w566h55CGLS3ojrflj5bop5LoibJcclxuICAgIGFzeW5jIGdldFJvbGVzKGN0eCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJvbGVzLmZpbmQoe30pXHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOWQjuWPsOeuoeeQhi0t5re75Yqg6KeS6ImyXHJcbiAgICBhc3luYyBhZGRSb2xlKGN0eCkge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgYm9keVxyXG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxyXG4gICAgICAgIGNvbnN0IHJvbGUgPSBuZXcgUm9sZXMoYm9keSlcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByb2xlLnNhdmUoKVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDlkI7lj7DnrqHnkIYtLeabtOaWsOinkuiJslxyXG4gICAgYXN5bmMgdXBkYXRlUm9sZShjdHgpIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcclxuICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAgICAuLi5ib2R5XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSBkYXRhLl9pZFxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJvbGVzLnVwZGF0ZU9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogYm9keS5faWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIC4uLmRhdGFcclxuICAgICAgICB9KVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDlkI7lj7DnrqHnkIYtLeWIoOmZpOinkuiJslxyXG4gICAgYXN5bmMgZGVsZXRlUm9sZShjdHgpIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSb2xlcy5kZWxldGVPbmUoe1xyXG4gICAgICAgICAgICBfaWQ6IGJvZHkuX2lkXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZCO5Y+w566h55CGLS3ojrflj5bop5LoibLlkI3lrZfliJfooahcclxuICAgIGFzeW5jIGdldFJvbGVOYW1lcyhjdHgpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSb2xlcy5maW5kKHt9LCB7XHJcbiAgICAgICAgICAgIG1lbnU6IDAsXHJcbiAgICAgICAgICAgIGRlc2M6IDBcclxuICAgICAgICB9KVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDlkI7lj7DnrqHnkIYtLeiOt+WPlueUqOaIt+eahOiPnOWNleadg+mZkO+8jOiPnOWNleaVsOaNrlxyXG4gICAgYXN5bmMgZ2V0Um91dGVzKGN0eCkge1xyXG4gICAgICAgIC8vIDEuIG9iaiAtPiBfaWQgLT4gcm9sZXNcclxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgICAgICAgX2lkOiBjdHguX2lkXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICByb2xlczogMVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICByb2xlc1xyXG4gICAgICAgIH0gPSB1c2VyXHJcbiAgICAgICAgLy8gMi4g6YCa6L+H6KeS6ImyIC0+IG1lbnVzXHJcbiAgICAgICAgLy8g55So5oi355qE6KeS6Imy5Y+v6IO95pyJ5aSa5LiqXHJcbiAgICAgICAgLy8g6KeS6ImyIG1lbnVzIC0+IOWOu+mHjVxyXG4gICAgICAgIGxldCBtZW51cyA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCByb2xlID0gcm9sZXNbaV1cclxuICAgICAgICAgICAgY29uc3QgcmlnaHRzID0gYXdhaXQgUm9sZXMuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICByb2xlXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIG1lbnU6IDFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbWVudXMgPSBtZW51cy5jb25jYXQocmlnaHRzLm1lbnUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lbnVzID0gQXJyYXkuZnJvbShuZXcgU2V0KG1lbnVzKSkgLy8g5Y676YeNXHJcbiAgICAgICAgLy8gMy4gbWVudXMgLT4g5Y+v5Lul6K6/6Zeu55qE6I+c5Y2V5pWw5o2uXHJcbiAgICAgICAgY29uc3QgdHJlZURhdGEgPSBhd2FpdCBNZW51LmZpbmQoe30pXHJcbiAgICAgICAgLy8g6YCS5b2S5p+l6K+iIHR5cGUgPSAnbWVudScgJiYgX2lkIOWMheWQq+WcqG1lbnVz5LitXHJcbiAgICAgICAgLy8g57uT5p6E6L+b6KGM5pS56YCgXHJcbiAgICAgICAgY29uc3Qgcm91dGVzID0gZ2V0TWVudURhdGEodHJlZURhdGEsIG1lbnVzLCBjdHguaXNBZG1pbilcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByb3V0ZXNcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZCO5Y+w566h55CGLS3ojrflj5bnlKjmiLfnmoToj5zljZXmnYPpmZAs5Lit6LWE5rqQ5p2D6ZmQXHJcbiAgICBhc3luYyBnZXRPcGVyYXRpb25zKGN0eCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICBfaWQ6IGN0eC5faWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHJvbGVzOiAxXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIHJvbGVzXHJcbiAgICAgICAgfSA9IHVzZXJcclxuICAgICAgICBsZXQgbWVudXMgPSBbXVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm9sZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IHJvbGVzW2ldXHJcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0cyA9IGF3YWl0IFJvbGVzLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgcm9sZVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBtZW51OiAxXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIG1lbnVzID0gbWVudXMuY29uY2F0KHJpZ2h0cy5tZW51KVxyXG4gICAgICAgIH1cclxuICAgICAgICBtZW51cyA9IEFycmF5LmZyb20obmV3IFNldChtZW51cykpXHJcbiAgICAgICAgLy8gMy4gbWVudXMgLT4g5Y+v5Lul6K6/6Zeu55qE6I+c5Y2V5pWw5o2uXHJcbiAgICAgICAgY29uc3QgdHJlZURhdGEgPSBhd2FpdCBNZW51LmZpbmQoe30pXHJcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IGdldFJpZ2h0cyh0cmVlRGF0YSwgbWVudXMpXHJcbiAgICAgICAgcmV0dXJuIG9wZXJhdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICAvLyDlkI7lj7DnrqHnkIYtLeiOt+WPlummlumhtee7n+iuoeaVsOaNrlxyXG4gICAgYXN5bmMgZ2V0U3RhdHMoY3R4KSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9XHJcblxyXG4gICAgICAgIC8vIDEuIOmhtumDqOeahGNhcmRcclxuICAgICAgICBjb25zdCBpbmZvckNhcmREYXRhID0gW11cclxuICAgICAgICBjb25zdCB0aW1lID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIDAwOjAwOjAwJylcclxuICAgICAgICAvLyDku4rlpKnmlrDlop7nlKjmiLfmlbBcclxuICAgICAgICBjb25zdCB1c2VyTmV3Q291bnQgPSBhd2FpdCBVc2VyLmZpbmQoe1xyXG4gICAgICAgICAgICBjcmVhdGVkOiB7XHJcbiAgICAgICAgICAgICAgICAkZ3RlOiB0aW1lXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5jb3VudERvY3VtZW50cygpXHJcbiAgICAgICAgLy8g5Y+R5biW57uf6K6hXHJcbiAgICAgICAgY29uc3QgcG9zdENvdW50ID0gYXdhaXQgUG9zdC5maW5kKHt9KS5jb3VudERvY3VtZW50cygpXHJcblxyXG4gICAgICAgIC8vIOS7iuWkqeaWsOWinuivhOiuulxyXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzQ291bnRzID0gYXdhaXQgQ29tbWVudHMuZmluZCh7XHJcbiAgICAgICAgICAgIGNyZWF0ZWQ6IHtcclxuICAgICAgICAgICAgICAgICRndGU6IHRpbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNvdW50RG9jdW1lbnRzKClcclxuXHJcbiAgICAgICAgLy8g5pys5ZGo54Ot6K6uXHJcblxyXG4gICAgICAgIC8vIHdlZWtkYXnkvJrljrvmn6Xor6JkYXnmmK/lsZ7kuo7lk6rkuIDlkaggd2Vla2RheSgxKeacrOWRqOeahOaYn+acn+S4gFxyXG4gICAgICAgIC8vIGNvbnN0IGRheSA9IG1vbWVudCgnMjAyMC0xMC0yMCcpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cobW9tZW50KGRheSkud2Vla2RheSgxKS5mb3JtYXQoKSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cobW9tZW50KGRheSkud2Vla2RheSg3KS5mb3JtYXQoKSk7XHJcblxyXG4gICAgICAgIC8vIOmHjee9ruaXtuWIhuenklxyXG4gICAgICAgIGNvbnN0IG5vd1plcm8gPSBuZXcgRGF0ZSgpLnNldEhvdXJzKDAsIDAsIDAsIDApXHJcbiAgICAgICAgY29uc3Qgc3RhcnR0aW1lID0gbW9tZW50KG5vd1plcm8pLndlZWtkYXkoMSlcclxuICAgICAgICBjb25zdCBlbmR0aW1lID0gbW9tZW50KG5vd1plcm8pLndlZWtkYXkoOClcclxuICAgICAgICBjb25zdCB3ZWVrRW5kQ291bnQgPSBhd2FpdCBDb21tZW50cy5maW5kKHtcclxuICAgICAgICAgICAgY3JlYXRlZDoge1xyXG4gICAgICAgICAgICAgICAgJGd0ZTogc3RhcnR0aW1lLFxyXG4gICAgICAgICAgICAgICAgJGx0ZTogZW5kdGltZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc0Jlc3Q6ICcxJ1xyXG4gICAgICAgIH0pLmNvdW50RG9jdW1lbnRzKClcclxuXHJcbiAgICAgICAgLy8g5pys5ZGo562+5YiwXHJcbiAgICAgICAgY29uc3Qgc2lnbldlZWtDb3VudCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZCh7XHJcbiAgICAgICAgICAgIGNyZWF0ZWQ6IHtcclxuICAgICAgICAgICAgICAgICRndGU6IHN0YXJ0dGltZSxcclxuICAgICAgICAgICAgICAgICRsdGU6IGVuZHRpbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNvdW50RG9jdW1lbnRzKClcclxuICAgICAgICAvLyDmnKzlkajlj5HluJZcclxuICAgICAgICBjb25zdCBwb3N0V2Vla0NvdW50ID0gYXdhaXQgUG9zdC5maW5kKHtcclxuICAgICAgICAgICAgY3JlYXRlZDoge1xyXG4gICAgICAgICAgICAgICAgJGd0ZTogc3RhcnR0aW1lLFxyXG4gICAgICAgICAgICAgICAgJGx0ZTogZW5kdGltZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY291bnREb2N1bWVudHMoKVxyXG4gICAgICAgIGluZm9yQ2FyZERhdGEucHVzaCh1c2VyTmV3Q291bnQpXHJcbiAgICAgICAgaW5mb3JDYXJkRGF0YS5wdXNoKHBvc3RDb3VudClcclxuICAgICAgICBpbmZvckNhcmREYXRhLnB1c2goY29tbWVudHNDb3VudHMpXHJcbiAgICAgICAgaW5mb3JDYXJkRGF0YS5wdXNoKHdlZWtFbmRDb3VudClcclxuICAgICAgICBpbmZvckNhcmREYXRhLnB1c2goc2lnbldlZWtDb3VudClcclxuICAgICAgICBpbmZvckNhcmREYXRhLnB1c2gocG9zdFdlZWtDb3VudClcclxuXHJcbiAgICAgICAgLy8gMi4g5bem5L6n55qE6aW85Zu+5pWw5o2uXHJcblxyXG4gICAgICAgIGNvbnN0IHBvc3RzQ2F0YWxvZ0NvdW50ID0gYXdhaXQgUG9zdC5hZ2dyZWdhdGUoW3tcclxuICAgICAgICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6ICckY2F0YWxvZycsXHJcbiAgICAgICAgICAgICAgICBjb3VudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdW06IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKVxyXG5cclxuICAgICAgICBjb25zdCBwaWVEYXRhID0ge31cclxuICAgICAgICBwb3N0c0NhdGFsb2dDb3VudC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHBpZURhdGFbaXRlbS5faWRdID0gaXRlbS5jb3VudFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIDMuIOacrOWRqOeahOWPs+S+p+e7n+iuoeaVsOaNrlxyXG4gICAgICAgIC8vIDMuMSDorqHnrpc25Liq5pyI5YmN55qE5pe26Ze077yaIDHlj7cgMDA6MDA6MDBcclxuICAgICAgICAvLyAzLjIg5p+l6K+i5pWw5o2u5bqT5Lit5a+55bqU5pe26Ze05YaF55qE5pWw5o2uICRndGVcclxuICAgICAgICAvLyAzLjMgZ3JvdXDnu4TlkIggLT4gc3VtIC0+IHNvcnTmjpLluo9cclxuXHJcbiAgICAgICAgLy8gY29uc3Qgc3RhcnRNb250aCA9IG1vbWVudCgnMjAyMC0xMC0xMCcpLnN1YnRyYWN0KDUsICdNJykuZGF0ZSgxKS5mb3JtYXQoKSAvLyAyMDIwLTA1LTAxVDAwOjAwOjAwKzA4OjAwIFxyXG4gICAgICAgIC8vIGNvbnN0IGVuZE1vbnRoID0gbW9tZW50KCcyMDIwLTEwLTEwJykuYWRkKDEsICdNJykuZGF0ZSgxKS5mb3JtYXQoKSAgICAgICAgLy8gMjAyMC0xMS0wMVQwMDowMDowMCswODowMFxyXG4gICAgICAgIC8vIGNvbnN0IGVuZE1vbnRoID0gbW9tZW50KCcyMDIwLTEwLTEwJykuZGF0ZSgzMSkuZm9ybWF0KCdZWVlZLU1NLUREIDIzOjU5OjU5JykgLy8gMjAyMC0xMC0zMSAyMzo1OTo1OVxyXG4gICAgICAgIGNvbnN0IHN0YXJ0TW9udGggPSBtb21lbnQobm93WmVybykuc3VidHJhY3QoNSwgJ00nKS5kYXRlKDEpLmZvcm1hdCgpXHJcbiAgICAgICAgY29uc3QgZW5kTW9udGggPSBtb21lbnQobm93WmVybykuYWRkKDEsICdNJykuZGF0ZSgxKS5mb3JtYXQoKVxyXG4gICAgICAgIGxldCBtb250aERhdGEgPSBhd2FpdCBQb3N0LmFnZ3JlZ2F0ZShbe1xyXG4gICAgICAgICAgICAgICAgJG1hdGNoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZ3RlOiBuZXcgRGF0ZShzdGFydE1vbnRoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGx0OiBuZXcgRGF0ZShlbmRNb250aClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIOagvOW8j+WMllxyXG4gICAgICAgICAgICAgICAgJHByb2plY3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDnu5PmnoTljJbnmoTlr7nosaHlr7nlupQkZ3JvdXDkuK3nmoQgX2lkOiRtb250aCAsIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRlVG9TdHJpbmc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJyVZLSVtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6ICckY3JlYXRlZCcgLy8g6ZyA6KaB57uT5p6E5YyW55qEIGtleSAtPiBjcmVhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIOS7peaciOS7veWIhue7hCAxIDIgMyAuLi5cclxuICAgICAgICAgICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIF9pZDonJGNyZWF0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgX2lkOiAnJG1vbnRoJyxcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3VtOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL+aOkuW6j1xyXG4gICAgICAgICAgICAgICAgJHNvcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0pXHJcblxyXG4gICAgICAgIC8vIOWwhuaVsOe7hOi9rOaNouS4uuWvueixoVxyXG4gICAgICAgIG1vbnRoRGF0YSA9IG1vbnRoRGF0YS5yZWR1Y2UoKG9iaiwgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgLi4ub2JqLFxyXG4gICAgICAgICAgICAgICAgW2l0ZW0uX2lkXTogaXRlbS5jb3VudFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwge30pXHJcblxyXG5cclxuICAgICAgICAvLyA0LiDlupXpg6jnmoTmlbDmja5cclxuICAgICAgICBjb25zdCBzdGFydERheSA9IG1vbWVudCgpLnN1YnRyYWN0KDcsICdkYXknKS5mb3JtYXQoKVxyXG4gICAgICAgIGNvbnN0IF9hZ2dyZWdhdGUgPSBhc3luYyAobW9kZWwpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmFnZ3JlZ2F0ZShbe1xyXG4gICAgICAgICAgICAgICAgICAgICRtYXRjaDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZ3RlOiBuZXcgRGF0ZShzdGFydERheSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHByb2plY3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkYXRlVG9TdHJpbmc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICclWS0lbS0lZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogJyRjcmVhdGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAkZ3JvdXA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiAnJG1vbnRoJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdW06IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNvcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVkdWNlKChvYmosIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4ub2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIFtpdGVtLl9pZF06IGl0ZW0uY291bnRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwge30pXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXNlcldlZWtEYXRhID0gYXdhaXQgX2FnZ3JlZ2F0ZShVc2VyKSAvLyAtPiB7IDIwMTktMTAtMDE6IDF9XHJcbiAgICAgICAgY29uc3Qgc2lnbldlZWtEYXRhID0gYXdhaXQgX2FnZ3JlZ2F0ZShTaWduUmVjb3JkKVxyXG4gICAgICAgIGNvbnN0IHBvc3RXZWVrRGF0YSA9IGF3YWl0IF9hZ2dyZWdhdGUoUG9zdClcclxuICAgICAgICBjb25zdCBjb21tZW50c1dlZWtEYXRhID0gYXdhaXQgX2FnZ3JlZ2F0ZShDb21tZW50cylcclxuICAgICAgICAvLyB7dXNlcjogWzEsMiwzLDQsMCwwLDBdfVxyXG4gICAgICAgIGNvbnN0IGRhdGFBcnIgPSBbXVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDY7IGkrKykge1xyXG4gICAgICAgICAgICBkYXRhQXJyLnB1c2gobW9tZW50KCkuc3VidHJhY3QoNiAtIGksICdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQnKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWRkRGF0YSA9IChvYmopID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXJyID0gW11cclxuICAgICAgICAgICAgZGF0YUFyci5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqW2l0ZW1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2gob2JqW2l0ZW1dKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaCgwKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gYXJyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHdlZWtEYXRhID0ge1xyXG4gICAgICAgICAgICB1c2VyOiBhZGREYXRhKHVzZXJXZWVrRGF0YSksXHJcbiAgICAgICAgICAgIHNpZ246IGFkZERhdGEoc2lnbldlZWtEYXRhKSxcclxuICAgICAgICAgICAgcG9zdDogYWRkRGF0YShwb3N0V2Vla0RhdGEpLFxyXG4gICAgICAgICAgICBjb21tZW50czogYWRkRGF0YShjb21tZW50c1dlZWtEYXRhKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBpbmZvckNhcmREYXRhLFxyXG4gICAgICAgICAgICBwaWVEYXRhLFxyXG4gICAgICAgICAgICBtb250aERhdGEsXHJcbiAgICAgICAgICAgIHdlZWtEYXRhXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQWRtaW5Db250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/AdminController.js\n");

/***/ }),

/***/ "./src/api/CommentsController.js":
/*!***************************************!*\
  !*** ./src/api/CommentsController.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/model/user */ \"./src/model/user.js\");\n/* harmony import */ var _model_CommentsHands__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/model/CommentsHands */ \"./src/model/CommentsHands.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/common/utils */ \"./src/common/utils.js\");\n\n\n\n\n\n\nconst canReply = async ctx => {\n  let result = false;\n  const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"getJWTpayload\"])(ctx.header.authorization);\n\n  if (typeof obj._id === 'undefined') {\n    return result;\n  } else {\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n\n    if (user.status === '0') {\n      result = true;\n    }\n\n    return result;\n  }\n};\n\nclass CommentsController {\n  // 获取评论列表\n  async getComments(ctx) {\n    const params = ctx.query;\n    const tid = params.tid;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    let result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommentsList(tid, page, limit);\n    const total = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].queryCount(tid); // 判断用户是否登录，已登录的用户才去判断点赞信息\n\n    let obj = {};\n\n    if (typeof ctx.header.authorization !== 'undefined') {\n      obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"getJWTpayload\"])(ctx.header.authorization);\n    }\n\n    if (typeof obj._id !== 'undefined') {\n      result = result.map(item => item.toJSON()); // result.forEach(async (item) => {\n      //     item.handed = '0'\n      //     const commentsHands = await CommentsHands.findOne({\n      //         cid: item._id,\n      //         uid: obj._id\n      //     })\n      //     if (commentsHands && commentsHands.cid) {\n      //         if (commentsHands.uid === obj._id) {\n      //             item.handed = '1'\n      //         }\n      //     }\n      // });\n      // for循环的效率要比forEach的高\n\n      for (let i = 0; i < result.length; i++) {\n        let item = result[i];\n        item.handed = '0';\n        const commentsHands = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findOne({\n          cid: item._id,\n          uid: obj._id\n        });\n\n        if (commentsHands && commentsHands.cid) {\n          if (commentsHands.uid === obj._id) {\n            item.handed = '1';\n          }\n        }\n      }\n    }\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      total,\n      msg: '评论列表查询成功'\n    };\n  } // 获取用户最近的评论记录\n\n\n  async getCommentPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommetsPublic(params.uid, params.page, parseInt(params.limit));\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '查询最近的评论记录成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询评论记录失败！'\n      };\n    }\n  } // 增加评论\n\n\n  async addComment(ctx) {\n    // 禁言\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言！'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; //验证验证码得正确与否\n\n    let AuthCode = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n\n    if (!AuthCode) {\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码不正确,请检查！'\n      };\n      return;\n    }\n\n    const newComment = new _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"getJWTpayload\"])(ctx.header.authorization);\n    newComment.cuid = obj._id; // 查询贴子作者，以便发送消息\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: body.tid\n    });\n    newComment.uid = post.uid;\n    const comment = await newComment.save();\n    const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTotal(post.uid);\n    global.ws.send(post.uid, JSON.stringify({\n      event: 'message',\n      message: num\n    })); // 评论记数\n\n    const updatePostanswer = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n      _id: body.tid\n    }, {\n      $inc: {\n        answer: 1\n      }\n    });\n\n    if (comment._id && updatePostanswer.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '评论成功',\n        data: comment\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '评论失败'\n      };\n    }\n  } // 更新评论\n\n\n  async updateComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言！'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; //验证验证码得正确与否\n\n    let AuthCode = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n\n    if (!AuthCode) {\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码不正确,请检查！'\n      };\n      return;\n    }\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body.cid\n    }, {\n      $set: body\n    });\n    ctx.body = {\n      code: 200,\n      msg: '评论成功',\n      data: result\n    };\n  } // 评论采纳\n\n\n  async setBestComment(ctx) {\n    // 对用户权限的判断，post uid -> header id\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"getJWTpayload\"])(ctx.header.authorization);\n\n    if (typeof obj === 'undefined' && obj._id !== '') {\n      ctx.body = {\n        code: '401',\n        msg: '用户未登录，或者用户未受权'\n      };\n      return;\n    }\n\n    const params = ctx.query;\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: params.tid\n    });\n\n    if (post.uid === obj._id && post.isEnd === '0') {\n      // 说明这是作者本人，可以去设置isBest\n      // 设置贴子结帖\n      const resultEnd = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n        _id: params.tid\n      }, {\n        $set: {\n          isEnd: '1'\n        }\n      }); // 设置最佳答案\n\n      const resultBest = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n        _id: params.cid\n      }, {\n        $set: {\n          isBest: '1'\n        }\n      });\n\n      if (resultEnd.ok === 1 && resultBest.ok === 1) {\n        // 把积分值给采纳的用户\n        const comment = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByCid(params.cid);\n        const resultFav = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n          _id: comment.cuid\n        }, {\n          $inc: {\n            favs: parseInt(post.fav)\n          }\n        });\n\n        if (resultFav.ok === 1) {\n          ctx.body = {\n            code: 200,\n            msg: '设置成功',\n            data: resultFav\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            msg: '设置最佳答案-更新用户失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '设置失败',\n          data: { ...resultEnd,\n            ...resultBest\n          }\n        };\n      }\n    }\n  } // 点赞\n\n\n  async setHands(ctx) {\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"getJWTpayload\"])(ctx.header.authorization);\n\n    if (typeof obj === 'undefined' && obj._id !== '') {\n      ctx.body = {\n        code: '401',\n        msg: '用户未登录，或者用户未受权'\n      };\n      return;\n    }\n\n    const params = ctx.query; // 判断用户是否已经点赞\n\n    const tmp = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find({\n      cid: params.cid,\n      uid: obj._id\n    });\n\n    if (tmp.length > 0) {\n      ctx.body = {\n        code: 500,\n        msg: '您已经点赞，请勿重复点赞'\n      };\n      return;\n    } // 新增一条点赞记录\n\n\n    const newHands = new _model_CommentsHands__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      cid: params.cid,\n      uid: obj._id\n    });\n    const data = await newHands.save(); // 更新comments表中对应的记录的hands信息 +1\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.cid\n    }, {\n      $inc: {\n        hands: 1\n      }\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '点赞成功',\n        data: data\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '保存点赞记录失败！'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new CommentsController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbW1lbnRzQ29udHJvbGxlci5qcz9kNGI0Il0sIm5hbWVzIjpbImNhblJlcGx5IiwiY3R4IiwicmVzdWx0Iiwib2JqIiwiZ2V0SldUcGF5bG9hZCIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJfaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlEIiwic3RhdHVzIiwiQ29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJwYXJhbXMiLCJxdWVyeSIsInRpZCIsInBhZ2UiLCJsaW1pdCIsInBhcnNlSW50IiwiQ29tbWVudHMiLCJnZXRDb21tZW50c0xpc3QiLCJ0b3RhbCIsInF1ZXJ5Q291bnQiLCJtYXAiLCJpdGVtIiwidG9KU09OIiwiaSIsImxlbmd0aCIsImhhbmRlZCIsImNvbW1lbnRzSGFuZHMiLCJDb21tZW50c0hhbmRzIiwiZmluZE9uZSIsImNpZCIsInVpZCIsImJvZHkiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldENvbW1lbnRQdWJsaWMiLCJnZXRDb21tZXRzUHVibGljIiwiYWRkQ29tbWVudCIsImNoZWNrIiwicmVxdWVzdCIsInNpZCIsIkF1dGhDb2RlIiwiY2hlY2tDb2RlIiwibmV3Q29tbWVudCIsImN1aWQiLCJwb3N0IiwiUG9zdCIsImNvbW1lbnQiLCJzYXZlIiwibnVtIiwiZ2V0VG90YWwiLCJnbG9iYWwiLCJ3cyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZXZlbnQiLCJtZXNzYWdlIiwidXBkYXRlUG9zdGFuc3dlciIsInVwZGF0ZU9uZSIsIiRpbmMiLCJhbnN3ZXIiLCJvayIsInVwZGF0ZUNvbW1lbnQiLCIkc2V0Iiwic2V0QmVzdENvbW1lbnQiLCJpc0VuZCIsInJlc3VsdEVuZCIsInJlc3VsdEJlc3QiLCJpc0Jlc3QiLCJmaW5kQnlDaWQiLCJyZXN1bHRGYXYiLCJmYXZzIiwiZmF2Iiwic2V0SGFuZHMiLCJ0bXAiLCJmaW5kIiwibmV3SGFuZHMiLCJoYW5kcyJdLCJtYXBw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VCxDQUFtQjtBQUNwQ3hELFNBQUcsRUFBRU8sTUFBTSxDQUFDbUI7QUFEd0IsS0FBbkIsRUFFbEI7QUFDQytCLFVBQUksRUFBRTtBQUNGa0IsYUFBSyxFQUFFO0FBREw7QUFEUCxLQUZrQixDQUFyQjs7QUFPQSxRQUFJaEYsTUFBTSxDQUFDZ0UsRUFBUCxLQUFjLENBQWxCLEVBQXFCO0FBQ2pCakUsU0FBRyxDQUFDa0MsSUFBSixHQUFXO0FBQ1BDLFlBQUksRUFBRSxHQURDO0FBRVBFLFdBQUcsRUFBRSxNQUZFO0FBR1BELFlBQUksRUFBRUE7QUFIQyxPQUFYO0FBS0gsS0FORCxNQU1PO0FBQ0hwQyxTQUFHLENBQUNrQyxJQUFKLEdBQVc7QUFDUEMsWUFBSSxFQUFFLEdBREM7QUFFUEUsV0FBRyxFQUFFO0FBRkUsT0FBWDtBQUlIO0FBRUo7O0FBcFRvQjs7QUEwVFYsbUVBQUkxQixrQkFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Db21tZW50c0NvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWVudHMgZnJvbSAnQC9tb2RlbC9Db21tZW50cydcclxuaW1wb3J0IFBvc3QgZnJvbSAnQC9tb2RlbC9Qb3N0J1xyXG5pbXBvcnQgVXNlciBmcm9tICdAL21vZGVsL3VzZXInXHJcbmltcG9ydCBDb21tZW50c0hhbmRzIGZyb20gJ0AvbW9kZWwvQ29tbWVudHNIYW5kcydcclxuaW1wb3J0IHtcclxuICAgIGNoZWNrQ29kZSxcclxuICAgIGdldEpXVHBheWxvYWRcclxufSBmcm9tICdAL2NvbW1vbi91dGlscydcclxuXHJcblxyXG5jb25zdCBjYW5SZXBseSA9IGFzeW5jIChjdHgpID0+IHtcclxuICAgIGxldCByZXN1bHQgPSBmYWxzZVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBpZiAodHlwZW9mIG9iai5faWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRChvYmouX2lkKVxyXG4gICAgICAgIGlmICh1c2VyLnN0YXR1cyA9PT0gJzAnKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDb21tZW50c0NvbnRyb2xsZXIge1xyXG4gICAgLy8g6I635Y+W6K+E6K665YiX6KGoXHJcbiAgICBhc3luYyBnZXRDb21tZW50cyhjdHgpIHtcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgICAgICBjb25zdCB0aWQgPSBwYXJhbXMudGlkXHJcbiAgICAgICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyYW1zLnBhZ2UgOiAwXHJcbiAgICAgICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMTBcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWVudHNMaXN0KHRpZCwgcGFnZSwgbGltaXQpXHJcbiAgICAgICAgY29uc3QgdG90YWwgPSBhd2FpdCBDb21tZW50cy5xdWVyeUNvdW50KHRpZClcclxuXHJcbiAgICAgICAgLy8g5Yik5pat55So5oi35piv5ZCm55m75b2V77yM5bey55m75b2V55qE55So5oi35omN5Y675Yik5pat54K56LWe5L+h5oGvXHJcbiAgICAgICAgbGV0IG9iaiA9IHt9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjdHguaGVhZGVyLmF1dGhvcml6YXRpb24gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmouX2lkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGl0ZW0gPT4gaXRlbS50b0pTT04oKSlcclxuICAgICAgICAgICAgLy8gcmVzdWx0LmZvckVhY2goYXN5bmMgKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIGl0ZW0uaGFuZGVkID0gJzAnXHJcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBjb21tZW50c0hhbmRzID0gYXdhaXQgQ29tbWVudHNIYW5kcy5maW5kT25lKHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBjaWQ6IGl0ZW0uX2lkLFxyXG4gICAgICAgICAgICAvLyAgICAgICAgIHVpZDogb2JqLl9pZFxyXG4gICAgICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAgICAgLy8gICAgIGlmIChjb21tZW50c0hhbmRzICYmIGNvbW1lbnRzSGFuZHMuY2lkKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGNvbW1lbnRzSGFuZHMudWlkID09PSBvYmouX2lkKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGl0ZW0uaGFuZGVkID0gJzEnXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy8gZm9y5b6q546v55qE5pWI546H6KaB5q+UZm9yRWFjaOeahOmrmFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSByZXN1bHRbaV1cclxuICAgICAgICAgICAgICAgIGl0ZW0uaGFuZGVkID0gJzAnXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tZW50c0hhbmRzID0gYXdhaXQgQ29tbWVudHNIYW5kcy5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBjaWQ6IGl0ZW0uX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVpZDogb2JqLl9pZFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50c0hhbmRzICYmIGNvbW1lbnRzSGFuZHMuY2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRzSGFuZHMudWlkID09PSBvYmouX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGFuZGVkID0gJzEnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgICAgIHRvdGFsLFxyXG4gICAgICAgICAgICBtc2c6ICfor4TorrrliJfooajmn6Xor6LmiJDlip8nXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDojrflj5bnlKjmiLfmnIDov5HnmoTor4TorrrorrDlvZVcclxuICAgIGFzeW5jIGdldENvbW1lbnRQdWJsaWMoY3R4KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWV0c1B1YmxpYyhwYXJhbXMudWlkLCBwYXJhbXMucGFnZSwgcGFyc2VJbnQocGFyYW1zLmxpbWl0KSlcclxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICfmn6Xor6LmnIDov5HnmoTor4TorrrorrDlvZXmiJDlip8nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+afpeivouivhOiuuuiusOW9leWksei0pe+8gSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDlop7liqDor4TorrpcclxuICAgIGFzeW5jIGFkZENvbW1lbnQoY3R4KSB7XHJcbiAgICAgICAgLy8g56aB6KiAXHJcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBjYW5SZXBseShjdHgpXHJcbiAgICAgICAgaWYgKCFjaGVjaykge1xyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+eUqOaIt+W3suiiq+emgeiogO+8gSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgYm9keVxyXG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxyXG4gICAgICAgIGxldCBzaWQgPSBib2R5LnNpZFxyXG4gICAgICAgIGxldCBjb2RlID0gYm9keS5jb2RlXHJcbiAgICAgICAgLy/pqozor4Hpqozor4HnoIHlvpfmraPnoa7kuI7lkKZcclxuICAgICAgICBsZXQgQXV0aENvZGUgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgICAgIGlmICghQXV0aENvZGUpIHtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHkuI3mraPnoa4s6K+35qOA5p+l77yBJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbmV3Q29tbWVudCA9IG5ldyBDb21tZW50cyhib2R5KVxyXG5cclxuICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgICAgICBuZXdDb21tZW50LmN1aWQgPSBvYmouX2lkXHJcblxyXG4gICAgICAgIC8vIOafpeivoui0tOWtkOS9nOiAhe+8jOS7peS+v+WPkemAgea2iOaBr1xyXG4gICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICBfaWQ6IGJvZHkudGlkXHJcbiAgICAgICAgfSlcclxuICAgICAgICBuZXdDb21tZW50LnVpZCA9IHBvc3QudWlkXHJcbiAgICAgICAgY29uc3QgY29tbWVudCA9IGF3YWl0IG5ld0NvbW1lbnQuc2F2ZSgpXHJcblxyXG4gICAgICAgIGNvbnN0IG51bSA9IGF3YWl0IENvbW1lbnRzLmdldFRvdGFsKHBvc3QudWlkKVxyXG4gICAgICAgIGdsb2JhbC53cy5zZW5kKHBvc3QudWlkLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIGV2ZW50OiAnbWVzc2FnZScsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IG51bVxyXG4gICAgICAgIH0pKVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIOivhOiuuuiusOaVsFxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZVBvc3RhbnN3ZXIgPSBhd2FpdCBQb3N0LnVwZGF0ZU9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogYm9keS50aWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICRpbmM6IHtcclxuICAgICAgICAgICAgICAgIGFuc3dlcjogMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKGNvbW1lbnQuX2lkICYmIHVwZGF0ZVBvc3RhbnN3ZXIub2sgPT09IDEpIHtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICfor4TorrrmiJDlip8nLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogY29tbWVudFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICfor4TorrrlpLHotKUnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5pu05paw6K+E6K66XHJcbiAgICBhc3luYyB1cGRhdGVDb21tZW50KGN0eCkge1xyXG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgY2FuUmVwbHkoY3R4KVxyXG4gICAgICAgIGlmICghY2hlY2spIHtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICfnlKjmiLflt7LooqvnpoHoqIDvvIEnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcclxuICAgICAgICBsZXQgc2lkID0gYm9keS5zaWRcclxuICAgICAgICBsZXQgY29kZSA9IGJvZHkuY29kZVxyXG4gICAgICAgIC8v6aqM6K+B6aqM6K+B56CB5b6X5q2j56Gu5LiO5ZCmXHJcbiAgICAgICAgbGV0IEF1dGhDb2RlID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcclxuICAgICAgICBpZiAoIUF1dGhDb2RlKSB7XHJcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICAgICAgbXNnOiAn5Zu+54mH6aqM6K+B56CB5LiN5q2j56GuLOivt+ajgOafpe+8gSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHtcclxuICAgICAgICAgICAgX2lkOiBib2R5LmNpZFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgJHNldDogYm9keVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgbXNnOiAn6K+E6K665oiQ5YqfJyxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDor4Torrrph4fnurNcclxuICAgIGFzeW5jIHNldEJlc3RDb21tZW50KGN0eCkge1xyXG4gICAgICAgIC8vIOWvueeUqOaIt+adg+mZkOeahOWIpOaWre+8jHBvc3QgdWlkIC0+IGhlYWRlciBpZFxyXG4gICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyAmJiBvYmouX2lkICE9PSAnJykge1xyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6ICc0MDEnLFxyXG4gICAgICAgICAgICAgICAgbXNnOiAn55So5oi35pyq55m75b2V77yM5oiW6ICF55So5oi35pyq5Y+X5p2DJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuXHJcbiAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogcGFyYW1zLnRpZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKHBvc3QudWlkID09PSBvYmouX2lkICYmIHBvc3QuaXNFbmQgPT09ICcwJykge1xyXG4gICAgICAgICAgICAvLyDor7TmmI7ov5nmmK/kvZzogIXmnKzkurrvvIzlj6/ku6Xljrvorr7nva5pc0Jlc3RcclxuICAgICAgICAgICAgLy8g6K6+572u6LS05a2Q57uT5biWXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEVuZCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHtcclxuICAgICAgICAgICAgICAgIF9pZDogcGFyYW1zLnRpZFxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNFbmQ6ICcxJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyDorr7nva7mnIDkvbPnrZTmoYhcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0QmVzdCA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU9uZSh7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IHBhcmFtcy5jaWRcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQmVzdDogJzEnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0RW5kLm9rID09PSAxICYmIHJlc3VsdEJlc3Qub2sgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vIOaKiuenr+WIhuWAvOe7memHh+e6s+eahOeUqOaIt1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnRzLmZpbmRCeUNpZChwYXJhbXMuY2lkKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0RmF2ID0gYXdhaXQgVXNlci51cGRhdGVPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogY29tbWVudC5jdWlkXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGluYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXZzOiBwYXJzZUludChwb3N0LmZhdilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdEZhdi5vayA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ+iuvue9ruaIkOWKnycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdEZhdlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAn6K6+572u5pyA5L2z562U5qGILeabtOaWsOeUqOaIt+Wksei0pSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAn6K6+572u5aSx6LSlJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3VsdEVuZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucmVzdWx0QmVzdFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g54K56LWeXHJcbiAgICBhc3luYyBzZXRIYW5kcyhjdHgpIHtcclxuICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgJiYgb2JqLl9pZCAhPT0gJycpIHtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnNDAxJyxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+eUqOaIt+acqueZu+W9le+8jOaIluiAheeUqOaIt+acquWPl+adgydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcblxyXG5cclxuICAgICAgICAvLyDliKTmlq3nlKjmiLfmmK/lkKblt7Lnu4/ngrnotZ5cclxuICAgICAgICBjb25zdCB0bXAgPSBhd2FpdCBDb21tZW50c0hhbmRzLmZpbmQoe1xyXG4gICAgICAgICAgICBjaWQ6IHBhcmFtcy5jaWQsXHJcbiAgICAgICAgICAgIHVpZDogb2JqLl9pZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKHRtcC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICAgICAgbXNnOiAn5oKo5bey57uP54K56LWe77yM6K+35Yu/6YeN5aSN54K56LWeJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIOaWsOWinuS4gOadoeeCuei1nuiusOW9lVxyXG4gICAgICAgIGNvbnN0IG5ld0hhbmRzID0gbmV3IENvbW1lbnRzSGFuZHMoe1xyXG4gICAgICAgICAgICBjaWQ6IHBhcmFtcy5jaWQsXHJcbiAgICAgICAgICAgIHVpZDogb2JqLl9pZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG5ld0hhbmRzLnNhdmUoKVxyXG4gICAgICAgIC8vIOabtOaWsGNvbW1lbnRz6KGo5Lit5a+55bqU55qE6K6w5b2V55qEaGFuZHPkv6Hmga8gKzFcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy51cGRhdGVPbmUoe1xyXG4gICAgICAgICAgICBfaWQ6IHBhcmFtcy5jaWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICRpbmM6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRzOiAxXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICfngrnotZ7miJDlip8nLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICfkv53lrZjngrnotZ7orrDlvZXlpLHotKXvvIEnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29tbWVudHNDb250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/CommentsController.js\n");

/***/ }),

/***/ "./src/api/ContentController.js":
/*!**************************************!*\
  !*** ./src/api/ContentController.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Links__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Links */ \"./src/model/Links.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid/dist/v4 */ \"uuid/dist/v4\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid_dist_v4__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! make-dir */ \"make-dir\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(make_dir__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/model/user */ \"./src/model/user.js\");\n/* harmony import */ var _model_PostTags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/model/PostTags */ \"./src/model/PostTags.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ContentController {\n  // 获取文章列表\n  async getPostList(ctx) {\n    const body = qs__WEBPACK_IMPORTED_MODULE_11___default.a.parse(ctx.query);\n    const sort = body.sort ? body.sort : 'created';\n    const page = body.page ? parseInt(body.page) : 0;\n    const limit = body.limit ? parseInt(body.limit) : 20;\n    const options = {};\n\n    if (body.title) {\n      options.title = {\n        $regex: body.title\n      };\n    }\n\n    if (body.catalog && body.catalog.length > 0) {\n      options.catalog = {\n        $in: body.catalog\n      };\n    }\n\n    if (body.isTop) {\n      options.isTop = body.isTop;\n    }\n\n    if (body.isEnd) {\n      options.isEnd = body.isEnd;\n    }\n\n    if (body.status) {\n      options.status = body.status;\n    }\n\n    if (typeof body.tag !== 'undefined' && body.tag !== '') {\n      options.tags = {\n        $elemMatch: {\n          name: body.tag\n        }\n      };\n    }\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getList(options, sort, page, limit);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countList(options);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '获取文章列表成功',\n      total: total\n    };\n  } // 查询友链\n\n\n  async getLinks(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'links'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 查询温馨提醒\n\n\n  async getTips(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'tips'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 本周热议\n\n\n  async getTopWeek(ctx) {\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTopWeek();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 上传图片\n\n\n  async uploadImg(ctx) {\n    const file = ctx.request.files.file; // 图片名称、图片格式、存储的位置、返回前台可读取的路径\n\n    const ext = file.name.split('.').pop(); // const dir = `../../public/${moment().format('YYYYMMDD')}`\n\n    const dir = `${_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"].uploadPath}/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}`; //判断路径是否存在，不存在则创建\n    // 方法一\n    // await dirExists(dir)\n    //方法二\n\n    await make_dir__WEBPACK_IMPORTED_MODULE_6___default()(dir); //存储文件到指定的路径\n\n    const picname = uuid_dist_v4__WEBPACK_IMPORTED_MODULE_3___default()();\n    const SavePath = `${dir}/${picname}.${ext}`;\n    const readStream = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createReadStream(file.path, {\n      highWaterMark: 64 * 1024 //默认64k\n\n    });\n    const upStream = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createWriteStream(SavePath);\n    const filePath = `/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}/${picname}.${ext}`; // 方法一\n    // readStream.pipe(upStream)\n    //方法二 应对大型文件，对其上传进度、过程等进行监听\n\n    const stat = fs__WEBPACK_IMPORTED_MODULE_2___default.a.statSync(file.path); // console.log('stat', stat.size);\n\n    let totalLength = 0; //分块数据\n    //读取数据的监听\n\n    readStream.on('data', function (chunk) {\n      // chunk 每次发送的区块数据\n      totalLength += chunk.length;\n\n      if (upStream.write(chunk) === false) {\n        readStream.pause();\n      }\n    }); //缓存区充满并被写入完成，处于清空状态时触发\n\n    readStream.on('drain', () => {\n      console.log('readStream drain');\n      readStream.resume(); //继续读取\n    }); // 读取结束\n\n    readStream.on('end', () => {\n      console.log('readStream end');\n      upStream.end(); //关闭写入流\n    }); // 读取发生错误\n\n    readStream.on('error', () => {\n      console.log('readStream error');\n    });\n    ctx.body = {\n      code: 200,\n      msg: \"图片上传成功\",\n      data: filePath\n    };\n  } // 添加新帖\n\n\n  async addPost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTpayload\"])(ctx.header.authorization); // 判断用户的积分数是否 > fav，否则，提示用户积分不足发贴\n      // 用户积分足够的时候，新建Post，减除用户对应的积分\n\n      const user = await _model_user__WEBPACK_IMPORTED_MODULE_8__[\"default\"].findByID({\n        _id: obj._id\n      });\n\n      if (user.favs < body.fav) {\n        ctx.body = {\n          code: 501,\n          msg: '积分不足'\n        };\n        return;\n      } else {\n        await _model_user__WEBPACK_IMPORTED_MODULE_8__[\"default\"].updateOne({\n          _id: obj._id\n        }, {\n          $inc: {\n            favs: -body.fav\n          }\n        });\n      }\n\n      const newPost = new _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n      newPost.uid = obj._id;\n      const result = await newPost.save();\n      ctx.body = {\n        code: 200,\n        msg: '成功的保存的文章',\n        data: result\n      };\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 更新帖子\n\n\n  async updatePost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTpayload\"])(ctx.header.authorization); // 判断帖子作者是否为本人\n\n      const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n        _id: body.tid\n      });\n\n      if (post.uid === obj._id && post.isEnd === '0') {\n        await ContentController.prototype.updatePost(ctx); // const result = await Post.updateOne({\n        //     _id: body.tid\n        // }, body)\n        // if (result.ok === 1) {\n        //     ctx.body = {\n        //         code: 200,\n        //         data: result,\n        //         msg: '更新帖子成功'\n        //     }\n        // } else {\n        //     ctx.body = {\n        //         code: 500,\n        //         data: result,\n        //         msg: '编辑帖子，更新失败'\n        //     }\n        // }\n      } else {\n        ctx.body = {\n          code: 401,\n          msg: '没有操作的权限/贴子已结帖'\n        };\n      }\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 获取文章详情\n\n\n  async getPostDetail(ctx) {\n    const params = ctx.query;\n\n    if (!params.tid) {\n      ctx.body = {\n        code: 500,\n        msg: '文章id为空'\n      };\n      return;\n    }\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByTid({\n      _id: params.tid\n    });\n    let isFav = 0; // 判断用户是否传递Authorization的数据，即是否登录\n\n    if (typeof ctx.header.authorization !== 'undefined' && ctx.header.authorization !== '') {\n      const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTpayload\"])(ctx.header.authorization);\n      const userCollect = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__[\"default\"].findOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n\n      if (userCollect && userCollect.tid) {\n        isFav = 1;\n      }\n    }\n\n    const newPost = post.toJSON();\n    newPost.isFav = isFav; // 更新文章阅读记数\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.tid\n    }, {\n      $inc: {\n        reads: 1\n      }\n    }); // const result = rename(post.toJSON(), 'uid', 'user')\n\n    if (post._id && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: newPost,\n        msg: '查询文章详情成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '获取文章详情失败'\n      };\n    }\n  } // 获取用户发帖记录\n\n\n  async getPostByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTpayload\"])(ctx.header.authorization);\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid( // params.uid,\n    obj._id, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '无发表贴'\n      };\n    }\n  } // 获取用户发贴记录\n\n\n  async getPostPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(params.uid, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(params.uid);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 删除贴子\n\n\n  async deletePostByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTpayload\"])(ctx.header.authorization);\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: obj._id,\n      _id: params.tid\n    });\n\n    if (post.id === params.tid && post.isEnd === '0') {\n      // 不能直接使用this,因为此时导出的是一个new ContentController()的实例,this是拿不到方法的\n      // console.log(this);\n      // await this.deletePost(ctx)\n      await ContentController.prototype.deletePost(ctx); // const result = await Post.deleteOne({\n      //     _id: params.tid\n      // })\n      // if (result.ok === 1) {\n      //     ctx.body = {\n      //         code: 200,\n      //         data: result,\n      //         msg: '删除贴子成功'\n      //     }\n      // } else {\n      //     ctx.body = {\n      //         code: 500,\n      //         msg: '删除贴子失败'\n      //     }\n      // }\n    } else {\n      ctx.body = {\n        code: 401,\n        msg: '无权限删除贴子'\n      };\n    }\n  } // 后台管理---删除贴子\n\n\n  async deletePost(ctx) {\n    const params = ctx.query;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n      _id: params.tid\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '删除贴子成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '删除贴子失败'\n      };\n    }\n  } // 后台管理---更新贴子\n\n\n  async updatePost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '更新帖子成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        data: result,\n        msg: '编辑帖子，更新失败'\n      };\n    }\n  } // 后台---添加标签\n\n\n  async addTag(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const tag = new _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"](body);\n    await tag.save();\n    ctx.body = {\n      code: 200,\n      msg: '标签保存成功'\n    };\n  } // 后台---添加标签\n\n\n  async getTags(ctx) {\n    const params = ctx.query;\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getList({}, page, limit);\n    const total = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].countList({});\n    ctx.body = {\n      code: 200,\n      data: result,\n      total,\n      msg: '查询tags成功！'\n    };\n  } // 后台---删除标签\n\n\n  async removeTag(ctx) {\n    const params = ctx.query;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].deleteOne({\n      id: params.ptid\n    });\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '删除成功'\n    };\n  } // 后台---更新标签\n\n\n  async updateTag(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '更新成功'\n    };\n  } // // 更新帖子\n  // async updatePost(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const sid = body.sid\n  //     const code = body.code\n  //     // 验证图片验证码的时效性、正确性\n  //     const result = await checkCode(sid, code)\n  //     if (result) {\n  //         const obj = await getJWTpayload(ctx.header.authorization)\n  //         // 判断帖子作者是否为本人\n  //         const post = await Post.findOne({\n  //             _id: body.tid\n  //         })\n  //         // 判断帖子是否结贴\n  //         if (post.uid === obj._id && post.isEnd === '0') {\n  //             const result = await Post.updateOne({\n  //                 _id: body.tid\n  //             }, body)\n  //             if (result.ok === 1) {\n  //                 ctx.body = {\n  //                     code: 200,\n  //                     data: result,\n  //                     msg: '更新帖子成功'\n  //                 }\n  //             } else {\n  //                 ctx.body = {\n  //                     code: 500,\n  //                     data: result,\n  //                     msg: '编辑帖子，更新失败'\n  //                 }\n  //             }\n  //         } else {\n  //             ctx.body = {\n  //                 code: 401,\n  //                 msg: '没有操作的权限'\n  //             }\n  //         }\n  //     } else {\n  //         // 图片验证码验证失败\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '图片验证码验证失败'\n  //         }\n  //     }\n  // }\n  // async updatePostByTid(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const result = await Post.updateOne({\n  //         _id: body._id\n  //     }, body)\n  //     if (result.ok === 1) {\n  //         ctx.body = {\n  //             code: 200,\n  //             data: result,\n  //             msg: '更新帖子成功'\n  //         }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             data: result,\n  //             msg: '编辑帖子，更新失败'\n  //         }\n  //     }\n  // }\n  // 获取文章详情\n  // // 获取用户发贴记录\n  // async getPostByUid(ctx) {\n  //     const params = ctx.query\n  //     const obj = await getJWTpayload(ctx.header.authorization)\n  //     const result = await Post.getListByUid(\n  //         obj._id,\n  //         params.page,\n  //         params.limit ? parseInt(params.limit) : 10\n  //     )\n  //     const total = await Post.countByUid(obj._id)\n  //     if (result.length > 0) {\n  //         ctx.body = {\n  //             code: 200,\n  //             data: result,\n  //             total,\n  //             msg: '查询列表成功'\n  //         }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '查询列表失败'\n  //         }\n  //     }\n  // }\n  // // 获取用户发贴记录\n  // async getPostPublic(ctx) {\n  //     const params = ctx.query\n  //     const result = await Post.getListByUid(\n  //         params.uid,\n  //         params.page,\n  //         params.limit ? parseInt(params.limit) : 10\n  //     )\n  //     const total = await Post.countByUid(params.uid)\n  //     if (result.length > 0) {\n  //         ctx.body = {\n  //             code: 200,\n  //             data: result,\n  //             total,\n  //             msg: '查询列表成功'\n  //         }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '查询列表失败'\n  //         }\n  //     }\n  // }\n  // // 删除发贴记录\n  // async deletePostByUid(ctx) {\n  //     const params = ctx.query\n  //     const obj = await getJWTpayload(ctx.header.authorization)\n  //     const post = await Post.findOne({\n  //         uid: obj._id,\n  //         _id: params.tid\n  //     })\n  //     if (post.id === params.tid && post.isEnd === '0') {\n  //         await ContentController.prototype.deletePost(ctx)\n  //         // const result = await Post.deleteOne({ _id: params.tid })\n  //         // if (result.ok === 1) {\n  //         //   ctx.body = {\n  //         //     code: 200,\n  //         //     msg: '删除成功'\n  //         //   }\n  //         // } else {\n  //         //   ctx.body = {\n  //         //     code: 500,\n  //         //     msg: '执行删除失败！'\n  //         //   }\n  //         // }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '删除失败，无权限！'\n  //         }\n  //     }\n  // }\n  // async deletePost(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const result = await Post.deleteMany({\n  //         _id: {\n  //             $in: body.ids\n  //         }\n  //     })\n  //     if (result.ok === 1) {\n  //         ctx.body = {\n  //             code: 200,\n  //             msg: '删除成功'\n  //         }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '执行删除失败！'\n  //         }\n  //     }\n  // }\n  // // 添加标签\n  // async addTag(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const tag = new PostTags(body)\n  //     await tag.save()\n  //     ctx.body = {\n  //         code: 200,\n  //         msg: '标签保存成功'\n  //     }\n  // }\n  // // 添加标签\n  // async getTags(ctx) {\n  //     const params = ctx.query\n  //     const page = params.page ? parseInt(params.page) : 0\n  //     const limit = params.limit ? parseInt(params.limit) : 10\n  //     const result = await PostTags.getList({}, page, limit)\n  //     const total = await PostTags.countList({})\n  //     ctx.body = {\n  //         code: 200,\n  //         data: result,\n  //         total,\n  //         msg: '查询tags成功！'\n  //     }\n  // }\n  // // 删除标签\n  // async removeTag(ctx) {\n  //     const params = ctx.query\n  //     const result = await PostTags.deleteOne({\n  //         id: params.ptid\n  //     })\n  //     ctx.body = {\n  //         code: 200,\n  //         data: result,\n  //         msg: '删除成功'\n  //     }\n  // }\n  // // 删除标签\n  // async updateTag(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const result = await PostTags.updateOne({\n  //             _id: body._id\n  //         },\n  //         body\n  //     )\n  //     ctx.body = {\n  //         code: 200,\n  //         data: result,\n  //         msg: '更新成功'\n  //     }\n  // }\n  // async updatePostBatch(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const result = await Post.updateMany({\n  //         _id: {\n  //             $in: body.ids\n  //         }\n  //     }, {\n  //         $set: {\n  //             ...body.settings\n  //         }\n  //     })\n  //     ctx.body = {\n  //         code: 200,\n  //         data: result\n  //     }\n  // }\n\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ContentController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzPzI1NjUiXSwibmFtZXMiOlsiQ29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0TGlzdCIsImN0eCIsImJvZHkiLCJxcyIsInBhcnNlIiwicXVlcnkiLCJzb3J0IiwicGFnZSIsInBhcnNlSW50IiwibGltaXQiLCJvcHRpb25zIiwidGl0bGUiLCIkcmVnZXgiLCJjYXRhbG9nIiwibGVuZ3RoIiwiJGluIiwiaXNUb3AiLCJpc0VuZCIsInN0YXR1cyIsInRhZyIsInRhZ3MiLCIkZWxlbU1hdGNoIiwibmFtZSIsInJlc3VsdCIsIlBvc3QiLCJnZXRMaXN0IiwidG90YWwiLCJjb3VudExpc3QiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldExpbmtzIiwiTGlua3MiLCJmaW5kIiwidHlwZSIsImdldFRpcHMiLCJnZXRUb3BXZWVrIiwidXBsb2FkSW1nIiwiZmlsZSIsInJlcXVlc3QiLCJmaWxlcyIsImV4dCIsInNwbGl0IiwicG9wIiwiZGlyIiwiY29uZmlnIiwidXBsb2FkUGF0aCIsIm1vbWVudCIsImZvcm1hdCIsIm1rZGlyIiwicGljbmFtZSIsInV1aWQiLCJTYXZlUGF0aCIsInJlYWRTdHJlYW0iLCJmcyIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwYXRoIiwiaGlnaFdhdGVyTWFyayIsInVwU3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJmaWxlUGF0aCIsInN0YXQiLCJzdGF0U3luYyIsInRvdGFsTGVuZ3RoIiwib24iLCJjaHVuayIsIndyaXRlIiwicGF1c2UiLCJjb25zb2xlIiwibG9nIiwicmVzdW1lIiwiZW5kIiwiYWRkUG9zdCIsInNpZCIsImNoZWNrQ29kZSIsIm9iaiIsImdldEpXVHBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwidXNlciIsIlVzZXIiLCJmaW5kQnlJRCIsIl9pZCIsImZhdnMiLCJmYXYiLCJ1cGRhdGVPbmUiLCIkaW5jIiwibmV3UG9zdCIsInVpZCIsInNhdmUiLCJ1cGRhdGVQb3N0IiwicG9zdCIsImZpbmRPbmUiLCJ0aWQiLCJwcm90b3R5cGUiLCJnZXRQb3N0RGV0YWlsIiwicGFyYW1zIiwiZmluZEJ5VGlkIiwiaXNGYXYiLCJ1c2VyQ29sbGVjdCIsIlVzZXJDb2xsZWN0IiwidG9KU09OIiwicmVhZHMiLCJvayIsImdldFBvc3RCeVVpZCIsImdldExpc3RCeVVpZCIsImNvdW50QnlVaWQiLCJnZXRQb3N0UHVibGljIiwiZGVsZXRlUG9zdEJ5VWlkIiwiaWQiLCJkZWxldGVQb3N0IiwiZGVsZXRlT25lIiwiYWRkVGFnIiwiUG9zdFRhZ3MiLCJnZXRUYWdzIiwicmVtb3ZlVGFnIiwicHRpZCIsInVwZGF0ZVRhZyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLGlCQUFOLENBQXdCO0FBQ3BCO0FBQ0EsUUFBTUMsV0FBTixDQUFrQkMsR0FBbEIsRUFBdUI7QUFDbkIsVUFBTUMsSUFBSSxHQUFHQywwQ0FBRSxDQUFDQyxLQUFILENBQVNILEdBQUcsQ0FBQ0ksS0FBYixDQUFiO0FBRUEsVUFBTUMsSUFBSSxHQUFHSixJQUFJLENBQUNJLElBQUwsR0FBWUosSUFBSSxDQUFDSSxJQUFqQixHQUF3QixTQUFyQztBQUNBLFVBQU1DLElBQUksR0FBR0wsSUFBSSxDQUFDSyxJQUFMLEdBQVlDLFFBQVEsQ0FBQ04sSUFBSSxDQUFDSyxJQUFOLENBQXBCLEdBQWtDLENBQS9DO0FBQ0EsVUFBTUUsS0FBSyxHQUFHUCxJQUFJLENBQUNPLEtBQUwsR0FBYUQsUUFBUSxDQUFDTixJQUFJLENBQUNPLEtBQU4sQ0FBckIsR0FBb0MsRUFBbEQ7QUFDQSxVQUFNQyxPQUFPLEdBQUcsRUFBaEI7O0FBRUEs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QUU7QUFIRSxLQUFYO0FBS0gsR0E1ZW1CLENBOGVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBenVCb0I7O0FBNHVCVCxtRUFBSS9CLGlCQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBvc3QgZnJvbSAnLi4vbW9kZWwvUG9zdCdcbmltcG9ydCBMaW5rcyBmcm9tICcuLi9tb2RlbC9MaW5rcydcbmltcG9ydCBmcyBmcm9tICdmcydcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvZGlzdC92NCdcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXG5pbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnJ1xuaW1wb3J0IG1rZGlyIGZyb20gJ21ha2UtZGlyJ1xuaW1wb3J0IHtcbiAgICBjaGVja0NvZGUsXG4gICAgZ2V0SldUcGF5bG9hZCxcbiAgICBkaXJFeGlzdHMsXG4gICAgcmVuYW1lXG59IGZyb20gJ0AvY29tbW9uL3V0aWxzJ1xuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbC91c2VyJ1xuaW1wb3J0IFBvc3RUYWdzIGZyb20gJ0AvbW9kZWwvUG9zdFRhZ3MnXG5pbXBvcnQgVXNlckNvbGxlY3QgZnJvbSAnLi4vbW9kZWwvVXNlckNvbGxlY3QnXG5pbXBvcnQgcXMgZnJvbSAncXMnXG5cbmNsYXNzIENvbnRlbnRDb250cm9sbGVyIHtcbiAgICAvLyDojrflj5bmlofnq6DliJfooahcbiAgICBhc3luYyBnZXRQb3N0TGlzdChjdHgpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHFzLnBhcnNlKGN0eC5xdWVyeSlcblxuICAgICAgICBjb25zdCBzb3J0ID0gYm9keS5zb3J0ID8gYm9keS5zb3J0IDogJ2NyZWF0ZWQnXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBib2R5LnBhZ2UgPyBwYXJzZUludChib2R5LnBhZ2UpIDogMFxuICAgICAgICBjb25zdCBsaW1pdCA9IGJvZHkubGltaXQgPyBwYXJzZUludChib2R5LmxpbWl0KSA6IDIwXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fVxuXG4gICAgICAgIGlmIChib2R5LnRpdGxlKSB7XG4gICAgICAgICAgICBvcHRpb25zLnRpdGxlID0ge1xuICAgICAgICAgICAgICAgICRyZWdleDogYm9keS50aXRsZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5LmNhdGFsb2cgJiYgYm9keS5jYXRhbG9nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9wdGlvbnMuY2F0YWxvZyA9IHtcbiAgICAgICAgICAgICAgICAkaW46IGJvZHkuY2F0YWxvZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5LmlzVG9wKSB7XG4gICAgICAgICAgICBvcHRpb25zLmlzVG9wID0gYm9keS5pc1RvcFxuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5LmlzRW5kKSB7XG4gICAgICAgICAgICBvcHRpb25zLmlzRW5kID0gYm9keS5pc0VuZFxuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5LnN0YXR1cykge1xuICAgICAgICAgICAgb3B0aW9ucy5zdGF0dXMgPSBib2R5LnN0YXR1c1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYm9keS50YWcgIT09ICd1bmRlZmluZWQnICYmIGJvZHkudGFnICE9PSAnJykge1xuICAgICAgICAgICAgb3B0aW9ucy50YWdzID0ge1xuICAgICAgICAgICAgICAgICRlbGVtTWF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYm9keS50YWdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5nZXRMaXN0KG9wdGlvbnMsIHNvcnQsIHBhZ2UsIGxpbWl0KVxuICAgICAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFBvc3QuY291bnRMaXN0KG9wdGlvbnMpXG5cbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICBtc2c6ICfojrflj5bmlofnq6DliJfooajmiJDlip8nLFxuICAgICAgICAgICAgdG90YWw6IHRvdGFsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmn6Xor6Llj4vpk75cbiAgICBhc3luYyBnZXRMaW5rcyhjdHgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTGlua3MuZmluZCh7XG4gICAgICAgICAgICB0eXBlOiAnbGlua3MnXG4gICAgICAgIH0pXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmn6Xor6LmuKnppqjmj5DphpJcbiAgICBhc3luYyBnZXRUaXBzKGN0eCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBMaW5rcy5maW5kKHtcbiAgICAgICAgICAgIHR5cGU6ICd0aXBzJ1xuICAgICAgICB9KVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5pys5ZGo54Ot6K6uXG4gICAgYXN5bmMgZ2V0VG9wV2VlayhjdHgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5nZXRUb3BXZWVrKClcbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOS4iuS8oOWbvueJh1xuICAgIGFzeW5jIHVwbG9hZEltZyhjdHgpIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGN0eC5yZXF1ZXN0LmZpbGVzLmZpbGVcblxuICAgICAgICAvLyDlm77niYflkI3np7DjgIHlm77niYfmoLzlvI/jgIHlrZjlgqjnmoTkvY3nva7jgIHov5Tlm57liY3lj7Dlj6/or7vlj5bnmoTot6/lvoRcbiAgICAgICAgY29uc3QgZXh0ID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKClcbiAgICAgICAgLy8gY29uc3QgZGlyID0gYC4uLy4uL3B1YmxpYy8ke21vbWVudCgpLmZvcm1hdCgnWVlZWU1NREQnKX1gXG4gICAgICAgIGNvbnN0IGRpciA9IGAke2NvbmZpZy51cGxvYWRQYXRofS8ke21vbWVudCgpLmZvcm1hdCgnWVlZWU1NREQnKX1gXG5cbiAgICAgICAgLy/liKTmlq3ot6/lvoTmmK/lkKblrZjlnKjvvIzkuI3lrZjlnKjliJnliJvlu7pcbiAgICAgICAgLy8g5pa55rOV5LiAXG4gICAgICAgIC8vIGF3YWl0IGRpckV4aXN0cyhkaXIpXG4gICAgICAgIC8v5pa55rOV5LqMXG4gICAgICAgIGF3YWl0IG1rZGlyKGRpcilcblxuICAgICAgICAvL+WtmOWCqOaWh+S7tuWIsOaMh+WumueahOi3r+W+hFxuICAgICAgICBjb25zdCBwaWNuYW1lID0gdXVpZCgpXG4gICAgICAgIGNvbnN0IFNhdmVQYXRoID0gYCR7ZGlyfS8ke3BpY25hbWV9LiR7ZXh0fWBcbiAgICAgICAgY29uc3QgcmVhZFN0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0oZmlsZS5wYXRoLCB7XG4gICAgICAgICAgICBoaWdoV2F0ZXJNYXJrOiA2NCAqIDEwMjQgLy/pu5jorqQ2NGtcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgdXBTdHJlYW0gPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShTYXZlUGF0aClcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgLyR7bW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpfS8ke3BpY25hbWV9LiR7ZXh0fWBcbiAgICAgICAgLy8g5pa55rOV5LiAXG4gICAgICAgIC8vIHJlYWRTdHJlYW0ucGlwZSh1cFN0cmVhbSlcbiAgICAgICAgLy/mlrnms5Xkuowg5bqU5a+55aSn5Z6L5paH5Lu277yM5a+55YW25LiK5Lyg6L+b5bqm44CB6L+H56iL562J6L+b6KGM55uR5ZCsXG4gICAgICAgIGNvbnN0IHN0YXQgPSBmcy5zdGF0U3luYyhmaWxlLnBhdGgpXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzdGF0Jywgc3RhdC5zaXplKTtcbiAgICAgICAgbGV0IHRvdGFsTGVuZ3RoID0gMCAvL+WIhuWdl+aVsOaNrlxuICAgICAgICAvL+ivu+WPluaVsOaNrueahOebkeWQrFxuICAgICAgICByZWFkU3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICAvLyBjaHVuayDmr4/mrKHlj5HpgIHnmoTljLrlnZfmlbDmja5cbiAgICAgICAgICAgIHRvdGFsTGVuZ3RoICs9IGNodW5rLmxlbmd0aFxuICAgICAgICAgICAgaWYgKHVwU3RyZWFtLndyaXRlKGNodW5rKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZWFkU3RyZWFtLnBhdXNlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLy/nvJPlrZjljLrlhYXmu6HlubbooqvlhpnlhaXlrozmiJDvvIzlpITkuo7muIXnqbrnirbmgIHml7bop6blj5FcbiAgICAgICAgcmVhZFN0cmVhbS5vbignZHJhaW4nLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVhZFN0cmVhbSBkcmFpbicpO1xuICAgICAgICAgICAgcmVhZFN0cmVhbS5yZXN1bWUoKSAvL+e7p+e7reivu+WPllxuICAgICAgICB9KVxuICAgICAgICAvLyDor7vlj5bnu5PmnZ9cbiAgICAgICAgcmVhZFN0cmVhbS5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlYWRTdHJlYW0gZW5kJyk7XG4gICAgICAgICAgICB1cFN0cmVhbS5lbmQoKSAvL+WFs+mXreWGmeWFpea1gVxuICAgICAgICB9KVxuICAgICAgICAvLyDor7vlj5blj5HnlJ/plJnor69cbiAgICAgICAgcmVhZFN0cmVhbS5vbignZXJyb3InLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVhZFN0cmVhbSBlcnJvcicpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgbXNnOiBcIuWbvueJh+S4iuS8oOaIkOWKn1wiLFxuICAgICAgICAgICAgZGF0YTogZmlsZVBhdGhcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOa3u+WKoOaWsOW4llxuICAgIGFzeW5jIGFkZFBvc3QoY3R4KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgICAgIGNvbnN0IHNpZCA9IGJvZHkuc2lkXG4gICAgICAgIGNvbnN0IGNvZGUgPSBib2R5LmNvZGVcbiAgICAgICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CB55qE5pe25pWI5oCn44CB5q2j56Gu5oCnXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgICAgICAgICAgLy8g5Yik5pat55So5oi355qE56ev5YiG5pWw5piv5ZCmID4gZmF277yM5ZCm5YiZ77yM5o+Q56S655So5oi356ev5YiG5LiN6Laz5Y+R6LS0XG4gICAgICAgICAgICAvLyDnlKjmiLfnp6/liIbotrPlpJ/nmoTml7blgJnvvIzmlrDlu7pQb3N077yM5YeP6Zmk55So5oi35a+55bqU55qE56ev5YiGXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRCh7XG4gICAgICAgICAgICAgICAgX2lkOiBvYmouX2lkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKHVzZXIuZmF2cyA8IGJvZHkuZmF2KSB7XG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDUwMSxcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAn56ev5YiG5LiN6LazJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgVXNlci51cGRhdGVPbmUoe1xuICAgICAgICAgICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICRpbmM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdnM6IC1ib2R5LmZhdlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld1Bvc3QgPSBuZXcgUG9zdChib2R5KVxuICAgICAgICAgICAgbmV3UG9zdC51aWQgPSBvYmouX2lkXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXdQb3N0LnNhdmUoKVxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+aIkOWKn+eahOS/neWtmOeahOaWh+eroCcsXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDlm77niYfpqozor4HnoIHpqozor4HlpLHotKVcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHpqozor4HlpLHotKUnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmm7TmlrDluJblrZBcbiAgICBhc3luYyB1cGRhdGVQb3N0KGN0eCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBib2R5XG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxuICAgICAgICBjb25zdCBzaWQgPSBib2R5LnNpZFxuICAgICAgICBjb25zdCBjb2RlID0gYm9keS5jb2RlXG4gICAgICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAgICAgICAgIC8vIOWIpOaWreW4luWtkOS9nOiAheaYr+WQpuS4uuacrOS6ulxuICAgICAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgX2lkOiBib2R5LnRpZFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKHBvc3QudWlkID09PSBvYmouX2lkICYmIHBvc3QuaXNFbmQgPT09ICcwJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IENvbnRlbnRDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVQb3N0KGN0eClcblxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgX2lkOiBib2R5LnRpZFxuICAgICAgICAgICAgICAgIC8vIH0sIGJvZHkpXG4gICAgICAgICAgICAgICAgLy8gaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1zZzogJ+abtOaWsOW4luWtkOaIkOWKnydcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbXNnOiAn57yW6L6R5biW5a2Q77yM5pu05paw5aSx6LSlJ1xuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgICAgICAgICAgICAgIG1zZzogJ+ayoeacieaTjeS9nOeahOadg+mZkC/otLTlrZDlt7Lnu5PluJYnLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5Zu+54mH6aqM6K+B56CB6aqM6K+B5aSx6LSlXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn5Zu+54mH6aqM6K+B56CB6aqM6K+B5aSx6LSlJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g6I635Y+W5paH56ug6K+m5oOFXG4gICAgYXN5bmMgZ2V0UG9zdERldGFpbChjdHgpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgICAgIGlmICghcGFyYW1zLnRpZCkge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+aWh+eroGlk5Li656m6J1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZEJ5VGlkKHtcbiAgICAgICAgICAgIF9pZDogcGFyYW1zLnRpZFxuICAgICAgICB9KVxuXG4gICAgICAgIGxldCBpc0ZhdiA9IDBcbiAgICAgICAgLy8g5Yik5pat55So5oi35piv5ZCm5Lyg6YCSQXV0aG9yaXphdGlvbueahOaVsOaNru+8jOWNs+aYr+WQpueZu+W9lVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgY3R4LmhlYWRlci5hdXRob3JpemF0aW9uICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgY3R4LmhlYWRlci5hdXRob3JpemF0aW9uICE9PSAnJ1xuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgICAgICAgICAgY29uc3QgdXNlckNvbGxlY3QgPSBhd2FpdCBVc2VyQ29sbGVjdC5maW5kT25lKHtcbiAgICAgICAgICAgICAgICB1aWQ6IG9iai5faWQsXG4gICAgICAgICAgICAgICAgdGlkOiBwYXJhbXMudGlkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKHVzZXJDb2xsZWN0ICYmIHVzZXJDb2xsZWN0LnRpZCkge1xuICAgICAgICAgICAgICAgIGlzRmF2ID0gMVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1Bvc3QgPSBwb3N0LnRvSlNPTigpXG4gICAgICAgIG5ld1Bvc3QuaXNGYXYgPSBpc0ZhdlxuXG4gICAgICAgIC8vIOabtOaWsOaWh+eroOmYheivu+iusOaVsFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LnVwZGF0ZU9uZSh7XG4gICAgICAgICAgICBfaWQ6IHBhcmFtcy50aWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJGluYzoge1xuICAgICAgICAgICAgICAgIHJlYWRzOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IHJlbmFtZShwb3N0LnRvSlNPTigpLCAndWlkJywgJ3VzZXInKVxuICAgICAgICBpZiAocG9zdC5faWQgJiYgcmVzdWx0Lm9rID09PSAxKSB7XG5cbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBkYXRhOiBuZXdQb3N0LFxuICAgICAgICAgICAgICAgIG1zZzogJ+afpeivouaWh+eroOivpuaDheaIkOWKnydcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+iOt+WPluaWh+eroOivpuaDheWksei0pSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8g6I635Y+W55So5oi35Y+R5biW6K6w5b2VXG4gICAgYXN5bmMgZ2V0UG9zdEJ5VWlkKGN0eCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5nZXRMaXN0QnlVaWQoXG4gICAgICAgICAgICAvLyBwYXJhbXMudWlkLFxuICAgICAgICAgICAgb2JqLl9pZCxcbiAgICAgICAgICAgIHBhcmFtcy5wYWdlLFxuICAgICAgICAgICAgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0LmNvdW50QnlVaWQob2JqLl9pZClcblxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgdG90YWwsXG4gICAgICAgICAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5oiQ5YqfJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+aXoOWPkeihqOi0tCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuICAgIC8vIOiOt+WPlueUqOaIt+WPkei0tOiusOW9lVxuICAgIGFzeW5jIGdldFBvc3RQdWJsaWMoY3R4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldExpc3RCeVVpZChcbiAgICAgICAgICAgIHBhcmFtcy51aWQsXG4gICAgICAgICAgICBwYXJhbXMucGFnZSxcbiAgICAgICAgICAgIHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxuICAgICAgICApXG4gICAgICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdC5jb3VudEJ5VWlkKHBhcmFtcy51aWQpXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICAgICAgICBtc2c6ICfmn6Xor6LliJfooajmiJDlip8nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5aSx6LSlJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5Yig6Zmk6LS05a2QXG4gICAgYXN5bmMgZGVsZXRlUG9zdEJ5VWlkKGN0eCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG5cbiAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7XG4gICAgICAgICAgICB1aWQ6IG9iai5faWQsXG4gICAgICAgICAgICBfaWQ6IHBhcmFtcy50aWRcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHBvc3QuaWQgPT09IHBhcmFtcy50aWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XG4gICAgICAgICAgICAvLyDkuI3og73nm7TmjqXkvb/nlKh0aGlzLOWboOS4uuatpOaXtuWvvOWHuueahOaYr+S4gOS4qm5ldyBDb250ZW50Q29udHJvbGxlcigp55qE5a6e5L6LLHRoaXPmmK/mi7/kuI3liLDmlrnms5XnmoRcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgICAgICAgLy8gYXdhaXQgdGhpcy5kZWxldGVQb3N0KGN0eClcblxuICAgICAgICAgICAgYXdhaXQgQ29udGVudENvbnRyb2xsZXIucHJvdG90eXBlLmRlbGV0ZVBvc3QoY3R4KVxuXG4gICAgICAgICAgICAvLyBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmRlbGV0ZU9uZSh7XG4gICAgICAgICAgICAvLyAgICAgX2lkOiBwYXJhbXMudGlkXG4gICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgLy8gaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgICAgICAgLy8gICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgLy8gICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAvLyAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgIC8vICAgICAgICAgbXNnOiAn5Yig6Zmk6LS05a2Q5oiQ5YqfJ1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgIC8vICAgICAgICAgbXNnOiAn5Yig6Zmk6LS05a2Q5aSx6LSlJ1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICAgICAgICBtc2c6ICfml6DmnYPpmZDliKDpmaTotLTlrZAnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG5cbiAgICB9XG5cbiAgICAvLyDlkI7lj7DnrqHnkIYtLS3liKDpmaTotLTlrZBcbiAgICBhc3luYyBkZWxldGVQb3N0KGN0eCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmRlbGV0ZU9uZSh7XG4gICAgICAgICAgICBfaWQ6IHBhcmFtcy50aWRcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICBtc2c6ICfliKDpmaTotLTlrZDmiJDlip8nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn5Yig6Zmk6LS05a2Q5aSx6LSlJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5ZCO5Y+w566h55CGLS0t5pu05paw6LS05a2QXG4gICAgYXN5bmMgdXBkYXRlUG9zdChjdHgpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYm9keVxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LnVwZGF0ZU9uZSh7XG4gICAgICAgICAgICBfaWQ6IGJvZHkuX2lkXG4gICAgICAgIH0sIGJvZHkpXG4gICAgICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgbXNnOiAn5pu05paw5biW5a2Q5oiQ5YqfJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICBtc2c6ICfnvJbovpHluJblrZDvvIzmm7TmlrDlpLHotKUnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDlkI7lj7AtLS3mt7vliqDmoIfnrb5cbiAgICBhc3luYyBhZGRUYWcoY3R4KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgICAgIGNvbnN0IHRhZyA9IG5ldyBQb3N0VGFncyhib2R5KVxuICAgICAgICBhd2FpdCB0YWcuc2F2ZSgpXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgbXNnOiAn5qCH562+5L+d5a2Y5oiQ5YqfJ1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5ZCO5Y+wLS0t5re75Yqg5qCH562+XG4gICAgYXN5bmMgZ2V0VGFncyhjdHgpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcnNlSW50KHBhcmFtcy5wYWdlKSA6IDBcbiAgICAgICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMTBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MuZ2V0TGlzdCh7fSwgcGFnZSwgbGltaXQpXG4gICAgICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdFRhZ3MuY291bnRMaXN0KHt9KVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgIHRvdGFsLFxuICAgICAgICAgICAgbXNnOiAn5p+l6K+idGFnc+aIkOWKn++8gSdcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWQjuWPsC0tLeWIoOmZpOagh+etvlxuICAgIGFzeW5jIHJlbW92ZVRhZyhjdHgpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3RUYWdzLmRlbGV0ZU9uZSh7XG4gICAgICAgICAgICBpZDogcGFyYW1zLnB0aWRcbiAgICAgICAgfSlcblxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnydcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWQjuWPsC0tLeabtOaWsOagh+etvlxuICAgIGFzeW5jIHVwZGF0ZVRhZyhjdHgpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYm9keVxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MudXBkYXRlT25lKHtcbiAgICAgICAgICAgICAgICBfaWQ6IGJvZHkuX2lkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keVxuICAgICAgICApXG5cbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICBtc2c6ICfmm7TmlrDmiJDlip8nXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAvLyDmm7TmlrDluJblrZBcbiAgICAvLyBhc3luYyB1cGRhdGVQb3N0KGN0eCkge1xuICAgIC8vICAgICBjb25zdCB7XG4gICAgLy8gICAgICAgICBib2R5XG4gICAgLy8gICAgIH0gPSBjdHgucmVxdWVzdFxuICAgIC8vICAgICBjb25zdCBzaWQgPSBib2R5LnNpZFxuICAgIC8vICAgICBjb25zdCBjb2RlID0gYm9keS5jb2RlXG4gICAgLy8gICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xuICAgIC8vICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxuICAgIC8vICAgICBpZiAocmVzdWx0KSB7XG4gICAgLy8gICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAvLyAgICAgICAgIC8vIOWIpOaWreW4luWtkOS9nOiAheaYr+WQpuS4uuacrOS6ulxuICAgIC8vICAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7XG4gICAgLy8gICAgICAgICAgICAgX2lkOiBib2R5LnRpZFxuICAgIC8vICAgICAgICAgfSlcbiAgICAvLyAgICAgICAgIC8vIOWIpOaWreW4luWtkOaYr+WQpue7k+i0tFxuICAgIC8vICAgICAgICAgaWYgKHBvc3QudWlkID09PSBvYmouX2lkICYmIHBvc3QuaXNFbmQgPT09ICcwJykge1xuICAgIC8vICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHtcbiAgICAvLyAgICAgICAgICAgICAgICAgX2lkOiBib2R5LnRpZFxuICAgIC8vICAgICAgICAgICAgIH0sIGJvZHkpXG4gICAgLy8gICAgICAgICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgIC8vICAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1zZzogJ+abtOaWsOW4luWtkOaIkOWKnydcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgbXNnOiAn57yW6L6R5biW5a2Q77yM5pu05paw5aSx6LSlJ1xuICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgY29kZTogNDAxLFxuICAgIC8vICAgICAgICAgICAgICAgICBtc2c6ICfmsqHmnInmk43kvZznmoTmnYPpmZAnXG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgLy8g5Zu+54mH6aqM6K+B56CB6aqM6K+B5aSx6LSlXG4gICAgLy8gICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgLy8gICAgICAgICAgICAgbXNnOiAn5Zu+54mH6aqM6K+B56CB6aqM6K+B5aSx6LSlJ1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gYXN5bmMgdXBkYXRlUG9zdEJ5VGlkKGN0eCkge1xuICAgIC8vICAgICBjb25zdCB7XG4gICAgLy8gICAgICAgICBib2R5XG4gICAgLy8gICAgIH0gPSBjdHgucmVxdWVzdFxuICAgIC8vICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LnVwZGF0ZU9uZSh7XG4gICAgLy8gICAgICAgICBfaWQ6IGJvZHkuX2lkXG4gICAgLy8gICAgIH0sIGJvZHkpXG4gICAgLy8gICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcbiAgICAvLyAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAvLyAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgLy8gICAgICAgICAgICAgbXNnOiAn5pu05paw5biW5a2Q5oiQ5YqfJ1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICAgICAgY29kZTogNTAwLFxuICAgIC8vICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAvLyAgICAgICAgICAgICBtc2c6ICfnvJbovpHluJblrZDvvIzmm7TmlrDlpLHotKUnXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cblxuICAgIC8vIOiOt+WPluaWh+eroOivpuaDhVxuXG4gICAgLy8gLy8g6I635Y+W55So5oi35Y+R6LS06K6w5b2VXG4gICAgLy8gYXN5bmMgZ2V0UG9zdEJ5VWlkKGN0eCkge1xuICAgIC8vICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAvLyAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0TGlzdEJ5VWlkKFxuICAgIC8vICAgICAgICAgb2JqLl9pZCxcbiAgICAvLyAgICAgICAgIHBhcmFtcy5wYWdlLFxuICAgIC8vICAgICAgICAgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG4gICAgLy8gICAgIClcbiAgICAvLyAgICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0LmNvdW50QnlVaWQob2JqLl9pZClcbiAgICAvLyAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgLy8gICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgLy8gICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgIC8vICAgICAgICAgICAgIHRvdGFsLFxuICAgIC8vICAgICAgICAgICAgIG1zZzogJ+afpeivouWIl+ihqOaIkOWKnydcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAvLyAgICAgICAgICAgICBtc2c6ICfmn6Xor6LliJfooajlpLHotKUnXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyAvLyDojrflj5bnlKjmiLflj5HotLTorrDlvZVcbiAgICAvLyBhc3luYyBnZXRQb3N0UHVibGljKGN0eCkge1xuICAgIC8vICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5nZXRMaXN0QnlVaWQoXG4gICAgLy8gICAgICAgICBwYXJhbXMudWlkLFxuICAgIC8vICAgICAgICAgcGFyYW1zLnBhZ2UsXG4gICAgLy8gICAgICAgICBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMTBcbiAgICAvLyAgICAgKVxuICAgIC8vICAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFBvc3QuY291bnRCeVVpZChwYXJhbXMudWlkKVxuICAgIC8vICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAvLyAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAvLyAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgLy8gICAgICAgICAgICAgdG90YWwsXG4gICAgLy8gICAgICAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5oiQ5YqfJ1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICAgICAgY29kZTogNTAwLFxuICAgIC8vICAgICAgICAgICAgIG1zZzogJ+afpeivouWIl+ihqOWksei0pSdcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIC8vIOWIoOmZpOWPkei0tOiusOW9lVxuICAgIC8vIGFzeW5jIGRlbGV0ZVBvc3RCeVVpZChjdHgpIHtcbiAgICAvLyAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgLy8gICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgIC8vICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHtcbiAgICAvLyAgICAgICAgIHVpZDogb2JqLl9pZCxcbiAgICAvLyAgICAgICAgIF9pZDogcGFyYW1zLnRpZFxuICAgIC8vICAgICB9KVxuICAgIC8vICAgICBpZiAocG9zdC5pZCA9PT0gcGFyYW1zLnRpZCAmJiBwb3N0LmlzRW5kID09PSAnMCcpIHtcbiAgICAvLyAgICAgICAgIGF3YWl0IENvbnRlbnRDb250cm9sbGVyLnByb3RvdHlwZS5kZWxldGVQb3N0KGN0eClcbiAgICAvLyAgICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZGVsZXRlT25lKHsgX2lkOiBwYXJhbXMudGlkIH0pXG4gICAgLy8gICAgICAgICAvLyBpZiAocmVzdWx0Lm9rID09PSAxKSB7XG4gICAgLy8gICAgICAgICAvLyAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgLy8gICAgIGNvZGU6IDIwMCxcbiAgICAvLyAgICAgICAgIC8vICAgICBtc2c6ICfliKDpmaTmiJDlip8nXG4gICAgLy8gICAgICAgICAvLyAgIH1cbiAgICAvLyAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAvLyAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgLy8gICAgIGNvZGU6IDUwMCxcbiAgICAvLyAgICAgICAgIC8vICAgICBtc2c6ICfmiafooYzliKDpmaTlpLHotKXvvIEnXG4gICAgLy8gICAgICAgICAvLyAgIH1cbiAgICAvLyAgICAgICAgIC8vIH1cbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAvLyAgICAgICAgICAgICBtc2c6ICfliKDpmaTlpLHotKXvvIzml6DmnYPpmZDvvIEnXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBhc3luYyBkZWxldGVQb3N0KGN0eCkge1xuICAgIC8vICAgICBjb25zdCB7XG4gICAgLy8gICAgICAgICBib2R5XG4gICAgLy8gICAgIH0gPSBjdHgucmVxdWVzdFxuICAgIC8vICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmRlbGV0ZU1hbnkoe1xuICAgIC8vICAgICAgICAgX2lkOiB7XG4gICAgLy8gICAgICAgICAgICAgJGluOiBib2R5Lmlkc1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9KVxuICAgIC8vICAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XG4gICAgLy8gICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgLy8gICAgICAgICAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJ1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICAgICAgY29kZTogNTAwLFxuICAgIC8vICAgICAgICAgICAgIG1zZzogJ+aJp+ihjOWIoOmZpOWksei0pe+8gSdcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIC8vIOa3u+WKoOagh+etvlxuICAgIC8vIGFzeW5jIGFkZFRhZyhjdHgpIHtcbiAgICAvLyAgICAgY29uc3Qge1xuICAgIC8vICAgICAgICAgYm9keVxuICAgIC8vICAgICB9ID0gY3R4LnJlcXVlc3RcbiAgICAvLyAgICAgY29uc3QgdGFnID0gbmV3IFBvc3RUYWdzKGJvZHkpXG4gICAgLy8gICAgIGF3YWl0IHRhZy5zYXZlKClcbiAgICAvLyAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICBjb2RlOiAyMDAsXG4gICAgLy8gICAgICAgICBtc2c6ICfmoIfnrb7kv53lrZjmiJDlip8nXG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyAvLyDmt7vliqDmoIfnrb5cbiAgICAvLyBhc3luYyBnZXRUYWdzKGN0eCkge1xuICAgIC8vICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAvLyAgICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyc2VJbnQocGFyYW1zLnBhZ2UpIDogMFxuICAgIC8vICAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxuICAgIC8vICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0VGFncy5nZXRMaXN0KHt9LCBwYWdlLCBsaW1pdClcbiAgICAvLyAgICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0VGFncy5jb3VudExpc3Qoe30pXG4gICAgLy8gICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgY29kZTogMjAwLFxuICAgIC8vICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgIC8vICAgICAgICAgdG90YWwsXG4gICAgLy8gICAgICAgICBtc2c6ICfmn6Xor6J0YWdz5oiQ5Yqf77yBJ1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gLy8g5Yig6Zmk5qCH562+XG4gICAgLy8gYXN5bmMgcmVtb3ZlVGFnKGN0eCkge1xuICAgIC8vICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MuZGVsZXRlT25lKHtcbiAgICAvLyAgICAgICAgIGlkOiBwYXJhbXMucHRpZFxuICAgIC8vICAgICB9KVxuXG4gICAgLy8gICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgY29kZTogMjAwLFxuICAgIC8vICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgIC8vICAgICAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJ1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gLy8g5Yig6Zmk5qCH562+XG4gICAgLy8gYXN5bmMgdXBkYXRlVGFnKGN0eCkge1xuICAgIC8vICAgICBjb25zdCB7XG4gICAgLy8gICAgICAgICBib2R5XG4gICAgLy8gICAgIH0gPSBjdHgucmVxdWVzdFxuICAgIC8vICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0VGFncy51cGRhdGVPbmUoe1xuICAgIC8vICAgICAgICAgICAgIF9pZDogYm9keS5faWRcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICBib2R5XG4gICAgLy8gICAgIClcblxuICAgIC8vICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAvLyAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAvLyAgICAgICAgIG1zZzogJ+abtOaWsOaIkOWKnydcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGFzeW5jIHVwZGF0ZVBvc3RCYXRjaChjdHgpIHtcbiAgICAvLyAgICAgY29uc3Qge1xuICAgIC8vICAgICAgICAgYm9keVxuICAgIC8vICAgICB9ID0gY3R4LnJlcXVlc3RcbiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVNYW55KHtcbiAgICAvLyAgICAgICAgIF9pZDoge1xuICAgIC8vICAgICAgICAgICAgICRpbjogYm9keS5pZHNcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSwge1xuICAgIC8vICAgICAgICAgJHNldDoge1xuICAgIC8vICAgICAgICAgICAgIC4uLmJvZHkuc2V0dGluZ3NcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSlcbiAgICAvLyAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICBjb2RlOiAyMDAsXG4gICAgLy8gICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IENvbnRlbnRDb250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/ContentController.js\n");

/***/ }),

/***/ "./src/api/ErrorController.js":
/*!************************************!*\
  !*** ./src/api/ErrorController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/ErrorRecord */ \"./src/model/ErrorRecord.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nclass ErrorController {\n  async getErrorList(ctx) {\n    const params = ctx.query;\n    const methodFilter = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n      $group: {\n        _id: '$method'\n      }\n    }, {\n      $sort: {\n        _id: 1\n      }\n    }]);\n    const codeFilter = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n      $group: {\n        _id: '$code'\n      }\n    }, {\n      $sort: {\n        _id: 1\n      }\n    }]);\n    const obj = qs__WEBPACK_IMPORTED_MODULE_1___default.a.parse(params);\n    const query = obj.filter ? { ...obj.filter\n    } : {};\n\n    if (query.method) {\n      query.method = {\n        $regex: query.method,\n        $options: 'i'\n      };\n    } // 分页\n\n\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10; // { method: /get/i }\n\n    const result = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(query).skip((page - 1) * limit).limit(limit).sort({\n      created: -1\n    });\n    const total = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(query).countDocuments();\n    ctx.body = {\n      code: 200,\n      msg: '查询成功',\n      data: result,\n      total: total,\n      filters: {\n        method: methodFilter.map(o => {\n          return {\n            label: o._id,\n            value: o._id\n          };\n        }),\n        code: codeFilter.map(o => {\n          return {\n            label: o._id,\n            value: parseInt(o._id)\n          };\n        })\n      }\n    };\n  }\n\n  async deleteError(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n    ctx.body = {\n      code: 200,\n      msg: '删除成功',\n      data: result\n    };\n  }\n\n  async addError(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const error = new _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const result = await error.save();\n    ctx.body = {\n      code: 200,\n      msg: '保存成功',\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ErrorController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0Vycm9yQ29udHJvbGxlci5qcz84NTAxIl0sIm5hbWVzIjpbIkVycm9yQ29udHJvbGxlciIsImdldEVycm9yTGlzdCIsImN0eCIsInBhcmFtcyIsInF1ZXJ5IiwibWV0aG9kRmlsdGVyIiwiRXJyb3JSZWNvcmQiLCJhZ2dyZWdhdGUiLCIkZ3JvdXAiLCJfaWQiLCIkc29ydCIsImNvZGVGaWx0ZXIiLCJvYmoiLCJxcyIsInBhcnNlIiwiZmlsdGVyIiwibWV0aG9kIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsInJlc3VsdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNyZWF0ZWQiLCJ0b3RhbCIsImNvdW50RG9jdW1lbnRzIiwiYm9keSIsImNvZGUiLCJtc2ciLCJkYXRhIiwiZmlsdGVycyIsIm1hcCIsIm8iLCJsYWJlbCIsInZhbHVlIiwiZGVsZXRlRXJyb3IiLCJyZXF1ZXN0IiwiZGVsZXRlTWFueSIsIiRpbiIsImlkcyIsImFkZEVycm9yIiwiZXJyb3IiLCJzYXZlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBQ0EsTUFBTUEsZUFBTixDQUFzQjtBQUNsQixRQUFNQyxZQUFOLENBQW1CQyxHQUFuQixFQUF3QjtBQUNwQixVQUFNQyxNQUFNLEdBQUdELEdBQUcsQ0FBQ0UsS0FBbkI7QUFFQSxVQUFNQyxZQUFZLEdBQUcsTUFBTUMsMERBQVcsQ0FBQ0MsU0FBWixDQUFzQixDQUFDO0FBQzlDQyxZQUFNLEVBQUU7QUFDSkMsV0FBRyxFQUFFO0FBREQ7QUFEc0MsS0FBRCxFQUk5QztBQUNDQyxXQUFLLEVBQUU7QUFDSEQsV0FBRyxFQUFFO0FBREY7QUFEUixLQUo4QyxDQUF0QixDQUEzQjtBQVVBLFVBQU1FLFVBQVUsR0FBRyxNQUFNTCwwREFBVyxDQUFDQyxTQUFaLENBQXNCLENBQUM7QUFDNUNDLFlBQU0sRUFBRTtBQUNKQyxXQUFHLEVBQUU7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QUFDQyxJQUFOLEVBQXJCO0FBQ0EzQyxPQUFHLENBQUMyQixJQUFKLEdBQVc7QUFDUEMsVUFBSSxFQUFFLEdBREM7QUFFUEMsU0FBRyxFQUFFLE1BRkU7QUFHUEMsVUFBSSxFQUFFVjtBQUhDLEtBQVg7QUFLSDs7QUE3RmlCOztBQWdHUCxtRUFBSXRCLGVBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvRXJyb3JDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEVycm9yUmVjb3JkIGZyb20gJy4uL21vZGVsL0Vycm9yUmVjb3JkJ1xuaW1wb3J0IHFzIGZyb20gJ3FzJ1xuY2xhc3MgRXJyb3JDb250cm9sbGVyIHtcbiAgICBhc3luYyBnZXRFcnJvckxpc3QoY3R4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuXG4gICAgICAgIGNvbnN0IG1ldGhvZEZpbHRlciA9IGF3YWl0IEVycm9yUmVjb3JkLmFnZ3JlZ2F0ZShbe1xuICAgICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICAgICAgX2lkOiAnJG1ldGhvZCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNvcnQ6IHtcbiAgICAgICAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pXG5cbiAgICAgICAgY29uc3QgY29kZUZpbHRlciA9IGF3YWl0IEVycm9yUmVjb3JkLmFnZ3JlZ2F0ZShbe1xuICAgICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICAgICAgX2lkOiAnJGNvZGUnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzb3J0OiB7XG4gICAgICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKVxuXG4gICAgICAgIGNvbnN0IG9iaiA9IHFzLnBhcnNlKHBhcmFtcylcbiAgICAgICAgY29uc3QgcXVlcnkgPSBvYmouZmlsdGVyID8ge1xuICAgICAgICAgICAgLi4ub2JqLmZpbHRlclxuICAgICAgICB9IDoge31cbiAgICAgICAgaWYgKHF1ZXJ5Lm1ldGhvZCkge1xuICAgICAgICAgICAgcXVlcnkubWV0aG9kID0ge1xuICAgICAgICAgICAgICAgICRyZWdleDogcXVlcnkubWV0aG9kLFxuICAgICAgICAgICAgICAgICRvcHRpb25zOiAnaSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyDliIbpobVcbiAgICAgICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyc2VJbnQocGFyYW1zLnBhZ2UpIDogMFxuICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxuXG4gICAgICAgIC8vIHsgbWV0aG9kOiAvZ2V0L2kgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBFcnJvclJlY29yZC5maW5kKHF1ZXJ5KS5za2lwKChwYWdlIC0gMSkgKiBsaW1pdCkubGltaXQobGltaXQpLnNvcnQoe1xuICAgICAgICAgICAgY3JlYXRlZDogLTFcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgdG90YWwgPSBhd2FpdCBFcnJvclJlY29yZC5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXG5cbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBtc2c6ICfmn6Xor6LmiJDlip8nLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxuICAgICAgICAgICAgZmlsdGVyczoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kRmlsdGVyLm1hcChvID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBvLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvLl9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY29kZTogY29kZUZpbHRlci5tYXAobyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogby5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoby5faWQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZGVsZXRlRXJyb3IoY3R4KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEVycm9yUmVjb3JkLmRlbGV0ZU1hbnkoe1xuICAgICAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICAgICAgJGluOiBib2R5Lmlkc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnycsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGFkZEVycm9yKGN0eCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBib2R5XG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvclJlY29yZChib2R5KVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlcnJvci5zYXZlKClcbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBtc2c6ICfkv53lrZjmiJDlip8nLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBFcnJvckNvbnRyb2xsZXIoKSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/ErrorController.js\n");

/***/ }),

/***/ "./src/api/LoginController.js":
/*!************************************!*\
  !*** ./src/api/LoginController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"./src/config/index.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/model/user */ \"./src/model/user.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/model/SignRecord */ \"./src/model/SignRecord.js\");\n\n\n\n\n\n\n\n\n\nclass LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n\n    try {\n      let result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_0__[\"SendEmail\"])({\n        user: 'Sunny',\n        code: '123',\n        email: body.username,\n        expire: moment__WEBPACK_IMPORTED_MODULE_1___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss')\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮件已经发送成功'\n      };\n    } catch (error) {\n      console.log(\"Send Emaild error\", error);\n    }\n  }\n\n  async login(ctx) {\n    // let token = jsonwebtoken.sign({\n    //     _id: name,\n    //     exp: Math.floor(Date.now() / 1000) + 60 * 60 * 24 // 过期时间1天\n    // }, config.JWT_SECRET)\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; // console.log(body.name);\n    //验证验证码得正确与否\n\n    let AuthCode = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n\n    if (AuthCode) {\n      let Auth = false;\n      let user = await _model_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (!user) {\n        ctx.body = {\n          code: 404,\n          msg: '用户不存在'\n        };\n      } // // 静态方法去过滤\n      // let findstatic = await User.findByName(body.username)\n\n\n      let userObj = user.toJSON(); //mongoose提供方法只取数据\n\n      const arr = ['password', 'username'];\n      arr.map(item => {\n        delete userObj[item];\n      });\n\n      if (user != null && (await bcrypt__WEBPACK_IMPORTED_MODULE_6___default.a.compare(body.password, user.password))) {\n        Auth = true;\n      }\n\n      if (Auth) {\n        let token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.sign({\n          _id: userObj._id\n        }, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].JWT_SECRET, {\n          expiresIn: '1d' //1天\n\n        }); //加入签到属性\n\n        const signRecord = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByUid(userObj._id); // console.log(signRecord);\n\n        if (signRecord !== null) {\n          if (moment__WEBPACK_IMPORTED_MODULE_1___default()(signRecord.created).format('YYYY-MM-DD') === moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD')) {\n            userObj.isSign = true;\n          } else {\n            userObj.isSign = false;\n          }\n\n          userObj.lastSign = signRecord.created;\n        }\n\n        ctx.body = {\n          code: 200,\n          // data: {\n          //     ...findstatic\n          // },\n          data: { // ...user   直接扩展user存放的数据会在_doc里，但是mongoose可以通过toJSON直接取到数据\n            ...userObj\n          },\n          token: token\n        };\n      } else {\n        ctx.body = {\n          code: 404,\n          msg: '用户名，密码错误，请检查'\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 401,\n        msg: '图片验证码不正确，请检查'\n      };\n    }\n  }\n\n  async register(ctx) {\n    // let token = jsonwebtoken.sign({\n    //     _id: name,\n    //     exp: Math.floor(Date.now() / 1000) + 60 * 60 * 24 // 过期时间1天\n    // }, config.JWT_SECRET)\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; //验证验证码得正确与否\n\n    let AuthCode = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n    let noAuth = true;\n    let msg = {};\n\n    if (AuthCode) {\n      let isUsername = await _model_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        username: body.username\n      });\n      console.log(isUsername);\n      let isname = await _model_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        name: body.name\n      });\n\n      if (isUsername !== null && typeof isUsername !== 'undefined') {\n        msg.username = ['邮箱已经被注册,请重新填写新邮箱！'];\n        noAuth = false;\n      }\n\n      if (isname !== null && typeof isname !== 'undefined') {\n        msg.name = ['昵称已经被注册,请重写！'];\n        noAuth = false;\n      }\n\n      if (noAuth) {\n        body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_6___default.a.hash(body.password, 5);\n        let newuser = new _model_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n          username: body.username,\n          name: body.name,\n          password: body.password,\n          created: moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss')\n        });\n        let result = await newuser.save();\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: \"用户注册成功\"\n        };\n        return;\n      }\n    } else {\n      msg.code = ['图片验证码已失效，请重新获取'];\n    }\n\n    ctx.body = {\n      code: 500,\n      msg\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new LoginController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcz85NTA3Il0sIm5hbWVzIjpbIkxvZ2luQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiZm9yZ2V0IiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJyZXN1bHQiLCJTZW5kRW1haWwiLCJ1c2VyIiwiY29kZSIsImVtYWlsIiwidXNlcm5hbWUiLCJleHBpcmUiLCJtb21lbnQiLCJhZGQiLCJmb3JtYXQiLCJkYXRhIiwibXNnIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibG9naW4iLCJzaWQiLCJBdXRoQ29kZSIsImNoZWNrQ29kZSIsIkF1dGgiLCJVc2VyIiwiZmluZE9uZSIsInVzZXJPYmoiLCJ0b0pTT04iLCJhcnIiLCJtYXAiLCJpdGVtIiwiYmNyeXB0IiwiY29tcGFyZSIsInBhc3N3b3JkIiwidG9rZW4iLCJqc29ud2VidG9rZW4iLCJzaWduIiwiX2lkIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInNpZ25SZWNvcmQiLCJTaWduUmVjb3JkIiwiZmluZEJ5VWlkIiwiY3JlYXRlZCIsImlzU2lnbiIsImxhc3RTaWduIiwicmVnaXN0ZXIiLCJub0F1dGgiLCJpc1VzZXJuYW1lIiwiaXNuYW1lIiwibmFtZSIsImhhc2giLCJuZXd1c2VyIiwic2F2ZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTs7QUFHQSxNQUFNQSxlQUFOLENBQXNCO0FBQ2xCQyxhQUFXLEdBQUcsQ0FBRTs7QUFFaEIsUUFBTUMsTUFBTixDQUFhQyxHQUFiLEVBQWtCO0FBQ2QsVUFBTTtBQUNGQztBQURFLFFBRUZELEdBQUcsQ0FBQ0UsT0FGUjs7QUFHQSxRQUFJO0FBQ0EsVUFBSUMsTUFBTSxHQUFHLE1BQU1DLG9FQUFTLENBQUM7QUFDekJD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akIsZUFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Mb2dpbkNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgU2VuZEVtYWlsXHJcbn0gZnJvbSAnLi4vY29uZmlnL01haWxDb25maWcnXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xyXG5pbXBvcnQganNvbndlYnRva2VuIGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnO1xyXG5pbXBvcnQge1xyXG4gICAgY2hlY2tDb2RlXHJcbn0gZnJvbSAnQC9jb21tb24vdXRpbHMnXHJcbmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWwvdXNlcidcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnXHJcbmltcG9ydCBTaWduUmVjb3JkIGZyb20gJ0AvbW9kZWwvU2lnblJlY29yZCc7XHJcblxyXG5cclxuY2xhc3MgTG9naW5Db250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgICBhc3luYyBmb3JnZXQoY3R4KSB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBTZW5kRW1haWwoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogJ1N1bm55JyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICcxMjMnLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IGJvZHkudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBleHBpcmU6IG1vbWVudCgpLmFkZCgzMCwgJ21pbnV0ZXMnKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+mCruS7tuW3sue7j+WPkemAgeaIkOWKnydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZCBFbWFpbGQgZXJyb3JcIiwgZXJyb3IpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbG9naW4oY3R4KSB7XHJcblxyXG4gICAgICAgIC8vIGxldCB0b2tlbiA9IGpzb253ZWJ0b2tlbi5zaWduKHtcclxuICAgICAgICAvLyAgICAgX2lkOiBuYW1lLFxyXG4gICAgICAgIC8vICAgICBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCAqIDI0IC8vIOi/h+acn+aXtumXtDHlpKlcclxuICAgICAgICAvLyB9LCBjb25maWcuSldUX1NFQ1JFVClcclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICAgICAgbGV0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICAgICAgbGV0IGNvZGUgPSBib2R5LmNvZGVcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYm9keS5uYW1lKTtcclxuXHJcbiAgICAgICAgLy/pqozor4Hpqozor4HnoIHlvpfmraPnoa7kuI7lkKZcclxuICAgICAgICBsZXQgQXV0aENvZGUgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgICAgIGlmIChBdXRoQ29kZSkge1xyXG4gICAgICAgICAgICBsZXQgQXV0aCA9IGZhbHNlXHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDA0LFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogJ+eUqOaIt+S4jeWtmOWcqCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAvLyDpnZnmgIHmlrnms5Xljrvov4fmu6RcclxuICAgICAgICAgICAgLy8gbGV0IGZpbmRzdGF0aWMgPSBhd2FpdCBVc2VyLmZpbmRCeU5hbWUoYm9keS51c2VybmFtZSlcclxuICAgICAgICAgICAgbGV0IHVzZXJPYmogPSB1c2VyLnRvSlNPTigpIC8vbW9uZ29vc2Xmj5Dkvpvmlrnms5Xlj6rlj5bmlbDmja5cclxuICAgICAgICAgICAgY29uc3QgYXJyID0gWydwYXNzd29yZCcsICd1c2VybmFtZSddXHJcbiAgICAgICAgICAgIGFyci5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdXNlck9ialtpdGVtXVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXIgIT0gbnVsbCAmJiBhd2FpdCBiY3J5cHQuY29tcGFyZShib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgQXV0aCA9IHRydWVcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKEF1dGgpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0b2tlbiA9IGpzb253ZWJ0b2tlbi5zaWduKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXJPYmouX2lkLFxyXG4gICAgICAgICAgICAgICAgfSwgY29uZmlnLkpXVF9TRUNSRVQsIHtcclxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzSW46ICcxZCcgLy8x5aSpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy/liqDlhaXnrb7liLDlsZ7mgKdcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25SZWNvcmQgPSBhd2FpdCBTaWduUmVjb3JkLmZpbmRCeVVpZCh1c2VyT2JqLl9pZClcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNpZ25SZWNvcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzaWduUmVjb3JkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vbWVudChzaWduUmVjb3JkLmNyZWF0ZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJPYmoubGFzdFNpZ24gPSBzaWduUmVjb3JkLmNyZWF0ZWRcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLi4uZmluZHN0YXRpY1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi51c2VyICAg55u05o6l5omp5bGVdXNlcuWtmOaUvueahOaVsOaNruS8muWcqF9kb2Pph4zvvIzkvYbmmK9tb25nb29zZeWPr+S7pemAmui/h3RvSlNPTuebtOaOpeWPluWIsOaVsOaNrlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi51c2VyT2JqXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwNCxcclxuICAgICAgICAgICAgICAgICAgICBtc2c6ICfnlKjmiLflkI3vvIzlr4bnoIHplJnor6/vvIzor7fmo4Dmn6UnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggeS4jeato+ehru+8jOivt+ajgOafpSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxuICAgIGFzeW5jIHJlZ2lzdGVyKGN0eCkge1xyXG5cclxuICAgICAgICAvLyBsZXQgdG9rZW4gPSBqc29ud2VidG9rZW4uc2lnbih7XHJcbiAgICAgICAgLy8gICAgIF9pZDogbmFtZSxcclxuICAgICAgICAvLyAgICAgZXhwOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArIDYwICogNjAgKiAyNCAvLyDov4fmnJ/ml7bpl7Qx5aSpXHJcbiAgICAgICAgLy8gfSwgY29uZmlnLkpXVF9TRUNSRVQpXHJcblxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgYm9keVxyXG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxyXG4gICAgICAgIGxldCBzaWQgPSBib2R5LnNpZFxyXG4gICAgICAgIGxldCBjb2RlID0gYm9keS5jb2RlXHJcbiAgICAgICAgLy/pqozor4Hpqozor4HnoIHlvpfmraPnoa7kuI7lkKZcclxuICAgICAgICBsZXQgQXV0aENvZGUgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgICAgIGxldCBub0F1dGggPSB0cnVlXHJcbiAgICAgICAgbGV0IG1zZyA9IHt9XHJcblxyXG4gICAgICAgIGlmIChBdXRoQ29kZSkge1xyXG4gICAgICAgICAgICBsZXQgaXNVc2VybmFtZSA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpc1VzZXJuYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpc25hbWUgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogYm9keS5uYW1lXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmIChpc1VzZXJuYW1lICE9PSBudWxsICYmIHR5cGVvZiBpc1VzZXJuYW1lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgbXNnLnVzZXJuYW1lID0gWyfpgq7nrrHlt7Lnu4/ooqvms6jlhows6K+36YeN5paw5aGr5YaZ5paw6YKu566x77yBJ11cclxuICAgICAgICAgICAgICAgIG5vQXV0aCA9IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzbmFtZSAhPT0gbnVsbCAmJiB0eXBlb2YgaXNuYW1lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgbXNnLm5hbWUgPSBbJ+aYteensOW3sue7j+iiq+azqOWGjCzor7fph43lhpnvvIEnXVxyXG4gICAgICAgICAgICAgICAgbm9BdXRoID0gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG5vQXV0aCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChib2R5LnBhc3N3b3JkLCA1KVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBuZXd1c2VyID0gbmV3IFVzZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGJvZHkubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogYm9keS5wYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBuZXd1c2VyLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgICAgICBtc2c6IFwi55So5oi35rOo5YaM5oiQ5YqfXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1zZy5jb2RlID0gWyflm77niYfpqozor4HnoIHlt7LlpLHmlYjvvIzor7fph43mlrDojrflj5YnXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgbXNnXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2dpbkNvbnRyb2xsZXIoKSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/LoginController.js\n");

/***/ }),

/***/ "./src/api/PublicController.js":
/*!*************************************!*\
  !*** ./src/api/PublicController.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-captcha */ \"svg-captcha\");\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_captcha__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n // import {\n//     getValue,\n//     setValue,\n// } from '../config/RedisConfig'\n\n/**\n * 需要通过webpack转移\n * webpack 添加配置 watch npm run watch 启动实时监听文件，实时打包\n * 添加 debug 配置使用nodemon运行webpack打包后的文件  npm run debug 启动\n */\n\n\n\nclass PublicController {\n  constructor() {}\n\n  async getCaptcha(ctx) {\n    const body = ctx.request.query;\n    var captcha = svg_captcha__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n      size: 4,\n      ignoreChars: 'o0li1',\n      //过滤出现o0这样的干扰\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 38\n    }); // console.log(captcha);\n    // 保存图片验证码数据 ， 设置超时时间 ，单位：秒\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"setValue\"])(body.sid, captcha.text, 10 * 60); // getValue(body.sid).then(res => {\n    //     console.log(res);\n    // })\n\n    ctx.body = {\n      code: 200,\n      data: captcha.data\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new PublicController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanM/NjhhZSJdLCJuYW1lcyI6WyJQdWJsaWNDb250cm9sbGVyIiwiY29uc3RydWN0b3IiLCJnZXRDYXB0Y2hhIiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJxdWVyeSIsImNhcHRjaGEiLCJzdmdDYXB0Y2hhIiwiY3JlYXRlIiwic2l6ZSIsImlnbm9yZUNoYXJzIiwiY29sb3IiLCJub2lzZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0VmFsdWUiLCJzaWQiLCJ0ZXh0IiwiY29kZSIsImRhdGEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0NBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7Ozs7OztBQUtBOztBQUtBLE1BQU1BLGdCQUFOLENBQXVCO0FBQ25CQyxhQUFXLEdBQUcsQ0FBRTs7QUFDaEIsUUFBTUMsVUFBTixDQUFpQkMsR0FBakIsRUFBc0I7QUFDbEIsVUFBTUMsSUFBSSxHQUFHRCxHQUFHLENBQUNFLE9BQUosQ0FBWUMsS0FBekI7QUFDQSxRQUFJQyxPQUFPLEdBQUdDLGtEQUFVLENBQUNDLE1BQVgsQ0FBa0I7QUFDNUJDLFVBQUksRUFBRSxDQURzQjtBQUU1QkMsaUJBQVcsRUFBRSxPQUZlO0FBRU47QUFDdEJDLFdBQUssRUFBRSxJQUhxQjtBQUk1QkMsV0FBSyxFQUFFQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCLENBQTNCLENBSnFCO0FBSzVCQyxXQUFLLEVBQUUsR0FMcUI7QUFNNUJDLFlBQU0sRUFBRTtBQU5vQixLQUFsQixDQUFkLENBRmtCLENBVWxCO0FBQ0E7O0FBQ0FDLHdFQUFRLENBQUNmLElBQUksQ0FBQ2dCLEdBQU4sRUFBV2IsT0FBTyxDQUFDYyxJQUFuQixFQUF5QixLQUFLLEVBQTlCLENBQVIsQ0Faa0IsQ0FhbEI7QUFDQTtBQUNBOztBQUNBbEIsT0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDUGtCLFVBQUksRUFBRSxHQURDO0FBRVBDLFVBQUksRUFBRWhCLE9BQU8sQ0FBQ2dCO0FBRlAsS0FBWDtBQUlIOztBQXRCa0I7O0FBeUJSLG1FQUFJdkIsZ0JBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvUHVibGljQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdmdDYXB0Y2hhIGZyb20gJ3N2Zy1jYXB0Y2hhJztcbi8vIGltcG9ydCB7XG4vLyAgICAgZ2V0VmFsdWUsXG4vLyAgICAgc2V0VmFsdWUsXG4vLyB9IGZyb20gJy4uL2NvbmZpZy9SZWRpc0NvbmZpZydcbi8qKlxuICog6ZyA6KaB6YCa6L+Hd2VicGFja+i9rOenu1xuICogd2VicGFjayDmt7vliqDphY3nva4gd2F0Y2ggbnBtIHJ1biB3YXRjaCDlkK/liqjlrp7ml7bnm5HlkKzmlofku7bvvIzlrp7ml7bmiZPljIVcbiAqIOa3u+WKoCBkZWJ1ZyDphY3nva7kvb/nlKhub2RlbW9u6L+Q6KGMd2VicGFja+aJk+WMheWQjueahOaWh+S7tiAgbnBtIHJ1biBkZWJ1ZyDlkK/liqhcbiAqL1xuaW1wb3J0IHtcbiAgICBnZXRWYWx1ZSxcbiAgICBzZXRWYWx1ZSxcbn0gZnJvbSAnQC9jb25maWcvUmVkaXNDb25maWcnXG5cbmNsYXNzIFB1YmxpY0NvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge31cbiAgICBhc3luYyBnZXRDYXB0Y2hhKGN0eCkge1xuICAgICAgICBjb25zdCBib2R5ID0gY3R4LnJlcXVlc3QucXVlcnlcbiAgICAgICAgdmFyIGNhcHRjaGEgPSBzdmdDYXB0Y2hhLmNyZWF0ZSh7XG4gICAgICAgICAgICBzaXplOiA0LFxuICAgICAgICAgICAgaWdub3JlQ2hhcnM6ICdvMGxpMScsIC8v6L+H5ruk5Ye6546wbzDov5nmoLfnmoTlubLmibBcbiAgICAgICAgICAgIGNvbG9yOiB0cnVlLFxuICAgICAgICAgICAgbm9pc2U6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpLFxuICAgICAgICAgICAgd2lkdGg6IDE1MCxcbiAgICAgICAgICAgIGhlaWdodDogMzhcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNhcHRjaGEpO1xuICAgICAgICAvLyDkv53lrZjlm77niYfpqozor4HnoIHmlbDmja4g77yMIOiuvue9rui2heaXtuaXtumXtCDvvIzljZXkvY3vvJrnp5JcbiAgICAgICAgc2V0VmFsdWUoYm9keS5zaWQsIGNhcHRjaGEudGV4dCwgMTAgKiA2MClcbiAgICAgICAgLy8gZ2V0VmFsdWUoYm9keS5zaWQpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgIC8vIH0pXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogY2FwdGNoYS5kYXRhLFxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUHVibGljQ29udHJvbGxlcigpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/PublicController.js\n");

/***/ }),

/***/ "./src/api/UserController.js":
/*!***********************************!*\
  !*** ./src/api/UserController.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/user */ \"./src/model/user.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid/dist/v4 */ \"uuid/dist/v4\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/model/Comments */ \"./src/model/Comments.js\");\n\n\n\n\n\n\n\n\n\n\n //版本要求较高\n\n\n\n\nclass UserController {\n  //用户签到接口\n  async userSign(ctx) {\n    //获取用户id\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization); //查询用户上一次签到记录\n\n    let user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n    const record = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByUid(obj._id);\n    let result = {};\n    let newRecord = {}; // 签到逻辑\n\n    if (record !== null) {\n      //有历史的签到记录\n      // 有历史的签到数据\n      // 判断用户上一次签到记录的created时间是否与今天相同\n      // 如果当前时间的日期与用户上一次的签到日期相同，说明用户已经签到\n      if (dayjs__WEBPACK_IMPORTED_MODULE_3___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_3___default()().format('YYYY-MM-DD')) {\n        ctx.body = {\n          code: 500,\n          favs: user.favs,\n          count: user.count,\n          lastSign: record.created,\n          msg: '用户已经签到'\n        };\n        return;\n      } else {\n        // 有上一次的签到记录，并且不与今天相同，进行连续签到的判断\n        // 如果相同，代表用户是在连续签到\n        let count = user.count;\n        let fav = 0; // 判断签到时间 用户上一次的签到时间等于，当前时间的前一天，说明，用户在连续签到\n        // 第n+1天签到的时候，需要与第n的天created比较\n\n        if (dayjs__WEBPACK_IMPORTED_MODULE_3___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_3___default()().subtract(1, 'days').format('YYYY-MM-DD')) {\n          count += 1;\n\n          if (count < 5) {\n            fav = 5;\n          } else if (count >= 5 && count < 15) {\n            fav = 10;\n          } else if (count >= 15 && count < 30) {\n            fav = 15;\n          } else if (count >= 30 && count < 100) {\n            fav = 20;\n          } else if (count >= 100 && count < 365) {\n            fav = 30;\n          } else if (count >= 365) {\n            fav = 50;\n          }\n\n          await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            // user.favs += fav\n            // user.count += 1\n            $inc: {\n              favs: fav,\n              count: 1\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: user.count + 1\n          };\n        } else {\n          //用户中断了签到\n          fav = 5;\n          await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            $set: {\n              count: 1\n            },\n            $inc: {\n              favs: fav\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: 1\n          };\n        } //更新签到记录\n\n\n        newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n          uid: obj._id,\n          favs: 5 // lastSign: record.created\n\n        });\n        await newRecord.save();\n      }\n    } else {\n      //无签到数据\n      //保存用户的签到记录 ， 签到计数 、 积分数据\n      await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          count: 1\n        },\n        // set 设置\n        $inc: {\n          favs: 5\n        } //increas增加\n\n      });\n      newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        uid: obj._id,\n        favs: 5 // lastSign: moment().format('YYYY-MM-DD HH:mm:ss')\n\n      });\n      newRecord.save();\n      result = {\n        favs: user.favs + 5,\n        count: 1\n      };\n    }\n\n    ctx.body = {\n      code: 200,\n      msg: '签到请求成功',\n      ...result,\n      lastSign: newRecord.created\n    };\n  } //更新用户基本信息接口\n\n\n  async updateUserInfo(ctx) {\n    const {\n      body\n    } = ctx.request;\n    let msg = '';\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization); //判断用户是否修改了邮箱\n\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n\n    if (body.username && body.username !== user.username) {\n      //用户修改了邮箱\n      // 发送reset邮件\n      //判断用户得新邮箱是否已经有人注册\n      const OwnUser = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (OwnUser && OwnUser.password) {\n        ctx.body = {\n          code: 501,\n          msg: \"邮箱已经注册\"\n        };\n        return;\n      }\n\n      const key = uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5___default()();\n      Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"setValue\"])(key, jsonwebtoken__WEBPACK_IMPORTED_MODULE_6___default.a.sign({\n        _id: obj._id\n      }, _config__WEBPACK_IMPORTED_MODULE_8__[\"default\"].JWT_SECRET, {\n        expiresIn: '30m'\n      }));\n      const result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_4__[\"SendEmail\"])({\n        type: 'email',\n        user: user.name,\n        code: '',\n        email: user.username,\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        data: {\n          key: key,\n          username: body.username\n        }\n      }); // ctx.body = {\n      //     code: 200,\n      //     msg: '已成功发送验证邮箱，请点击链接确认修改邮箱账号'\n      // }\n\n      msg = '更新基本资料成功，账号修改需要邮件验证，已成功发送验证邮箱，请查收';\n    } //修改了其它信息\n\n\n    const ellipsis_data = ['username', 'mobile', 'password'];\n    ellipsis_data.map(item => {\n      delete body[item];\n    });\n    const result = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: obj._id\n    }, body);\n\n    if (result.n === 1 && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: msg === '' ? '用户信息更新成功' : msg\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '用户信息更新失败'\n      };\n    }\n  } //更新用户名\n\n\n  async updateUsername(ctx) {\n    const body = ctx.query;\n\n    if (body.key) {\n      const token = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"getValue\"])(body.key);\n      const obj = Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])('Bearer ' + token);\n      await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        username: body.username\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新用户名成功'\n      };\n    }\n  } // 修改密码\n\n\n  async changePasswd(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization);\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    }); // 密码比较比较 前面是未加密的值 ， 后面是加密的hash\n\n    if (await bcrypt__WEBPACK_IMPORTED_MODULE_10___default.a.compare(body.oldpwd, user.password)) {\n      const newpasswd = await bcrypt__WEBPACK_IMPORTED_MODULE_10___default.a.hash(body.newpwd, 5);\n      const result = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          password: newpasswd\n        }\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新密码成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新密码错误，请检查当前密码是否输入正确？'\n      };\n    }\n  } // 设置 / 取消收藏 \n\n\n  async setCollect(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization);\n\n    if (parseInt(params.isFav)) {\n      // 说明用户已经收藏了贴子\n      await _model_UserCollect__WEBPACK_IMPORTED_MODULE_11__[\"default\"].deleteOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n      ctx.body = {\n        code: 200,\n        msg: '取消收藏成功'\n      };\n    } else {\n      const newCollect = new _model_UserCollect__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\n        uid: obj._id,\n        tid: params.tid,\n        title: params.title\n      });\n      const result = await newCollect.save();\n\n      if (result.uid) {\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '设置收藏成功'\n        };\n      }\n    }\n  } // 获取收藏列表\n\n\n  async getCollectByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization);\n    const result = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_11__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_11__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '无收藏贴子'\n      };\n    }\n  } // 获取用户的基本信息\n\n\n  async getBasicInfo(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization);\n    const uid = params.uid || obj._id;\n    let user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(uid); // 取得用户的签到记录 有没有 > today 0:00:00\n\n    user = user.toJSON();\n    const date = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().format('YYYY-MM-DD');\n    const result = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: uid,\n      created: {\n        $gte: date + ' 00:00:00'\n      }\n    });\n\n    if (result && result.uid) {\n      user.isSign = true;\n    } else {\n      user.isSign = false;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: user,\n      msg: '查询成功！'\n    };\n  } // 获取用户的历史消息\n  // 记录评论之后，给作者发送消息\n\n\n  async getMsg(ctx) {\n    const params = ctx.query;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0; // 方法一： 嵌套查询 -> aggregate 12-4-2\n    // 方法二： 通过冗余换时间\n\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization);\n    const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_12__[\"default\"].getTotal(obj._id);\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_12__[\"default\"].getMsgList(obj._id, page, limit); // console.log(result);\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      total: num\n    };\n  } // 设置已读消息\n\n\n  async setMsg(ctx) {\n    const params = ctx.query;\n\n    if (params.id) {\n      // 指定消息\n      const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_12__[\"default\"].updateOne({\n        _id: params.id\n      }, {\n        isRead: '1'\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200\n        };\n      }\n    } else {\n      // 所有消息\n      const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization);\n      const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_12__[\"default\"].updateMany({\n        uid: obj.id\n      }, {\n        isRead: '1'\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200\n        };\n      }\n    }\n  } // 后台管理---获取用户列表\n\n\n  async getUsers(ctx) {\n    let params = ctx.query;\n    params = qs__WEBPACK_IMPORTED_MODULE_7___default.a.parse(params);\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0;\n    const options = params.option || {}; // const sort = params.sort ? params.sort : 'created'\n\n    const sort = params.sort || 'created';\n    const result = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getList(options, sort, page, limit);\n    const total = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countList({});\n    ctx.body = {\n      code: 200,\n      data: result,\n      total\n    };\n  } // 后台管理---删除用户\n\n\n  async deleteUserById(ctx) {\n    /**\n     *  删除一个 \n     * */\n    // const params = ctx.query\n    // const user = await User.findOne({\n    //     _id: params.id\n    // })\n    // if (user) {\n    //     const result = await User.deleteOne({\n    //         _id: params.id\n    //     })\n    //     ctx.body = {\n    //         code: 200,\n    //         msg: '删除成功',\n    //         data: result\n    //     }\n    // } else {\n    //     ctx.body = {\n    //         code: 500,\n    //         msg: '用户不存在或者删除错误',\n    //     }\n    // }\n\n    /**\n     * 删除多个\n     */\n    const {\n      body\n    } = ctx.request; // const user = await User.findOne({ _id: params.id })\n    // if (user) {\n\n    const result = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n    ctx.body = {\n      code: 200,\n      msg: '删除成功',\n      data: result\n    };\n  } // 后台管理---更新用户\n\n\n  async updateUserById(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: body._id\n    }); // 1.校验用户是否存在 -> 用户名是否冲突(已前端进行校验 api checkUsername)\n\n    if (!user) {\n      ctx.body = {\n        code: 500,\n        msg: '用户不存在或者id信息错误！'\n      };\n      return;\n    } // if (body.username !== user.username) {\n    //     const userCheckName = await User.findOne({\n    //         username: body.username\n    //     })\n    //     if (userCheckName) {\n    //         ctx.body = {\n    //             code: 501,\n    //             msg: '用户名已经存在，更新失败！'\n    //         }\n    //         return\n    //     }\n    // }\n    // 2.判断密码是否传递 -> 进行加密保存\n\n\n    if (body.password) {\n      body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_10___default.a.hash(body.password, 5);\n    }\n\n    const result = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n\n    if (result.ok === 1 && result.nModified === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '更新成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '服务异常，更新失败'\n      };\n    }\n  } // 后台管理---批量更新用户\n\n\n  async updateUserBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateMany({\n      _id: {\n        $in: body.ids\n      }\n    }, {\n      $set: { ...body.settings\n      }\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 后台管理---用户名检验\n\n\n  async checkUsername(ctx) {\n    const params = ctx.query;\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      username: params.username\n    }); // 默认是 1 - 校验通过， 0 - 校验失败\n\n    let result = 1;\n\n    if (user && user.username) {\n      result = 0;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '用户名已经存在，更新失败！'\n    };\n  } // 后台管理---添加用户\n\n\n  async addUser(ctx) {\n    const {\n      body\n    } = ctx.request;\n    body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_10___default.a.hash(body.password, 5);\n    const user = new _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"](body);\n    const result = await user.save();\n    const userObj = result.toJSON();\n    const arr = ['password'];\n    arr.map(item => {\n      delete userObj[item];\n    });\n\n    if (result) {\n      ctx.body = {\n        code: 200,\n        data: userObj,\n        msg: '添加用户成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '服务接口异常'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new UserController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzP2I5YWYiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJ1c2VyU2lnbiIsImN0eCIsIm9iaiIsImdldEpXVHBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwidXNlciIsIlVzZXIiLCJmaW5kQnlJRCIsIl9pZCIsInJlY29yZCIsIlNpZ25SZWNvcmQiLCJmaW5kQnlVaWQiLCJyZXN1bHQiLCJuZXdSZWNvcmQiLCJtb21lbnQiLCJjcmVhdGVkIiwiZm9ybWF0IiwiYm9keSIsImNvZGUiLCJmYXZzIiwiY291bnQiLCJsYXN0U2lnbiIsIm1zZyIsImZhdiIsInN1YnRyYWN0IiwidXBkYXRlT25lIiwiJGluYyIsIiRzZXQiLCJ1aWQiLCJzYXZlIiwidXBkYXRlVXNlckluZm8iLCJyZXF1ZXN0IiwiZmluZE9uZSIsInVzZXJuYW1lIiwiT3duVXNlciIsInBhc3N3b3JkIiwia2V5IiwidXVpZCIsInNldFZhbHVlIiwiand0Iiwic2lnbiIsImNvbmZpZyIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJTZW5kRW1haWwiLCJ0eXBlIiwibmFtZSIsImVtYWlsIiwiZXhwaXJlIiwiYWRkIiwiZGF0YSIsImVsbGlwc2lzX2RhdGEiLCJtYXAiLCJpdGVtIiwibiIsIm9rIiwidXBkYXRlVXNlcm5hbWUiLCJxdWVyeSIsInRva2VuIiwiZ2V0VmFsdWUiLCJjaGFuZ2VQYXNzd2QiLCJiY3J5cHQiLCJjb21wYXJlIiwib2xkcHdkIiwibmV3cGFzc3dkIiwiaGFzaCIsIm5ld3B3ZCIsInNldENvbGxlY3QiLCJwYXJhbXMiLCJwYXJzZUludCIsImlzRmF2IiwiVXNlckNvbGxlY3QiLCJkZWxldGVPbmUiLCJ0aWQiLCJuZXdDb2xsZWN0IiwidGl0bGUiLCJnZXRDb2xsZWN0QnlVaWQiLCJnZXRMaXN0QnlVaWQiLCJwYWdlIiwibGltaXQiLCJ0b3RhbCIsImNvdW50QnlVaWQiLCJsZW5ndGgiLCJnZXRCYXNpY0luZm8iLCJ0b0pTT04iLCJkYXRlIiwiJGd0ZSIsImlzU2lnbiIsImdldE1zZyIsIm51bSIsIkNvbW1lbnRzIiwiZ2V0VG90YWwiLCJnZXRNc2dMaXN0Iiwic2V0TXNnIiwiaWQiLCJpc1JlYWQiLCJ1cGRhdGVNYW55IiwiZ2V0VXNlcnMiLCJxcyIsInBhcnNlIiwib3B0aW9ucyIsIm9wdGlvbiIsInNvcnQiLCJnZXRMaXN0IiwiY291bnRMaXN0IiwiZGVsZXRlVXNlckJ5SWQiLCJkZWxldGVNYW55IiwiJGluIiwiaWRzIiwidXBkYXRlVXNlckJ5SWQiLCJuTW9kaWZpZWQiLCJ1cGRhdGVVc2VyQmF0Y2giLCJzZXR0aW5ncyIsImNoZWNrVXNlcm5hbWUiLCJhZGRVc2VyIiwidXNlck9iaiIsImFyciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtDQUk0Qjs7QUFDNUI7QUFDQTs7QUFFQSxNQUFNQSxjQUFOLENBQXFCO0FBQ2pCO0FBQ0EsUUFBTUMsUUFBTixDQUFlQyxHQUFmLEVBQW9CO0FBQ2hCO0FBQ0EsVUFBTUMsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUFaLENBQS9CLENBRmdCLENBSWhCOztBQUNBLFFBQUlDLElBQUksR0FBRyxNQUFNQyxtREFBSSxDQUFDQyxRQUFMLENBQWNOLEdBQUcsQ0FBQ08sR0FBbEIsQ0FBakI7QUFDQSxVQUFNQyxNQUFNLEdBQUcsTUFBTUMseURBQVUsQ0FBQ0MsU0FBWCxDQUFxQlYsR0FBRyxDQUFDTyxHQUF6QixDQUFyQjtBQUNBLFFBQUlJLE1BQU0sR0FBRyxFQUFiO0FBQ0EsUUFBSUMsU0FBUyxHQUFHLEVBQWhCLENBUmdCLENBU2hCOztBQUNBLFFBQUlKLE1B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QyxZQUFJLEVBQUUsR0FEQztBQUVQSSxXQUFHLEVBQUU7QUFGRSxPQUFYO0FBSUg7QUFFSjs7QUFsa0JnQjs7QUFza0JOLG1FQUFJeEIsY0FBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Vc2VyQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaWduUmVjb3JkIGZyb20gJy4uL21vZGVsL1NpZ25SZWNvcmQnXG5pbXBvcnQge1xuICAgIGdldEpXVHBheWxvYWRcbn0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJ1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWwvdXNlcidcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXG5pbXBvcnQge1xuICAgIFNlbmRFbWFpbFxufSBmcm9tICcuLi9jb25maWcvTWFpbENvbmZpZydcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvZGlzdC92NCdcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IHFzIGZyb20gJ3FzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZyc7XG5pbXBvcnQge1xuICAgIGdldFZhbHVlLFxuICAgIHNldFZhbHVlXG59IGZyb20gJ0AvY29uZmlnL1JlZGlzQ29uZmlnJ1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnIC8v54mI5pys6KaB5rGC6L6D6auYXG5pbXBvcnQgVXNlckNvbGxlY3QgZnJvbSAnQC9tb2RlbC9Vc2VyQ29sbGVjdCdcbmltcG9ydCBDb21tZW50cyBmcm9tICdAL21vZGVsL0NvbW1lbnRzJ1xuXG5jbGFzcyBVc2VyQ29udHJvbGxlciB7XG4gICAgLy/nlKjmiLfnrb7liLDmjqXlj6NcbiAgICBhc3luYyB1c2VyU2lnbihjdHgpIHtcbiAgICAgICAgLy/ojrflj5bnlKjmiLdpZFxuICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcblxuICAgICAgICAvL+afpeivoueUqOaIt+S4iuS4gOasoeetvuWIsOiusOW9lVxuICAgICAgICBsZXQgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SUQob2JqLl9pZClcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgU2lnblJlY29yZC5maW5kQnlVaWQob2JqLl9pZClcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9XG4gICAgICAgIGxldCBuZXdSZWNvcmQgPSB7fVxuICAgICAgICAvLyDnrb7liLDpgLvovpFcbiAgICAgICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy/mnInljoblj7LnmoTnrb7liLDorrDlvZVcbiAgICAgICAgICAgIC8vIOacieWOhuWPsueahOetvuWIsOaVsOaNrlxuICAgICAgICAgICAgLy8g5Yik5pat55So5oi35LiK5LiA5qyh562+5Yiw6K6w5b2V55qEY3JlYXRlZOaXtumXtOaYr+WQpuS4juS7iuWkqeebuOWQjFxuICAgICAgICAgICAgLy8g5aaC5p6c5b2T5YmN5pe26Ze055qE5pel5pyf5LiO55So5oi35LiK5LiA5qyh55qE562+5Yiw5pel5pyf55u45ZCM77yM6K+05piO55So5oi35bey57uP562+5YiwXG4gICAgICAgICAgICBpZiAobW9tZW50KHJlY29yZC5jcmVhdGVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA9PT1cbiAgICAgICAgICAgICAgICBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgZmF2czogdXNlci5mYXZzLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogdXNlci5jb3VudCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNpZ246IHJlY29yZC5jcmVhdGVkLFxuICAgICAgICAgICAgICAgICAgICBtc2c6ICfnlKjmiLflt7Lnu4/nrb7liLAnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyDmnInkuIrkuIDmrKHnmoTnrb7liLDorrDlvZXvvIzlubbkuJTkuI3kuI7ku4rlpKnnm7jlkIzvvIzov5vooYzov57nu63nrb7liLDnmoTliKTmlq1cbiAgICAgICAgICAgICAgICAvLyDlpoLmnpznm7jlkIzvvIzku6PooajnlKjmiLfmmK/lnKjov57nu63nrb7liLBcbiAgICAgICAgICAgICAgICBsZXQgY291bnQgPSB1c2VyLmNvdW50XG4gICAgICAgICAgICAgICAgbGV0IGZhdiA9IDBcbiAgICAgICAgICAgICAgICAvLyDliKTmlq3nrb7liLDml7bpl7Qg55So5oi35LiK5LiA5qyh55qE562+5Yiw5pe26Ze0562J5LqO77yM5b2T5YmN5pe26Ze055qE5YmN5LiA5aSp77yM6K+05piO77yM55So5oi35Zyo6L+e57ut562+5YiwXG4gICAgICAgICAgICAgICAgLy8g56ysbisx5aSp562+5Yiw55qE5pe25YCZ77yM6ZyA6KaB5LiO56ysbueahOWkqWNyZWF0ZWTmr5TovoNcbiAgICAgICAgICAgICAgICBpZiAobW9tZW50KHJlY29yZC5jcmVhdGVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA9PT0gbW9tZW50KCkuc3VidHJhY3QoMSwgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSAxXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdiA9IDVcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSA1ICYmIGNvdW50IDwgMTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdiA9IDEwXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMTUgJiYgY291bnQgPCAzMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmF2ID0gMTVcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSAzMCAmJiBjb3VudCA8IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmF2ID0gMjBcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSAxMDAgJiYgY291bnQgPCAzNjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdiA9IDMwXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMzY1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYXYgPSA1MFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VyLmZhdnMgKz0gZmF2XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VyLmNvdW50ICs9IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbmM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYXZzOiBmYXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmF2czogdXNlci5mYXZzICsgZmF2LFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHVzZXIuY291bnQgKyAxXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL+eUqOaIt+S4reaWreS6huetvuWIsFxuICAgICAgICAgICAgICAgICAgICBmYXYgPSA1XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5jOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmF2czogZmF2XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdnM6IHVzZXIuZmF2cyArIGZhdixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy/mm7TmlrDnrb7liLDorrDlvZVcbiAgICAgICAgICAgICAgICBuZXdSZWNvcmQgPSBuZXcgU2lnblJlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgIHVpZDogb2JqLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgZmF2czogNSxcbiAgICAgICAgICAgICAgICAgICAgLy8gbGFzdFNpZ246IHJlY29yZC5jcmVhdGVkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXdSZWNvcmQuc2F2ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL+aXoOetvuWIsOaVsOaNrlxuICAgICAgICAgICAgLy/kv53lrZjnlKjmiLfnmoTnrb7liLDorrDlvZUg77yMIOetvuWIsOiuoeaVsCDjgIEg56ev5YiG5pWw5o2uXG4gICAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7XG4gICAgICAgICAgICAgICAgX2lkOiBvYmouX2lkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICAgICBjb3VudDogMVxuICAgICAgICAgICAgICAgIH0sIC8vIHNldCDorr7nva5cbiAgICAgICAgICAgICAgICAkaW5jOiB7XG4gICAgICAgICAgICAgICAgICAgIGZhdnM6IDVcbiAgICAgICAgICAgICAgICB9LCAvL2luY3JlYXPlop7liqBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBuZXdSZWNvcmQgPSBuZXcgU2lnblJlY29yZCh7XG4gICAgICAgICAgICAgICAgdWlkOiBvYmouX2lkLFxuICAgICAgICAgICAgICAgIGZhdnM6IDUsXG4gICAgICAgICAgICAgICAgLy8gbGFzdFNpZ246IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbmV3UmVjb3JkLnNhdmUoKVxuICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGZhdnM6IHVzZXIuZmF2cyArIDUsXG4gICAgICAgICAgICAgICAgY291bnQ6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIG1zZzogJ+etvuWIsOivt+axguaIkOWKnycsXG4gICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICBsYXN0U2lnbjogbmV3UmVjb3JkLmNyZWF0ZWRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8v5pu05paw55So5oi35Z+65pys5L+h5oGv5o6l5Y+jXG4gICAgYXN5bmMgdXBkYXRlVXNlckluZm8oY3R4KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgICAgIGxldCBtc2cgPSAnJ1xuICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAgICAgLy/liKTmlq3nlKjmiLfmmK/lkKbkv67mlLnkuobpgq7nrrFcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKGJvZHkudXNlcm5hbWUgJiYgYm9keS51c2VybmFtZSAhPT0gdXNlci51c2VybmFtZSkge1xuICAgICAgICAgICAgLy/nlKjmiLfkv67mlLnkuobpgq7nrrFcbiAgICAgICAgICAgIC8vIOWPkemAgXJlc2V06YKu5Lu2XG4gICAgICAgICAgICAvL+WIpOaWreeUqOaIt+W+l+aWsOmCrueuseaYr+WQpuW3sue7j+acieS6uuazqOWGjFxuXG4gICAgICAgICAgICBjb25zdCBPd25Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGlmIChPd25Vc2VyICYmIE93blVzZXIucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNTAxLFxuICAgICAgICAgICAgICAgICAgICBtc2c6IFwi6YKu566x5bey57uP5rOo5YaMXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHV1aWQoKVxuICAgICAgICAgICAgc2V0VmFsdWUoXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGp3dC5zaWduKHtcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBvYmouX2lkXG4gICAgICAgICAgICAgICAgfSwgY29uZmlnLkpXVF9TRUNSRVQsIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc0luOiAnMzBtJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBTZW5kRW1haWwoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdlbWFpbCcsXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgIGNvZGU6ICcnLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIGV4cGlyZTogbW9tZW50KCkuYWRkKDMwLCAnbWludXRlcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLy8gY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAvLyAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgLy8gICAgIG1zZzogJ+W3suaIkOWKn+WPkemAgemqjOivgemCrueuse+8jOivt+eCueWHu+mTvuaOpeehruiupOS/ruaUuemCrueusei0puWPtydcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIG1zZyA9ICfmm7TmlrDln7rmnKzotYTmlpnmiJDlip/vvIzotKblj7fkv67mlLnpnIDopoHpgq7ku7bpqozor4HvvIzlt7LmiJDlip/lj5HpgIHpqozor4Hpgq7nrrHvvIzor7fmn6XmlLYnXG5cbiAgICAgICAgfVxuICAgICAgICAvL+S/ruaUueS6huWFtuWug+S/oeaBr1xuICAgICAgICBjb25zdCBlbGxpcHNpc19kYXRhID0gWyd1c2VybmFtZScsICdtb2JpbGUnLCAncGFzc3dvcmQnXVxuICAgICAgICBlbGxpcHNpc19kYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSBib2R5W2l0ZW1dXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIudXBkYXRlT25lKHtcbiAgICAgICAgICAgIF9pZDogb2JqLl9pZFxuICAgICAgICB9LCBib2R5KVxuICAgICAgICBpZiAocmVzdWx0Lm4gPT09IDEgJiYgcmVzdWx0Lm9rID09PSAxKSB7XG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgbXNnOiBtc2cgPT09ICcnID8gJ+eUqOaIt+S/oeaBr+abtOaWsOaIkOWKnycgOiBtc2dcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgICAgICBtc2c6ICfnlKjmiLfkv6Hmga/mm7TmlrDlpLHotKUnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL+abtOaWsOeUqOaIt+WQjVxuICAgIGFzeW5jIHVwZGF0ZVVzZXJuYW1lKGN0eCkge1xuICAgICAgICBjb25zdCBib2R5ID0gY3R4LnF1ZXJ5XG4gICAgICAgIGlmIChib2R5LmtleSkge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRWYWx1ZShib2R5LmtleSlcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IGdldEpXVHBheWxvYWQoJ0JlYXJlciAnICsgdG9rZW4pXG5cbiAgICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcbiAgICAgICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBtc2c6ICfmm7TmlrDnlKjmiLflkI3miJDlip8nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDkv67mlLnlr4bnoIFcbiAgICBhc3luYyBjaGFuZ2VQYXNzd2QoY3R4KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgICAgICAgIF9pZDogb2JqLl9pZFxuICAgICAgICB9KVxuICAgICAgICAvLyDlr4bnoIHmr5TovoPmr5TovoMg5YmN6Z2i5piv5pyq5Yqg5a+G55qE5YC8IO+8jCDlkI7pnaLmmK/liqDlr4bnmoRoYXNoXG4gICAgICAgIGlmIChhd2FpdCBiY3J5cHQuY29tcGFyZShib2R5Lm9sZHB3ZCwgdXNlci5wYXNzd29yZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld3Bhc3N3ZCA9IGF3YWl0IGJjcnlwdC5oYXNoKGJvZHkubmV3cHdkLCA1KVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci51cGRhdGVPbmUoe1xuICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG5ld3Bhc3N3ZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn5pu05paw5a+G56CB5oiQ5YqfJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+abtOaWsOWvhueggemUmeivr++8jOivt+ajgOafpeW9k+WJjeWvhueggeaYr+WQpui+k+WFpeato+ehru+8nydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cblxuICAgIH1cblxuICAgIC8vIOiuvue9riAvIOWPlua2iOaUtuiXjyBcbiAgICBhc3luYyBzZXRDb2xsZWN0KGN0eCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG5cbiAgICAgICAgaWYgKHBhcnNlSW50KHBhcmFtcy5pc0ZhdikpIHtcbiAgICAgICAgICAgIC8vIOivtOaYjueUqOaIt+W3sue7j+aUtuiXj+S6hui0tOWtkFxuICAgICAgICAgICAgYXdhaXQgVXNlckNvbGxlY3QuZGVsZXRlT25lKHtcbiAgICAgICAgICAgICAgICB1aWQ6IG9iai5faWQsXG4gICAgICAgICAgICAgICAgdGlkOiBwYXJhbXMudGlkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+WPlua2iOaUtuiXj+aIkOWKnydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbGxlY3QgPSBuZXcgVXNlckNvbGxlY3Qoe1xuICAgICAgICAgICAgICAgIHVpZDogb2JqLl9pZCxcbiAgICAgICAgICAgICAgICB0aWQ6IHBhcmFtcy50aWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHBhcmFtcy50aXRsZVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV3Q29sbGVjdC5zYXZlKClcbiAgICAgICAgICAgIGlmIChyZXN1bHQudWlkKSB7XG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBtc2c6ICforr7nva7mlLbol4/miJDlip8nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyDojrflj5bmlLbol4/liJfooahcbiAgICBhc3luYyBnZXRDb2xsZWN0QnlVaWQoY3R4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlckNvbGxlY3QuZ2V0TGlzdEJ5VWlkKFxuICAgICAgICAgICAgb2JqLl9pZCxcbiAgICAgICAgICAgIHBhcmFtcy5wYWdlLFxuICAgICAgICAgICAgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgdG90YWwgPSBhd2FpdCBVc2VyQ29sbGVjdC5jb3VudEJ5VWlkKG9iai5faWQpXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICAgICAgICBtc2c6ICfmn6Xor6LliJfooajmiJDlip8nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn5peg5pS26JeP6LS05a2QJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g6I635Y+W55So5oi355qE5Z+65pys5L+h5oGvXG4gICAgYXN5bmMgZ2V0QmFzaWNJbmZvKGN0eCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG5cbiAgICAgICAgY29uc3QgdWlkID0gcGFyYW1zLnVpZCB8fCBvYmouX2lkXG5cbiAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlEKHVpZClcbiAgICAgICAgLy8g5Y+W5b6X55So5oi355qE562+5Yiw6K6w5b2VIOacieayoeaciSA+IHRvZGF5IDA6MDA6MDBcbiAgICAgICAgdXNlciA9IHVzZXIudG9KU09OKClcbiAgICAgICAgY29uc3QgZGF0ZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZE9uZSh7XG4gICAgICAgICAgICB1aWQ6IHVpZCxcbiAgICAgICAgICAgIGNyZWF0ZWQ6IHtcbiAgICAgICAgICAgICAgICAkZ3RlOiBkYXRlICsgJyAwMDowMDowMCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudWlkKSB7XG4gICAgICAgICAgICB1c2VyLmlzU2lnbiA9IHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVzZXIuaXNTaWduID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHVzZXIsXG4gICAgICAgICAgICBtc2c6ICfmn6Xor6LmiJDlip/vvIEnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDojrflj5bnlKjmiLfnmoTljoblj7Lmtojmga9cbiAgICAvLyDorrDlvZXor4TorrrkuYvlkI7vvIznu5nkvZzogIXlj5HpgIHmtojmga9cbiAgICBhc3luYyBnZXRNc2coY3R4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgICAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDBcbiAgICAgICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMFxuICAgICAgICAvLyDmlrnms5XkuIDvvJog5bWM5aWX5p+l6K+iIC0+IGFnZ3JlZ2F0ZSAxMi00LTJcbiAgICAgICAgLy8g5pa55rOV5LqM77yaIOmAmui/h+WGl+S9meaNouaXtumXtFxuICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcblxuICAgICAgICBjb25zdCBudW0gPSBhd2FpdCBDb21tZW50cy5nZXRUb3RhbChvYmouX2lkKVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5nZXRNc2dMaXN0KG9iai5faWQsIHBhZ2UsIGxpbWl0KVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgdG90YWw6IG51bVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyDorr7nva7lt7Lor7vmtojmga9cbiAgICBhc3luYyBzZXRNc2coY3R4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgICAgICBpZiAocGFyYW1zLmlkKSB7IC8vIOaMh+Wumua2iOaBr1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHtcbiAgICAgICAgICAgICAgICBfaWQ6IHBhcmFtcy5pZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGlzUmVhZDogJzEnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgeyAvLyDmiYDmnInmtojmga9cbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMudXBkYXRlTWFueSh7XG4gICAgICAgICAgICAgICAgdWlkOiBvYmouaWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpc1JlYWQ6ICcxJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8g5ZCO5Y+w566h55CGLS0t6I635Y+W55So5oi35YiX6KGoXG4gICAgYXN5bmMgZ2V0VXNlcnMoY3R4KSB7XG4gICAgICAgIGxldCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAgICAgcGFyYW1zID0gcXMucGFyc2UocGFyYW1zKVxuICAgICAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDBcbiAgICAgICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMFxuICAgICAgICBjb25zdCBvcHRpb25zID0gcGFyYW1zLm9wdGlvbiB8fCB7fVxuXG5cbiAgICAgICAgLy8gY29uc3Qgc29ydCA9IHBhcmFtcy5zb3J0ID8gcGFyYW1zLnNvcnQgOiAnY3JlYXRlZCdcbiAgICAgICAgY29uc3Qgc29ydCA9IHBhcmFtcy5zb3J0IHx8ICdjcmVhdGVkJ1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmdldExpc3Qob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpXG4gICAgICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgVXNlci5jb3VudExpc3Qoe30pXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgdG90YWxcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8g5ZCO5Y+w566h55CGLS0t5Yig6Zmk55So5oi3XG4gICAgYXN5bmMgZGVsZXRlVXNlckJ5SWQoY3R4KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAg5Yig6Zmk5LiA5LiqIFxuICAgICAgICAgKiAqL1xuICAgICAgICAvLyBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICAgICAgLy8gY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgICAgIC8vICAgICBfaWQ6IHBhcmFtcy5pZFxuICAgICAgICAvLyB9KVxuICAgICAgICAvLyBpZiAodXNlcikge1xuICAgICAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci5kZWxldGVPbmUoe1xuICAgICAgICAvLyAgICAgICAgIF9pZDogcGFyYW1zLmlkXG4gICAgICAgIC8vICAgICB9KVxuICAgICAgICAvLyAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIC8vICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAvLyAgICAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnycsXG4gICAgICAgIC8vICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgLy8gICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIC8vICAgICAgICAgbXNnOiAn55So5oi35LiN5a2Y5Zyo5oiW6ICF5Yig6Zmk6ZSZ6K+vJyxcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuICAgICAgICAvKipcbiAgICAgICAgICog5Yig6Zmk5aSa5LiqXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBib2R5XG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxuICAgICAgICAvLyBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiBwYXJhbXMuaWQgfSlcbiAgICAgICAgLy8gaWYgKHVzZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci5kZWxldGVNYW55KHtcbiAgICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgICAgICRpbjogYm9keS5pZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBtc2c6ICfliKDpmaTmiJDlip8nLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIOWQjuWPsOeuoeeQhi0tLeabtOaWsOeUqOaIt1xuICAgIGFzeW5jIHVwZGF0ZVVzZXJCeUlkKGN0eCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBib2R5XG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBib2R5Ll9pZFxuICAgICAgICB9KVxuICAgICAgICAvLyAxLuagoemqjOeUqOaIt+aYr+WQpuWtmOWcqCAtPiDnlKjmiLflkI3mmK/lkKblhrLnqoEo5bey5YmN56uv6L+b6KGM5qCh6aqMIGFwaSBjaGVja1VzZXJuYW1lKVxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgICAgICBtc2c6ICfnlKjmiLfkuI3lrZjlnKjmiJbogIVpZOS/oeaBr+mUmeivr++8gSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIChib2R5LnVzZXJuYW1lICE9PSB1c2VyLnVzZXJuYW1lKSB7XG4gICAgICAgIC8vICAgICBjb25zdCB1c2VyQ2hlY2tOYW1lID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgICAgLy8gICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxuICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgLy8gICAgIGlmICh1c2VyQ2hlY2tOYW1lKSB7XG4gICAgICAgIC8vICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGNvZGU6IDUwMSxcbiAgICAgICAgLy8gICAgICAgICAgICAgbXNnOiAn55So5oi35ZCN5bey57uP5a2Y5Zyo77yM5pu05paw5aSx6LSl77yBJ1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICByZXR1cm5cbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIDIu5Yik5pat5a+G56CB5piv5ZCm5Lyg6YCSIC0+IOi/m+ihjOWKoOWvhuS/neWtmFxuICAgICAgICBpZiAoYm9keS5wYXNzd29yZCkge1xuICAgICAgICAgICAgYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKGJvZHkucGFzc3dvcmQsIDUpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci51cGRhdGVPbmUoe1xuICAgICAgICAgICAgX2lkOiBib2R5Ll9pZFxuICAgICAgICB9LCBib2R5KVxuICAgICAgICBpZiAocmVzdWx0Lm9rID09PSAxICYmIHJlc3VsdC5uTW9kaWZpZWQgPT09IDEpIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBtc2c6ICfmm7TmlrDmiJDlip8nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn5pyN5Yqh5byC5bi477yM5pu05paw5aSx6LSlJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyDlkI7lj7DnrqHnkIYtLS3mibnph4/mm7TmlrDnlKjmiLdcbiAgICBhc3luYyB1cGRhdGVVc2VyQmF0Y2goY3R4KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIudXBkYXRlTWFueSh7XG4gICAgICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgICAgICAkaW46IGJvZHkuaWRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAuLi5ib2R5LnNldHRpbmdzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIOWQjuWPsOeuoeeQhi0tLeeUqOaIt+WQjeajgOmqjFxuICAgIGFzeW5jIGNoZWNrVXNlcm5hbWUoY3R4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgICAgICAgdXNlcm5hbWU6IHBhcmFtcy51c2VybmFtZVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOm7mOiupOaYryAxIC0g5qCh6aqM6YCa6L+H77yMIDAgLSDmoKHpqozlpLHotKVcbiAgICAgICAgbGV0IHJlc3VsdCA9IDFcbiAgICAgICAgaWYgKHVzZXIgJiYgdXNlci51c2VybmFtZSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gMFxuICAgICAgICB9XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgbXNnOiAn55So5oi35ZCN5bey57uP5a2Y5Zyo77yM5pu05paw5aSx6LSl77yBJ1xuICAgICAgICB9XG5cblxuICAgIH1cblxuICAgIC8vIOWQjuWPsOeuoeeQhi0tLea3u+WKoOeUqOaIt1xuICAgIGFzeW5jIGFkZFVzZXIoY3R4KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XG5cbiAgICAgICAgYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKGJvZHkucGFzc3dvcmQsIDUpXG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcihib2R5KVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VyLnNhdmUoKVxuICAgICAgICBjb25zdCB1c2VyT2JqID0gcmVzdWx0LnRvSlNPTigpXG4gICAgICAgIGNvbnN0IGFyciA9IFsncGFzc3dvcmQnXVxuICAgICAgICBhcnIubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHVzZXJPYmpbaXRlbV1cbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHVzZXJPYmosXG4gICAgICAgICAgICAgICAgbXNnOiAn5re75Yqg55So5oi35oiQ5YqfJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+acjeWKoeaOpeWPo+W8guW4uCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBVc2VyQ29udHJvbGxlcigpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/UserController.js\n");

/***/ }),

/***/ "./src/common/Auth.js":
/*!****************************!*\
  !*** ./src/common/Auth.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/config/index */ \"./src/config/index.js\");\n/* harmony import */ var _api_AdminController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/AdminController */ \"./src/api/AdminController.js\");\n/**\r\n * @description 处理权限的中间件\r\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (ctx, next) => {\n  const headers = ctx.header.authorization;\n\n  if (headers) {\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__[\"getJWTpayload\"])(ctx.header.authorization);\n\n    if (obj._id) {\n      ctx._id = obj._id;\n      const SuperAdmin = JSON.parse((await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"getValue\"])('superadmin')));\n\n      if (SuperAdmin && SuperAdmin.includes(obj._id)) {\n        ctx.isAdmin = true;\n        await next();\n        return;\n      } else {\n        ctx.isAdmin = false;\n      }\n    }\n  } // 用户拥有的请求资源权限\n  // 1. 过滤掉公众路径\n\n\n  const {\n    publicPath\n  } = _config_index__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\n  if (publicPath.some(item => item.test(ctx.url))) {\n    await next();\n    return;\n  } // 2. 根据用户的roles -> menus -> operations\n\n\n  const operations = await _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getOperations(ctx);\n  console.log(operations); // 3. 判断用户的请求路径是否在operations里面，如果在放行，否则禁止访问\n\n  if (operations.includes(ctx.url)) {\n    await next();\n  } else {\n    ctx.throw(401);\n  } // await next()\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0F1dGguanM/YjQ1YiJdLCJuYW1lcyI6WyJjdHgiLCJuZXh0IiwiaGVhZGVycyIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJvYmoiLCJnZXRKV1RwYXlsb2FkIiwiX2lkIiwiU3VwZXJBZG1pbiIsIkpTT04iLCJwYXJzZSIsImdldFZhbHVlIiwiaW5jbHVkZXMiLCJpc0FkbWluIiwicHVibGljUGF0aCIsImNvbmZpZyIsInNvbWUiLCJpdGVtIiwidGVzdCIsInVybCIsIm9wZXJhdGlvbnMiLCJhZG1pbkNvbnRyb2xsZXIiLCJnZXRPcGVyYXRpb25zIiwiY29uc29sZSIsImxvZyIsInRocm93Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUlBO0FBR0E7QUFHQTtBQUNBO0FBR2Usc0VBQU9BLEdBQVAsRUFBWUMsSUFBWixLQUFxQjtBQUNoQyxRQUFNQyxPQUFPLEdBQUdGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUEzQjs7QUFDQSxNQUFJRixPQUFKLEVBQWE7QUFDVCxVQUFNRyxHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ04sR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0I7O0FBQ0EsUUFBSUMsR0FBRyxDQUFDRSxHQUFSLEVBQWE7QUFDVFAsU0FBRyxDQUFDTyxHQUFKLEdBQVVGLEdBQUcsQ0FBQ0UsR0FBZDtBQUNBLFlBQU1DLFVBQVUsR0FBR0MsSUFBSSxDQUFDQyxLQUFMLEVBQVcsTUFBTUMsb0VBQVEsQ0FBQyxZQUFELENBQXpCLEVBQW5COztBQUNBLFVBQUlILFVBQVUsSUFBSUEsVUFBVSxDQUFDSSxRQUFYLENBQW9CUCxHQUFHLENBQUNFLEdBQXhCLENBQWxCLEVBQWdEO0FBQzVDUCxXQUFHLENBQUNhLE9BQUosR0FBYyxJQUFkO0FBQ0EsY0FBTVosSUFBSSxFQUFWO0FBQ0E7QUFDSCxPQUpELE1BSU87QUFDSEQsV0FBRyxDQUFDYSxPQUFKLEdBQWMsS0FBZDtBQUNIO0FBQ0o7QUFDSixHQWYrQixDQWdCaEM7QUFDQTs7O0FBQ0EsUUFBTTtBQUNGQztBQURFLE1BRUZDLHFEQUZKOztBQUdBLE1BQUlELFVBQVUsQ0FBQ0UsSUFBWCxDQUFpQkMsSUFBRCxJQUFVQSxJQUFJLENBQUNDLElBQUwsQ0FBVWxCLEdBQUcsQ0FBQ21CLEdBQWQsQ0FBMUIsQ0FBSixFQUFtRDtBQUMvQyxVQUFNbEIsSUFBSSxFQUFWO0FBQ0E7QUFDSCxHQXhCK0IsQ0F5QmhDOzs7QUFDQSxRQUFNbUIsVUFBVSxHQUFHLE1BQU1DLDREQUFlLENBQUNDLGFBQWhCLENBQThCdEIsR0FBOUIsQ0FBekI7QUFDQXVCLFNBQU8sQ0FBQ0MsR0FBUixDQUFZSixVQUFaLEVBM0JnQyxDQTRCaEM7O0FBRUEsTUFBSUEsVUFBVSxDQUFDUixRQUFYLENBQW9CWixHQUFHLENBQUNtQixHQUF4QixDQUFKLEVBQWtDO0FBQzlCLFVBQU1sQixJQUFJLEVBQVY7QUFDSCxHQUZELE1BRU87QUFDSEQsT0FBRyxDQUFDeUIsS0FBSixDQUFVLEdBQVY7QUFDSCxHQWxDK0IsQ0FxQ2hDOztBQUNILENBdENEIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi9BdXRoLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBkZXNjcmlwdGlvbiDlpITnkIbmnYPpmZDnmoTkuK3pl7Tku7ZcclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gICAgZ2V0SldUcGF5bG9hZFxyXG59IGZyb20gJ0AvY29tbW9uL3V0aWxzJ1xyXG5pbXBvcnQge1xyXG4gICAgZ2V0VmFsdWVcclxufSBmcm9tICdAL2NvbmZpZy9SZWRpc0NvbmZpZydcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZy9pbmRleCdcclxuaW1wb3J0IGFkbWluQ29udHJvbGxlciBmcm9tICdAL2FwaS9BZG1pbkNvbnRyb2xsZXInXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvblxyXG4gICAgaWYgKGhlYWRlcnMpIHtcclxuICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgICAgICBpZiAob2JqLl9pZCkge1xyXG4gICAgICAgICAgICBjdHguX2lkID0gb2JqLl9pZFxyXG4gICAgICAgICAgICBjb25zdCBTdXBlckFkbWluID0gSlNPTi5wYXJzZShhd2FpdCBnZXRWYWx1ZSgnc3VwZXJhZG1pbicpKVxyXG4gICAgICAgICAgICBpZiAoU3VwZXJBZG1pbiAmJiBTdXBlckFkbWluLmluY2x1ZGVzKG9iai5faWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguaXNBZG1pbiA9IHRydWVcclxuICAgICAgICAgICAgICAgIGF3YWl0IG5leHQoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdHguaXNBZG1pbiA9IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDnlKjmiLfmi6XmnInnmoTor7fmsYLotYTmupDmnYPpmZBcclxuICAgIC8vIDEuIOi/h+a7pOaOieWFrOS8l+i3r+W+hFxyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIHB1YmxpY1BhdGhcclxuICAgIH0gPSBjb25maWdcclxuICAgIGlmIChwdWJsaWNQYXRoLnNvbWUoKGl0ZW0pID0+IGl0ZW0udGVzdChjdHgudXJsKSkpIHtcclxuICAgICAgICBhd2FpdCBuZXh0KClcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIC8vIDIuIOagueaNrueUqOaIt+eahHJvbGVzIC0+IG1lbnVzIC0+IG9wZXJhdGlvbnNcclxuICAgIGNvbnN0IG9wZXJhdGlvbnMgPSBhd2FpdCBhZG1pbkNvbnRyb2xsZXIuZ2V0T3BlcmF0aW9ucyhjdHgpXHJcbiAgICBjb25zb2xlLmxvZyhvcGVyYXRpb25zKTtcclxuICAgIC8vIDMuIOWIpOaWreeUqOaIt+eahOivt+axgui3r+W+hOaYr+WQpuWcqG9wZXJhdGlvbnPph4zpnaLvvIzlpoLmnpzlnKjmlL7ooYzvvIzlkKbliJnnpoHmraLorr/pl65cclxuXHJcbiAgICBpZiAob3BlcmF0aW9ucy5pbmNsdWRlcyhjdHgudXJsKSkge1xyXG4gICAgICAgIGF3YWl0IG5leHQoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjdHgudGhyb3coNDAxKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBhd2FpdCBuZXh0KClcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/Auth.js\n");

/***/ }),

/***/ "./src/common/ErrorHandle.js":
/*!***********************************!*\
  !*** ./src/common/ErrorHandle.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_log4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/log4 */ \"./src/config/log4.js\");\n/* harmony import */ var _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/model/ErrorRecord */ \"./src/model/ErrorRecord.js\");\n\n\nconst logger = _config_log4__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger('error');\n/* harmony default export */ __webpack_exports__[\"default\"] = ((ctx, next) => {\n  return next().catch(err => {\n    // 自定义的日志记录信息\n    logger.error(`${ctx.url} ${ctx.method} ${ctx.status} ${err.stack} `);\n\n    if (401 == err.status) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        msg: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      // throw err; //错误信息存储再stack里\n      ctx.status = err.status || 500;\n      ctx.body = Object.assign({\n        code: 500,\n        msg: err.message\n      },  true ? {\n        stack: err.stack\n      } : undefined);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nNGpzIiwiZ2V0TG9nZ2VyIiwiY3R4IiwibmV4dCIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJ1cmwiLCJtZXRob2QiLCJzdGF0dXMiLCJzdGFjayIsImJvZHkiLCJjb2RlIiwibXNnIiwiT2JqZWN0IiwiYXNzaWduIiwibWVzc2FnZSIsInByb2Nlc3MiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQSxNQUFNQSxNQUFNLEdBQUdDLG9EQUFNLENBQUNDLFNBQVAsQ0FBaUIsT0FBakIsQ0FBZjtBQUNlLGdFQUFDQyxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUMxQixTQUFPQSxJQUFJLEdBQUdDLEtBQVAsQ0FBY0MsR0FBRCxJQUFTO0FBQ3pCO0FBQ0FOLFVBQU0sQ0FBQ08sS0FBUCxDQUFjLEdBQUVKLEdBQUcsQ0FBQ0ssR0FBSSxJQUFHTCxHQUFHLENBQUNNLE1BQU8sSUFBR04sR0FBRyxDQUFDTyxNQUFPLElBQUdKLEdBQUcsQ0FBQ0ssS0FBTSxHQUFqRTs7QUFFQSxRQUFJLE9BQU9MLEdBQUcsQ0FBQ0ksTUFBZixFQUF1QjtBQUNuQlAsU0FBRyxDQUFDTyxNQUFKLEdBQWEsR0FBYjtBQUNBUCxTQUFHLENBQUNTLElBQUosR0FBVztBQUNQQyxZQUFJLEVBQUUsR0FEQztBQUVQQyxXQUFHLEVBQUU7QUFGRSxPQUFYO0FBSUgsS0FORCxNQU1PO0FBQ0g7QUFDQVgsU0FBRyxDQUFDTyxNQUFKLEdBQWFKLEdBQUcsQ0FBQ0ksTUFBSixJQUFjLEdBQTNCO0FBQ0FQLFNBQUcsQ0FBQ1MsSUFBSixHQUFXRyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNyQkgsWUFBSSxFQUFFLEdBRGU7QUFFckJDLFdBQUcsRUFBRVIsR0FBRyxDQUFDVztBQUZZLE9BQWQsRUFHUkMsS0FBQSxHQUF5QztBQUN4Q1AsYUFBSyxFQUFFTCxHQUFHLENBQUNLO0FBRDZCLE9BQXpDLEdBRUMsU0FMTyxDQUFYO0FBTUg7QUFDSixHQXBCTSxDQUFQO0FBcUJILENBdEJEIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi9FcnJvckhhbmRsZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2c0anMgZnJvbSAnQC9jb25maWcvbG9nNCdcclxuaW1wb3J0IEVycm9yUmVjb3JkIGZyb20gJ0AvbW9kZWwvRXJyb3JSZWNvcmQnXHJcblxyXG5cclxuY29uc3QgbG9nZ2VyID0gbG9nNGpzLmdldExvZ2dlcignZXJyb3InKVxyXG5leHBvcnQgZGVmYXVsdCAoY3R4LCBuZXh0KSA9PiB7XHJcbiAgICByZXR1cm4gbmV4dCgpLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAvLyDoh6rlrprkuYnnmoTml6Xlv5forrDlvZXkv6Hmga9cclxuICAgICAgICBsb2dnZXIuZXJyb3IoYCR7Y3R4LnVybH0gJHtjdHgubWV0aG9kfSAke2N0eC5zdGF0dXN9ICR7ZXJyLnN0YWNrfSBgKVxyXG5cclxuICAgICAgICBpZiAoNDAxID09IGVyci5zdGF0dXMpIHtcclxuICAgICAgICAgICAgY3R4LnN0YXR1cyA9IDQwMTtcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA0MDEsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICdQcm90ZWN0ZWQgcmVzb3VyY2UsIHVzZSBBdXRob3JpemF0aW9uIGhlYWRlciB0byBnZXQgYWNjZXNzXFxuJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhyb3cgZXJyOyAvL+mUmeivr+S/oeaBr+WtmOWCqOWGjXN0YWNr6YeMXHJcbiAgICAgICAgICAgIGN0eC5zdGF0dXMgPSBlcnIuc3RhdHVzIHx8IDUwMFxyXG4gICAgICAgICAgICBjdHguYm9keSA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBlcnIubWVzc2FnZVxyXG4gICAgICAgICAgICB9LCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHtcclxuICAgICAgICAgICAgICAgIHN0YWNrOiBlcnIuc3RhY2tcclxuICAgICAgICAgICAgfSA6IHt9KVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/ErrorHandle.js\n");

/***/ }),

/***/ "./src/common/Logger.js":
/*!******************************!*\
  !*** ./src/common/Logger.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_log4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/log4 */ \"./src/config/log4.js\");\n// 中间件 日志记录\n\nconst logger = _config_log4__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger('application');\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (ctx, next) => {\n  const start = Date.now();\n  await next();\n  const resTime = Date.now() - start; // logger.warn(`测试数据 [${ctx.method}] - ${ctx.url} - time: ${resTime / 1000}s`)\n\n  if (resTime / 1000 > 1) {\n    // 主要判断系统执行效率\n    logger.warn(`[${ctx.method}] - ${ctx.url} - time: ${resTime / 1000}s`);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0xvZ2dlci5qcz9jZWZkIl0sIm5hbWVzIjpbImxvZ2dlciIsImxvZzRqcyIsImdldExvZ2dlciIsImN0eCIsIm5leHQiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJyZXNUaW1lIiwid2FybiIsIm1ldGhvZCIsInVybCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQSxNQUFNQSxNQUFNLEdBQUdDLG9EQUFNLENBQUNDLFNBQVAsQ0FBaUIsYUFBakIsQ0FBZjtBQUdlLHNFQUFPQyxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDaEMsUUFBTUMsS0FBSyxHQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBZDtBQUNBLFFBQU1ILElBQUksRUFBVjtBQUNBLFFBQU1JLE9BQU8sR0FBR0YsSUFBSSxDQUFDQyxHQUFMLEtBQWFGLEtBQTdCLENBSGdDLENBSWhDOztBQUNBLE1BQUlHLE9BQU8sR0FBRyxJQUFWLEdBQWlCLENBQXJCLEVBQXdCO0FBQ3BCO0FBQ0FSLFVBQU0sQ0FBQ1MsSUFBUCxDQUFhLElBQUdOLEdBQUcsQ0FBQ08sTUFBTyxPQUFNUCxHQUFHLENBQUNRLEdBQUksWUFBV0gsT0FBTyxHQUFHLElBQUssR0FBbkU7QUFDSDtBQUNKLENBVEQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL0xvZ2dlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOS4remXtOS7tiDml6Xlv5forrDlvZVcclxuaW1wb3J0IGxvZzRqcyBmcm9tICdAL2NvbmZpZy9sb2c0J1xyXG5jb25zdCBsb2dnZXIgPSBsb2c0anMuZ2V0TG9nZ2VyKCdhcHBsaWNhdGlvbicpXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xyXG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpXHJcbiAgICBhd2FpdCBuZXh0KClcclxuICAgIGNvbnN0IHJlc1RpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRcclxuICAgIC8vIGxvZ2dlci53YXJuKGDmtYvor5XmlbDmja4gWyR7Y3R4Lm1ldGhvZH1dIC0gJHtjdHgudXJsfSAtIHRpbWU6ICR7cmVzVGltZSAvIDEwMDB9c2ApXHJcbiAgICBpZiAocmVzVGltZSAvIDEwMDAgPiAxKSB7XHJcbiAgICAgICAgLy8g5Li76KaB5Yik5pat57O757uf5omn6KGM5pWI546HXHJcbiAgICAgICAgbG9nZ2VyLndhcm4oYFske2N0eC5tZXRob2R9XSAtICR7Y3R4LnVybH0gLSB0aW1lOiAke3Jlc1RpbWUgLyAxMDAwfXNgKVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/Logger.js\n");

/***/ }),

/***/ "./src/common/init.js":
/*!****************************!*\
  !*** ./src/common/init.js ***!
  \****************************/
/*! exports provided: run */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"run\", function() { return run; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/model/user */ \"./src/model/user.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n\n\n\nconst run = async () => {\n  if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].SuperAdmin && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].SuperAdmin.length > 0) {\n    const superuser = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].SuperAdmin;\n    const arr = [];\n\n    for (const name of superuser) {\n      const user = await _model_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n        username: name\n      });\n\n      if (user) {\n        arr.push(user._id);\n      }\n    }\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_2__[\"setValue\"])('superadmin', JSON.stringify(arr));\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2luaXQuanM/MjdiNyJdLCJuYW1lcyI6WyJydW4iLCJjb25maWciLCJTdXBlckFkbWluIiwibGVuZ3RoIiwic3VwZXJ1c2VyIiwiYXJyIiwibmFtZSIsInVzZXIiLCJVc2VyIiwiZmluZE9uZSIsInVzZXJuYW1lIiwicHVzaCIsIl9pZCIsInNldFZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUlPLE1BQU1BLEdBQUcsR0FBRyxZQUFZO0FBQzNCLE1BQUlDLCtDQUFNLENBQUNDLFVBQVAsSUFBcUJELCtDQUFNLENBQUNDLFVBQVAsQ0FBa0JDLE1BQWxCLEdBQTJCLENBQXBELEVBQXVEO0FBQ25ELFVBQU1DLFNBQVMsR0FBR0gsK0NBQU0sQ0FBQ0MsVUFBekI7QUFDQSxVQUFNRyxHQUFHLEdBQUcsRUFBWjs7QUFDQSxTQUFLLE1BQU1DLElBQVgsSUFBbUJGLFNBQW5CLEVBQThCO0FBRTFCLFlBQU1HLElBQUksR0FBRyxNQUFNQyxtREFBSSxDQUFDQyxPQUFMLENBQWE7QUFDNUJDLGdCQUFRLEVBQUVKO0FBRGtCLE9BQWIsQ0FBbkI7O0FBR0EsVUFBSUMsSUFBSixFQUFVO0FBQ05GLFdBQUcsQ0FBQ00sSUFBSixDQUFTSixJQUFJLENBQUNLLEdBQWQ7QUFDSDtBQUNKOztBQUNEQyx3RUFBUSxDQUFDLFlBQUQsRUFBZUMsSUFBSSxDQUFDQyxTQUFMLENBQWVWLEdBQWYsQ0FBZixDQUFSO0FBQ0g7QUFDSixDQWZNIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi9pbml0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZydcclxuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbC91c2VyJ1xyXG5pbXBvcnQge1xyXG4gICAgc2V0VmFsdWVcclxufSBmcm9tICdAL2NvbmZpZy9SZWRpc0NvbmZpZydcclxuXHJcbmV4cG9ydCBjb25zdCBydW4gPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoY29uZmlnLlN1cGVyQWRtaW4gJiYgY29uZmlnLlN1cGVyQWRtaW4ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHN1cGVydXNlciA9IGNvbmZpZy5TdXBlckFkbWluXHJcbiAgICAgICAgY29uc3QgYXJyID0gW11cclxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2Ygc3VwZXJ1c2VyKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBuYW1lXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBhcnIucHVzaCh1c2VyLl9pZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRWYWx1ZSgnc3VwZXJhZG1pbicsIEpTT04uc3RyaW5naWZ5KGFycikpXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/init.js\n");

/***/ }),

/***/ "./src/common/utils.js":
/*!*****************************!*\
  !*** ./src/common/utils.js ***!
  \*****************************/
/*! exports provided: checkCode, getJWTpayload, dirExists, rename, sortMenus, getMenuData, getRights */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCode\", function() { return checkCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getJWTpayload\", function() { return getJWTpayload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dirExists\", function() { return dirExists; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rename\", function() { return rename; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sortMenus\", function() { return sortMenus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMenuData\", function() { return getMenuData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRights\", function() { return getRights; });\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n //获取token的payload\n\nconst getJWTpayload = token => {\n  // console.log(token);\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.verify(token.split(' ')[1], _config_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].JWT_SECRET);\n}; //验证码的验证\n\n\nconst checkCode = async (key, value) => {\n  const redisData = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__[\"getValue\"])(key);\n\n  if (redisData != null) {\n    if (redisData.toLowerCase() === value.toLowerCase()) {\n      //转换小写，排除大小写得影响\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}; //验证文件是否存在 ，node自身fs库提供判断的方法\n// https://nodejs.org/docs/latest-v10.x/api/fs.html#fs_class_fs_stats\n\n\nconst dirExists = async dir => {\n  // 路径的判断\n  const isExists = await getStats(dir);\n  console.log('isExists', isExists); //如果该路径存在且不是文件，返回true\n\n  if (isExists && isExists.isDirectory()) {\n    return true;\n  } else if (isExists) {\n    // 路径存在，但是是false\n    return false;\n  } //如果该路径不存在\n\n\n  const tempDir = path__WEBPACK_IMPORTED_MODULE_4___default.a.parse(dir).dir;\n  console.log('tempDir', tempDir); // 循环遍历，递归判断如果上级目录不存在，则产生上级目录\n\n  const status = await dirExists(tempDir);\n  console.log('testatusmpDir', status);\n\n  if (status) {\n    const result = await mkdir(dir);\n    console.log('result', result);\n    return result;\n  } else {\n    return false;\n  }\n};\n\nconst getStats = async path => {\n  return new Promise(resolve => {\n    // fs.stats(path, (err, stats) => {\n    //     if (err) {\n    //         resolve(err)\n    //     } else {\n    //         resolve(stats)\n    //     }\n    // })\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.stat(path, (err, stats) => err ? resolve(false) : resolve(stats));\n  });\n};\n\nconst mkdir = async dir => {\n  return new Promise(resolve => {\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.mkdir(dir, err => err ? resolve(false) : resolve(true));\n  });\n}; // 文章详情字段替换\n\n\nconst rename = (obj, key, newkey) => {\n  if (Object.keys(obj).indexOf(key) !== -1) {\n    obj[newkey] = obj[key];\n    delete obj[key];\n  }\n\n  return obj;\n};\n/**\r\n * @description 菜单排序\r\n * @param {*} tree \r\n */\n\n\nconst sortMenus = tree => {\n  tree = sortObj(tree, 'sort');\n\n  if (tree.children && tree.children.length > 0) {\n    tree.children = sortMenus(tree.children, 'sort');\n  }\n\n  if (tree.operations && tree.operations.length > 0) {\n    tree.operations = sortMenus(tree.operations, 'sort');\n  }\n\n  return tree;\n};\n/**\r\n * @description 封装路由结构信息\r\n * @param {Array} tree 菜单数据\r\n * @param {Array} rights 角色信息\r\n * @param {Boolean} flag  是否为超级管理员\r\n */\n// 排序\n\n\nconst sortObj = (arr, property) => {\n  return arr.sort((m, n) => m[property] - n[property]);\n};\n\nconst getMenuData = (tree, rights, flag) => {\n  const arr = [];\n\n  for (let i = 0; i < tree.length; i++) {\n    const item = tree[i]; // _id 包含在menus中\n    // 结构进行改造，删除opertaions\n\n    if (rights.includes(item._id + '') || flag) {\n      if (item.type === 'menu') {\n        arr.push({\n          _id: item._id,\n          path: item.path,\n          meta: {\n            title: item.title,\n            hideInBread: item.hideInBread,\n            hideInMenu: item.hideInMenu,\n            notCache: item.notCache,\n            icon: item.icon\n          },\n          component: item.component,\n          children: getMenuData(item.children, rights)\n        });\n      } else if (item.type === 'link') {\n        arr.push({\n          _id: item._id,\n          path: item.path,\n          meta: {\n            title: item.title,\n            icon: item.icon,\n            href: item.link\n          }\n        });\n      }\n    }\n  }\n\n  return sortObj(arr, 'sort');\n};\n/**\r\n * @description 菜单资源中资源权限\r\n * @param {*} arr \r\n */\n\n\nconst flatten = arr => {\n  while (arr.some(item => Array.isArray(item))) {\n    arr = [].concat(...arr);\n  }\n\n  return arr;\n};\n\nconst getRights = (tree, menus) => {\n  let arr = [];\n\n  for (let item of tree) {\n    if (item.operations && item.operations.length > 0) {\n      for (let op of item.operations) {\n        if (menus.includes(op._id + '')) {\n          arr.push(op.path);\n        }\n      }\n    } else if (item.children && item.children.length > 0) {\n      arr.push(getRights(item.children, menus));\n    }\n  }\n\n  return flatten(arr);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3V0aWxzLmpzPzkwYjkiXSwibmFtZXMiOlsiZ2V0SldUcGF5bG9hZCIsInRva2VuIiwiand0IiwidmVyaWZ5Iiwic3BsaXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiY2hlY2tDb2RlIiwia2V5IiwidmFsdWUiLCJyZWRpc0RhdGEiLCJnZXRWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZGlyRXhpc3RzIiwiZGlyIiwiaXNFeGlzdHMiLCJnZXRTdGF0cyIsImNvbnNvbGUiLCJsb2ciLCJpc0RpcmVjdG9yeSIsInRlbXBEaXIiLCJwYXRoIiwicGFyc2UiLCJzdGF0dXMiLCJyZXN1bHQiLCJta2RpciIsIlByb21pc2UiLCJyZXNvbHZlIiwiZnMiLCJzdGF0IiwiZXJyIiwic3RhdHMiLCJyZW5hbWUiLCJvYmoiLCJuZXdrZXkiLCJPYmplY3QiLCJrZXlzIiwiaW5kZXhPZiIsInNvcnRNZW51cyIsInRyZWUiLCJzb3J0T2JqIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJvcGVyYXRpb25zIiwiYXJyIiwicHJvcGVydHkiLCJzb3J0IiwibSIsIm4iLCJnZXRNZW51RGF0YSIsInJpZ2h0cyIsImZsYWciLCJpIiwiaXRlbSIsImluY2x1ZGVzIiwiX2lkIiwidHlwZSIsInB1c2giLCJtZXRhIiwidGl0bGUiLCJoaWRlSW5CcmVhZCIsImhpZGVJbk1lbnUiLCJub3RDYWNoZSIsImljb24iLCJjb21wb25lbnQiLCJocmVmIiwibGluayIsImZsYXR0ZW4iLCJzb21lIiwiQXJyYXkiLCJpc0FycmF5IiwiY29uY2F0IiwiZ2V0UmlnaHRzIiwibWVudXMiLCJvcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtDQUdBOztBQUNBLE1BQU1BLGFBQWEsR0FBR0MsS0FBSyxJQUFJO0FBQzNC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c0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIGdldFZhbHVlLFxyXG59IGZyb20gJ0AvY29uZmlnL1JlZGlzQ29uZmlnJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZy9pbmRleCdcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuXHJcbi8v6I635Y+WdG9rZW7nmoRwYXlsb2FkXHJcbmNvbnN0IGdldEpXVHBheWxvYWQgPSB0b2tlbiA9PiB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0b2tlbik7XHJcbiAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbi5zcGxpdCgnICcpWzFdLCBjb25maWcuSldUX1NFQ1JFVClcclxufVxyXG5cclxuLy/pqozor4HnoIHnmoTpqozor4FcclxuY29uc3QgY2hlY2tDb2RlID0gYXN5bmMgKGtleSwgdmFsdWUpID0+IHtcclxuICAgIGNvbnN0IHJlZGlzRGF0YSA9IGF3YWl0IGdldFZhbHVlKGtleSlcclxuICAgIGlmIChyZWRpc0RhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChyZWRpc0RhdGEudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKSkgeyAvL+i9rOaNouWwj+WGme+8jOaOkumZpOWkp+Wwj+WGmeW+l+W9seWTjVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbn1cclxuXHJcbi8v6aqM6K+B5paH5Lu25piv5ZCm5a2Y5ZyoIO+8jG5vZGXoh6rouqtmc+W6k+aPkOS+m+WIpOaWreeahOaWueazlVxyXG4vLyBodHRwczovL25vZGVqcy5vcmcvZG9jcy9sYXRlc3QtdjEwLngvYXBpL2ZzLmh0bWwjZnNfY2xhc3NfZnNfc3RhdHNcclxuY29uc3QgZGlyRXhpc3RzID0gYXN5bmMgKGRpcikgPT4ge1xyXG4gICAgLy8g6Lev5b6E55qE5Yik5patXHJcbiAgICBjb25zdCBpc0V4aXN0cyA9IGF3YWl0IGdldFN0YXRzKGRpcilcclxuICAgIGNvbnNvbGUubG9nKCdpc0V4aXN0cycsIGlzRXhpc3RzKTtcclxuXHJcbiAgICAvL+WmguaenOivpei3r+W+hOWtmOWcqOS4lOS4jeaYr+aWh+S7tu+8jOi/lOWbnnRydWVcclxuICAgIGlmIChpc0V4aXN0cyAmJiBpc0V4aXN0cy5pc0RpcmVjdG9yeSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gZWxzZSBpZiAoaXNFeGlzdHMpIHtcclxuICAgICAgICAvLyDot6/lvoTlrZjlnKjvvIzkvYbmmK/mmK9mYWxzZVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgLy/lpoLmnpzor6Xot6/lvoTkuI3lrZjlnKhcclxuICAgIGNvbnN0IHRlbXBEaXIgPSBwYXRoLnBhcnNlKGRpcikuZGlyXHJcbiAgICBjb25zb2xlLmxvZygndGVtcERpcicsIHRlbXBEaXIpO1xyXG5cclxuICAgIC8vIOW+queOr+mBjeWOhu+8jOmAkuW9kuWIpOaWreWmguaenOS4iue6p+ebruW9leS4jeWtmOWcqO+8jOWImeS6p+eUn+S4iue6p+ebruW9lVxyXG4gICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgZGlyRXhpc3RzKHRlbXBEaXIpXHJcbiAgICBjb25zb2xlLmxvZygndGVzdGF0dXNtcERpcicsIHN0YXR1cyk7XHJcblxyXG4gICAgaWYgKHN0YXR1cykge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1rZGlyKGRpcilcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGdldFN0YXRzID0gYXN5bmMgKHBhdGgpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAvLyBmcy5zdGF0cyhwYXRoLCAoZXJyLCBzdGF0cykgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXNvbHZlKGVycilcclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIHJlc29sdmUoc3RhdHMpXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KVxyXG4gICAgICAgIGZzLnN0YXQocGF0aCwgKGVyciwgc3RhdHMpID0+IGVyciA/IHJlc29sdmUoZmFsc2UpIDogcmVzb2x2ZShzdGF0cykpXHJcbiAgICB9KVxyXG59XHJcbmNvbnN0IG1rZGlyID0gYXN5bmMgKGRpcikgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIGZzLm1rZGlyKGRpciwgZXJyID0+IGVyciA/IHJlc29sdmUoZmFsc2UpIDogcmVzb2x2ZSh0cnVlKSlcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG4vLyDmlofnq6Dor6bmg4XlrZfmrrXmm7/mjaJcclxuY29uc3QgcmVuYW1lID0gKG9iaiwga2V5LCBuZXdrZXkpID0+IHtcclxuICAgIGlmIChPYmplY3Qua2V5cyhvYmopLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcclxuICAgICAgICBvYmpbbmV3a2V5XSA9IG9ialtrZXldXHJcbiAgICAgICAgZGVsZXRlIG9ialtrZXldXHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZGVzY3JpcHRpb24g6I+c5Y2V5o6S5bqPXHJcbiAqIEBwYXJhbSB7Kn0gdHJlZSBcclxuICovXHJcbmNvbnN0IHNvcnRNZW51cyA9ICh0cmVlKSA9PiB7XHJcbiAgICB0cmVlID0gc29ydE9iaih0cmVlLCAnc29ydCcpXHJcbiAgICBpZiAodHJlZS5jaGlsZHJlbiAmJiB0cmVlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0cmVlLmNoaWxkcmVuID0gc29ydE1lbnVzKHRyZWUuY2hpbGRyZW4sICdzb3J0JylcclxuICAgIH1cclxuICAgIGlmICh0cmVlLm9wZXJhdGlvbnMgJiYgdHJlZS5vcGVyYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0cmVlLm9wZXJhdGlvbnMgPSBzb3J0TWVudXModHJlZS5vcGVyYXRpb25zLCAnc29ydCcpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJlZVxyXG59XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uIOWwgeijhei3r+eUsee7k+aehOS/oeaBr1xyXG4gKiBAcGFyYW0ge0FycmF5fSB0cmVlIOiPnOWNleaVsOaNrlxyXG4gKiBAcGFyYW0ge0FycmF5fSByaWdodHMg6KeS6Imy5L+h5oGvXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZmxhZyAg5piv5ZCm5Li66LaF57qn566h55CG5ZGYXHJcbiAqL1xyXG4vLyDmjpLluo9cclxuY29uc3Qgc29ydE9iaiA9IChhcnIsIHByb3BlcnR5KSA9PiB7XHJcbiAgICByZXR1cm4gYXJyLnNvcnQoKG0sIG4pID0+IG1bcHJvcGVydHldIC0gbltwcm9wZXJ0eV0pXHJcbn1cclxuY29uc3QgZ2V0TWVudURhdGEgPSAodHJlZSwgcmlnaHRzLCBmbGFnKSA9PiB7XHJcbiAgICBjb25zdCBhcnIgPSBbXVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IHRyZWVbaV1cclxuICAgICAgICAvLyBfaWQg5YyF5ZCr5ZyobWVudXPkuK1cclxuICAgICAgICAvLyDnu5PmnoTov5vooYzmlLnpgKDvvIzliKDpmaRvcGVydGFpb25zXHJcbiAgICAgICAgaWYgKHJpZ2h0cy5pbmNsdWRlcyhpdGVtLl9pZCArICcnKSB8fCBmbGFnKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZW51Jykge1xyXG4gICAgICAgICAgICAgICAgYXJyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogaXRlbS5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogaXRlbS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVJbkJyZWFkOiBpdGVtLmhpZGVJbkJyZWFkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlSW5NZW51OiBpdGVtLmhpZGVJbk1lbnUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdENhY2hlOiBpdGVtLm5vdENhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpdGVtLmljb25cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogaXRlbS5jb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IGdldE1lbnVEYXRhKGl0ZW0uY2hpbGRyZW4sIHJpZ2h0cylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnbGluaycpIHtcclxuICAgICAgICAgICAgICAgIGFyci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGl0ZW0uX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBtZXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpdGVtLmljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGl0ZW0ubGlua1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNvcnRPYmooYXJyLCAnc29ydCcpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZGVzY3JpcHRpb24g6I+c5Y2V6LWE5rqQ5Lit6LWE5rqQ5p2D6ZmQXHJcbiAqIEBwYXJhbSB7Kn0gYXJyIFxyXG4gKi9cclxuY29uc3QgZmxhdHRlbiA9IChhcnIpID0+IHtcclxuICAgIHdoaWxlIChhcnIuc29tZSgoaXRlbSkgPT4gQXJyYXkuaXNBcnJheShpdGVtKSkpIHtcclxuICAgICAgICBhcnIgPSBbXS5jb25jYXQoLi4uYXJyKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyclxyXG59XHJcbmNvbnN0IGdldFJpZ2h0cyA9ICh0cmVlLCBtZW51cykgPT4ge1xyXG4gICAgbGV0IGFyciA9IFtdXHJcbiAgICBmb3IgKGxldCBpdGVtIG9mIHRyZWUpIHtcclxuICAgICAgICBpZiAoaXRlbS5vcGVyYXRpb25zICYmIGl0ZW0ub3BlcmF0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG9wIG9mIGl0ZW0ub3BlcmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1lbnVzLmluY2x1ZGVzKG9wLl9pZCArICcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKG9wLnBhdGgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKGdldFJpZ2h0cyhpdGVtLmNoaWxkcmVuLCBtZW51cykpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZsYXR0ZW4oYXJyKVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgY2hlY2tDb2RlLFxyXG4gICAgZ2V0SldUcGF5bG9hZCxcclxuICAgIGRpckV4aXN0cyxcclxuICAgIHJlbmFtZSxcclxuICAgIHNvcnRNZW51cyxcclxuICAgIGdldE1lbnVEYXRhLFxyXG4gICAgZ2V0UmlnaHRzXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/utils.js\n");

/***/ }),

/***/ "./src/config/DBHelpler.js":
/*!*********************************!*\
  !*** ./src/config/DBHelpler.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect(_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true //数据库字段中创建索引5.x版本以上调用的是ensureIndex()函数，开启使用createIndex()函数\n\n}); //连接成功\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('connected', () => {\n  console.log('Mongoose is Connection open to ' + _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL);\n}); // 连接异常\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('error', error => {\n  console.log('Mongoose is Connection error to ' + error);\n}); // 断开连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('disconnected', () => {\n  console.log('Mongoose is DisConnection error to ');\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (mongoose__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcz9lNjg0Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdCIsImNvbmZpZyIsIkRCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwiY29ubmVjdGlvbiIsIm9uIiwiY29uc29sZSIsImxvZyIsImVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQUEsK0NBQVEsQ0FBQ0MsT0FBVCxDQUFpQkMsOENBQU0sQ0FBQ0MsTUFBeEIsRUFBZ0M7QUFDNUJDLGlCQUFlLEVBQUUsSUFEVztBQUU1QkMsb0JBQWtCLEVBQUUsSUFGUTtBQUc1QkMsZ0JBQWMsRUFBRSxJQUhZLENBR1A7O0FBSE8sQ0FBaEMsRSxDQU1BOztBQUNBTiwrQ0FBUSxDQUFDTyxVQUFULENBQW9CQyxFQUFwQixDQUF1QixXQUF2QixFQUFvQyxNQUFNO0FBQ3RDQyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxvQ0FBb0NSLDhDQUFNLENBQUNDLE1BQXZEO0FBQ0gsQ0FGRCxFLENBR0E7O0FBQ0FILCtDQUFRLENBQUNPLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQWlDRyxLQUFELElBQVc7QUFDdkNGLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLHFDQUFxQ0MsS0FBakQ7QUFDSCxDQUZELEUsQ0FHQTs7QUFDQVgsK0NBQVEsQ0FBQ08sVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsY0FBdkIsRUFBdUMsTUFBTTtBQUN6Q0MsU0FBTyxDQUFDQyxHQUFSLENBQVkscUNBQVo7QUFDSCxDQUZEO0FBSWVWLDhHQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9EQkhlbHBsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9pbmRleCdcclxuXHJcbm1vbmdvb3NlLmNvbm5lY3QoY29uZmlnLkRCX1VSTCwge1xyXG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxyXG4gICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUgLy/mlbDmja7lupPlrZfmrrXkuK3liJvlu7rntKLlvJU1LnjniYjmnKzku6XkuIrosIPnlKjnmoTmmK9lbnN1cmVJbmRleCgp5Ye95pWw77yM5byA5ZCv5L2/55SoY3JlYXRlSW5kZXgoKeWHveaVsFxyXG59KVxyXG5cclxuLy/ov57mjqXmiJDlip9cclxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ01vbmdvb3NlIGlzIENvbm5lY3Rpb24gb3BlbiB0byAnICsgY29uZmlnLkRCX1VSTCk7XHJcbn0pXHJcbi8vIOi/nuaOpeW8guW4uFxyXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ01vbmdvb3NlIGlzIENvbm5lY3Rpb24gZXJyb3IgdG8gJyArIGVycm9yKTtcclxufSlcclxuLy8g5pat5byA6L+e5o6lXHJcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Rpc2Nvbm5lY3RlZCcsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdNb25nb29zZSBpcyBEaXNDb25uZWN0aW9uIGVycm9yIHRvICcpO1xyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/DBHelpler.js\n");

/***/ }),

/***/ "./src/config/MailConfig.js":
/*!**********************************!*\
  !*** ./src/config/MailConfig.js ***!
  \**********************************/
/*! exports provided: SendEmail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendEmail\", function() { return SendEmail; });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n // async..await is not allowed in global scope, must use a wrapper\n\nasync function SendEmail(sendInfo) {\n  console.log(sendInfo); // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  // 有真正得邮箱就省略\n  //   let testAccount = await nodemailer.createTestAccount();\n  // create reusable transporter object using the default SMTP transport\n\n  let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n    host: \"smtp.qq.com\",\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: '1641250803@qq.com',\n      // generated ethereal user  //配置了SMTP服务得邮箱\n      pass: 'otnwvaqcxpcgdbde' // generated ethereal password\n\n    }\n  });\n  /**\r\n   * 自定义配置\r\n   */\n  // let sendInfo = {\n  //     email: '1641250803@qq.com',\n  //     code: '123',\n  //     user: 'Sunnny',\n  //     expire: '2019-08-15'\n  // }\n\n  const baseUrl = _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].baseUrl;\n  const route = sendInfo.type === 'email' ? '/confirm' : '/reset';\n  let url = `${baseUrl}/#${route}?` + qs__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(sendInfo.data); // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    from: '\"认证邮件Fred Foo 👻\" <1641250803@qq.com>',\n    // sender address\n    to: sendInfo.email,\n    // list of receivers\n    subject: sendInfo.user !== '' && sendInfo.type !== 'email' ? `${sendInfo.user}您好，您正在注册Sunny社区,请及时注册` : '您好，您正在修改Sunny社区注册邮箱,请及谨慎',\n    // Subject line\n    text: `您在Sunny验证码为${sendInfo.code}，过期时间${sendInfo.expire}`,\n    // plain text body\n    html: `\n        <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">Sunny社区——欢迎来到官方社区</div>\n        <div style=\"padding: 25px\">\n          <div>您好，${sendInfo.user}童鞋，重置链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：</div>\n          <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">立即重置密码</a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n    </div>\n        ` // html body\n\n  });\n  return \"Message sent: %s\", info.messageId; // console.log(\"Message sent: %s\", info.messageId);\n  // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n  // Preview only available when sending through an Ethereal account\n  // console.log(\"Preview URL: %s\", nodemailer.getTestMessageUrl(info));\n  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n} // SendEmail().catch(console.error);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL01haWxDb25maWcuanM/MmRiMSJdLCJuYW1lcyI6WyJTZW5kRW1haWwiLCJzZW5kSW5mbyIsImNvbnNvbGUiLCJsb2ciLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsImJhc2VVcmwiLCJjb25maWciLCJyb3V0ZSIsInR5cGUiLCJ1cmwiLCJxcyIsInN0cmluZ2lmeSIsImRhdGEiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJ0ZXh0IiwiY29kZSIsImV4cGlyZSIsImh0bWwiLCJtZXNzYWdlSWQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtDQUVBOztBQUNBLGVBQWVBLFNBQWYsQ0FBeUJDLFFBQXpCLEVBQW1DO0FBQy9CQyxTQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBWixFQUQrQixDQUcvQjtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBLE1BQUlHLFdBQVcsR0FBR0MsaURBQVUsQ0FBQ0MsZUFBWCxDQUEyQjtBQUN6Q0MsUUFBSSxFQUFFLGFBRG1DO0FBRXpDQyxRQUFJLEVBQUUsR0FGbUM7QUFHekNDLFVBQU0sRUFBRSxLQUhpQztBQUcxQjtBQUNmQyxRQUFJLEVBQUU7QUFDRkMsVUFBSSxFQUFFLG1CQURKO0FBQ3lCO0FBQzNCQyxVQUFJLEVBQUUsa0JBRkosQ0FFd0I7O0FBRnhCO0FBSm1DLEdBQTNCLENBQWxCO0FBVUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxRQUFNQyxPQUFPLEdBQUdDLDhDQUFNLENBQUNELE9BQXZCO0FBQ0EsUUFBTUUsS0FBSyxHQUFHZCxRQUFRLENBQUNlLElBQVQsS0FBa0IsT0FBbEIsR0FBNEIsVUFBNUIsR0FBeUMsUUFBdkQ7QUFDQSxNQUFJQyxHQUFHLEdBQUksR0FBRUosT0FBUSxLQUFJRSxLQUFNLEdBQXJCLEdBQTBCRyx5Q0FBRSxDQUFDQyxTQUFILENBQWFsQixRQUFRLENBQUNtQixJQUF0QixDQUFwQyxDQTlCK0IsQ0FnQy9COztBQUNBLE1BQUlDLElBQUksR0FBRyxNQUFNakIsV0FBVyxDQUFDa0IsUUFBWixDQUFxQjtBQUNsQ0MsUUFBSSxFQUFFLHVDQUQ0QjtBQUNhO0FBQy9DQyxNQUFFLEVBQUV2QixRQUFRLENBQUN3QixLQUZxQjtBQUVkO0FBQ3BCQyxXQUFPLEVBQUV6QixRQUFRLENBQUNVLElBQVQsS0FBa0IsRUFBbEIsSUFBd0JWLFFBQVEsQ0FBQ2UsSUFBVCxLQUFrQixPQUExQyxHQUFxRCxHQUFHZixRQUFRLENBQUNVLElBQUssdUJBQXRFLEdBQStGLDBCQUh0RTtBQUdrRztBQUNwSWdCLFFBQUksRUFBRyxjQUFhMUIsUUFBUSxDQUFDMkIsSUFBSyxRQUFPM0IsUUFBUSxDQUFDNEIsTUFBTyxFQUp2QjtBQUkwQjtBQUM1REMsUUFBSSxFQUFHOzs7O29CQUlLN0IsUUFBUSxDQUFDVSxJQUFLLHFCQUFvQlYsUUFBUSxDQUFDNEIsTUFBTztxQkFDakRaLEdBQUk7Ozs7O1NBVmlCLENBZS9COztBQWYrQixHQUFyQixDQUFqQjtBQW1CQSxTQUFPLG9CQUFvQkksSUFBSSxDQUFDVSxTQUFoQyxDQXBEK0IsQ0FzRC9CO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDSCxDLENBRUQiLCJmaWxlIjoiLi9zcmMvY29uZmlnL01haWxDb25maWcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tIFwibm9kZW1haWxlclwiXHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vaW5kZXhcIjtcclxuaW1wb3J0IHFzIGZyb20gJ3FzJ1xyXG4vLyBhc3luYy4uYXdhaXQgaXMgbm90IGFsbG93ZWQgaW4gZ2xvYmFsIHNjb3BlLCBtdXN0IHVzZSBhIHdyYXBwZXJcclxuYXN5bmMgZnVuY3Rpb24gU2VuZEVtYWlsKHNlbmRJbmZvKSB7XHJcbiAgICBjb25zb2xlLmxvZyhzZW5kSW5mbyk7XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgdGVzdCBTTVRQIHNlcnZpY2UgYWNjb3VudCBmcm9tIGV0aGVyZWFsLmVtYWlsXHJcbiAgICAvLyBPbmx5IG5lZWRlZCBpZiB5b3UgZG9uJ3QgaGF2ZSBhIHJlYWwgbWFpbCBhY2NvdW50IGZvciB0ZXN0aW5nXHJcbiAgICAvLyDmnInnnJ/mraPlvpfpgq7nrrHlsLHnnIHnlaVcclxuICAgIC8vICAgbGV0IHRlc3RBY2NvdW50ID0gYXdhaXQgbm9kZW1haWxlci5jcmVhdGVUZXN0QWNjb3VudCgpO1xyXG5cclxuICAgIC8vIGNyZWF0ZSByZXVzYWJsZSB0cmFuc3BvcnRlciBvYmplY3QgdXNpbmcgdGhlIGRlZmF1bHQgU01UUCB0cmFuc3BvcnRcclxuICAgIGxldCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICAgICAgICBob3N0OiBcInNtdHAucXEuY29tXCIsXHJcbiAgICAgICAgcG9ydDogNTg3LFxyXG4gICAgICAgIHNlY3VyZTogZmFsc2UsIC8vIHRydWUgZm9yIDQ2NSwgZmFsc2UgZm9yIG90aGVyIHBvcnRzXHJcbiAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICB1c2VyOiAnMTY0MTI1MDgwM0BxcS5jb20nLCAvLyBnZW5lcmF0ZWQgZXRoZXJlYWwgdXNlciAgLy/phY3nva7kuoZTTVRQ5pyN5Yqh5b6X6YKu566xXHJcbiAgICAgICAgICAgIHBhc3M6ICdvdG53dmFxY3hwY2dkYmRlJywgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHBhc3N3b3JkXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Ieq5a6a5LmJ6YWN572uXHJcbiAgICAgKi9cclxuICAgIC8vIGxldCBzZW5kSW5mbyA9IHtcclxuICAgIC8vICAgICBlbWFpbDogJzE2NDEyNTA4MDNAcXEuY29tJyxcclxuICAgIC8vICAgICBjb2RlOiAnMTIzJyxcclxuICAgIC8vICAgICB1c2VyOiAnU3Vubm55JyxcclxuICAgIC8vICAgICBleHBpcmU6ICcyMDE5LTA4LTE1J1xyXG4gICAgLy8gfVxyXG4gICAgY29uc3QgYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsXHJcbiAgICBjb25zdCByb3V0ZSA9IHNlbmRJbmZvLnR5cGUgPT09ICdlbWFpbCcgPyAnL2NvbmZpcm0nIDogJy9yZXNldCdcclxuICAgIGxldCB1cmwgPSBgJHtiYXNlVXJsfS8jJHtyb3V0ZX0/YCArIHFzLnN0cmluZ2lmeShzZW5kSW5mby5kYXRhKVxyXG5cclxuICAgIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxyXG4gICAgbGV0IGluZm8gPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XHJcbiAgICAgICAgZnJvbTogJ1wi6K6k6K+B6YKu5Lu2RnJlZCBGb28g8J+Ru1wiIDwxNjQxMjUwODAzQHFxLmNvbT4nLCAvLyBzZW5kZXIgYWRkcmVzc1xyXG4gICAgICAgIHRvOiBzZW5kSW5mby5lbWFpbCwgLy8gbGlzdCBvZiByZWNlaXZlcnNcclxuICAgICAgICBzdWJqZWN0OiBzZW5kSW5mby51c2VyICE9PSAnJyAmJiBzZW5kSW5mby50eXBlICE9PSAnZW1haWwnID8gYCR7IHNlbmRJbmZvLnVzZXJ95oKo5aW977yM5oKo5q2j5Zyo5rOo5YaMU3VubnnnpL7ljLos6K+35Y+K5pe25rOo5YaMYCA6ICfmgqjlpb3vvIzmgqjmraPlnKjkv67mlLlTdW5ueeekvuWMuuazqOWGjOmCrueusSzor7flj4rosKjmhY4nLCAvLyBTdWJqZWN0IGxpbmVcclxuICAgICAgICB0ZXh0OiBg5oKo5ZyoU3Vubnnpqozor4HnoIHkuLoke3NlbmRJbmZvLmNvZGV977yM6L+H5pyf5pe26Ze0JHtzZW5kSW5mby5leHBpcmV9YCwgLy8gcGxhaW4gdGV4dCBib2R5XHJcbiAgICAgICAgaHRtbDogYFxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjO2NvbG9yOiAjNjc2NzY3O3dpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmctYm90dG9tOiA1MHB4O3Bvc2l0aW9uOiByZWxhdGl2ZTtcIj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiA2MHB4OyBiYWNrZ3JvdW5kOiAjMzkzZDQ5OyBsaW5lLWhlaWdodDogNjBweDsgY29sb3I6ICM1OGEzNmY7IGZvbnQtc2l6ZTogMThweDtwYWRkaW5nLWxlZnQ6IDEwcHg7XCI+U3VubnnnpL7ljLrigJTigJTmrKLov47mnaXliLDlrpjmlrnnpL7ljLo8L2Rpdj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMjVweFwiPlxyXG4gICAgICAgICAgPGRpdj7mgqjlpb3vvIwke3NlbmRJbmZvLnVzZXJ956ul6Z6L77yM6YeN572u6ZO+5o6l5pyJ5pWI5pe26Ze0MzDliIbpkp/vvIzor7flnKgke3NlbmRJbmZvLmV4cGlyZX3kuYvliY3ph43nva7mgqjnmoTlr4bnoIHvvJo8L2Rpdj5cclxuICAgICAgICAgIDxhIGhyZWY9XCIke3VybH1cIiBzdHlsZT1cInBhZGRpbmc6IDEwcHggMjBweDsgY29sb3I6ICNmZmY7IGJhY2tncm91bmQ6ICMwMDllOTQ7IGRpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW46IDE1cHggMDtcIj7nq4vljbPph43nva7lr4bnoIE8L2E+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogNXB4OyBiYWNrZ3JvdW5kOiAjZjJmMmYyO1wiPuWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAgjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmFmYWZhOyBjb2xvcjogI2I0YjRiNDt0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiA0NXB4OyBoZWlnaHQ6IDQ1cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgYm90dG9tOiAwO3dpZHRoOiAxMDAlO1wiPuezu+e7n+mCruS7tu+8jOivt+WLv+ebtOaOpeWbnuWkjTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICAgICAgYCwgLy8gaHRtbCBib2R5XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgcmV0dXJuIFwiTWVzc2FnZSBzZW50OiAlc1wiLCBpbmZvLm1lc3NhZ2VJZFxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKFwiTWVzc2FnZSBzZW50OiAlc1wiLCBpbmZvLm1lc3NhZ2VJZCk7XHJcbiAgICAvLyBNZXNzYWdlIHNlbnQ6IDxiNjU4ZjhjYS02Mjk2LWNjZjQtODMwNi04N2Q1N2EwYjQzMjFAZXhhbXBsZS5jb20+XHJcblxyXG4gICAgLy8gUHJldmlldyBvbmx5IGF2YWlsYWJsZSB3aGVuIHNlbmRpbmcgdGhyb3VnaCBhbiBFdGhlcmVhbCBhY2NvdW50XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIlByZXZpZXcgVVJMOiAlc1wiLCBub2RlbWFpbGVyLmdldFRlc3RNZXNzYWdlVXJsKGluZm8pKTtcclxuICAgIC8vIFByZXZpZXcgVVJMOiBodHRwczovL2V0aGVyZWFsLmVtYWlsL21lc3NhZ2UvV2FRS01nS2RkeFFEb291Li4uXHJcbn1cclxuXHJcbi8vIFNlbmRFbWFpbCgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIFNlbmRFbWFpbFxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/MailConfig.js\n");

/***/ }),

/***/ "./src/config/RedisConfig.js":
/*!***********************************!*\
  !*** ./src/config/RedisConfig.js ***!
  \***********************************/
/*! exports provided: client, getValue, getHvalue, setValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"client\", function() { return client; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValue\", function() { return getValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHvalue\", function() { return getHvalue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setValue\", function() { return setValue; });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\nconst options = { // host: '192.168.10.133',\n  // port: 6379,\n  // password: 'root',\n  ..._index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].REDIS,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === \"ECONNREFUSED\") {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error(\"The server refused the connection\");\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error(\"Retry time exhausted\");\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n};\nconst client = redis__WEBPACK_IMPORTED_MODULE_0___default.a.createClient(options);\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value === null || value === '') {\n    return;\n  }\n\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      return client.set(key, value, 'EX', time);\n    } else {\n      return client.set(key, value);\n    }\n  } else if (typeof value === 'object') {\n    Object.keys(value).forEach(item => {\n      return client.hset(key, item, value[item], redis__WEBPACK_IMPORTED_MODULE_0___default.a.print);\n    });\n  }\n};\n\nconst {\n  promisify\n} = __webpack_require__(/*! util */ \"util\");\n\nconst getAsync = promisify(client.get).bind(client); // getAsync.then(console.log).catch(console.error);\n\nconst getValue = key => {\n  return getAsync(key);\n};\n\nconst getHvalue = key => {\n  return promisify(client.hgetall).bind(client)(key);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzP2I3ODkiXSwibmFtZXMiOlsib3B0aW9ucyIsImNvbmZpZyIsIlJFRElTIiwiZGV0ZWN0X2J1ZmZlcnMiLCJyZXRyeV9zdHJhdGVneSIsImVycm9yIiwiY29kZSIsIkVycm9yIiwidG90YWxfcmV0cnlfdGltZSIsImF0dGVtcHQiLCJ1bmRlZmluZWQiLCJNYXRoIiwibWluIiwiY2xpZW50IiwicmVkaXMiLCJjcmVhdGVDbGllbnQiLCJzZXRWYWx1ZSIsImtleSIsInZhbHVlIiwidGltZSIsInNldCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiaXRlbSIsImhzZXQiLCJwcmludCIsInByb21pc2lmeSIsInJlcXVpcmUiLCJnZXRBc3luYyIsImdldCIsImJpbmQiLCJnZXRWYWx1ZSIsImdldEh2YWx1ZSIsImhnZXRhbGwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0EsTUFBTUEsT0FBTyxHQUFHLEVBQ1o7QUFDQTtBQUNBO0FBQ0EsS0FBR0MsOENBQU0sQ0FBQ0MsS0FKRTtBQUtaQyxnQkFBYyxFQUFFLElBTEo7QUFNWkMsZ0JBQWMsRUFBRSxVQUFVSixPQUFWLEVBQW1CO0FBQy9CLFFBQUlBLE9BQU8sQ0FBQ0ssS0FBUixJQUFpQkwsT0FBTyxDQUFDSyxLQUFSLENBQWNDLElBQWQsS0FBdUIsY0FBNUMsRUFBNEQ7QUFDeEQ7QUFDQTtBQUNBLGFBQU8sSUFBSUMsS0FBSixDQUFVLG1DQUFWLENBQVA7QUFDSDs7QUFDRCxRQUFJUCxPQUFPLENBQUNRLGdCQUFSLEdBQTJCLE9BQU8sRUFBUCxHQUFZLEVBQTNDLEVBQStDO0FBQzNDO0FBQ0E7QUFDQSxhQUFPLElBQUlELEtBQUosQ0FBVSxzQkFBVixDQUFQO0FBQ0g7O0FBQ0QsUUFBSVAsT0FBTyxDQUFDUyxPQUFSLEdBQWtCLEVBQXRCLEVBQTBCO0FBQ3RCO0FBQ0EsYUFBT0MsU0FBUDtBQUNILEtBZDhCLENBZS9COzs7QUFDQSxXQUFPQyxJQUFJLENBQUNDLEdBQUwsQ0FBU1osT0FBTyxDQUFDUyxPQUFSLEdBQWtCLEdBQTNCLEVBQWdDLElBQWhDLENBQVA7QUFDSDtBQXZCVyxDQUFoQjtBQTBCQSxNQUFNSSxNQUFNLEdBQUdDLDRDQUFLLENBQUNDLFlBQU4sQ0FBbUJmLE9BQW5CLENBQWY7O0FBRUEsTUFBTWdCLFFBQVEsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEtBQU4sRUFBYUMsSUFBYixLQUFzQjtBQUNuQyxNQUFJLE9BQU9ELEtBQVAsS0FBaUIsV0FBakIsSUFBZ0NBLEtBQUssS0FBSyxJQUExQyxJQUFrREEsS0FBSyxLQUFLLEVBQWhFLEVBQW9FO0FBQ2hFO0FBQ0g7O0FBQ0QsTUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQzNCLFFBQUksT0FBT0MsSUFBUCxLQUFnQixXQUFwQixFQUFpQztBQUM3QixhQUFPTixNQUFNLENBQUNPLEdBQVAsQ0FBV0gsR0FBWCxFQUFnQkMsS0FBaEIsRUFBdUIsSUFBdkIsRUFBNkJDLElBQTdCLENBQVA7QUFDSCxLQUZELE1BRU87QUFDSCxhQUFPTixNQUFNLENBQUNPLEdBQVAsQ0FBV0gsR0FBWCxFQUFnQkMsS0FBaEIsQ0FBUDtBQUNIO0FBQ0osR0FORCxNQU1PLElBQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUNsQ0csVUFBTSxDQUFDQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE9BQW5CLENBQTJCQyxJQUFJLElBQUk7QUFDL0IsYUFBT1gsTUFBTSxDQUFDWSxJQUFQLENBQVlSLEdBQVosRUFBaUJPLElBQWpCLEVBQXVCTixLQUFLLENBQUNNLElBQUQsQ0FBNUIsRUFBb0NWLDRDQUFLLENBQUNZLEtBQTFDLENBQVA7QUFDSCxLQUZEO0FBR0g7QUFDSixDQWZEOztBQWlCQSxNQUFNO0FBQ0ZDO0FBREUsSUFFRkMsbUJBQU8sQ0FBQyxrQkFBRCxDQUZYOztBQUdBLE1BQU1DLFFBQVEsR0FBR0YsU0FBUyxDQUFDZCxNQUFNLENBQUNpQixHQUFSLENBQVQsQ0FBc0JDLElBQXRCLENBQTJCbEIsTUFBM0IsQ0FBakIsQyxDQUVBOztBQUNBLE1BQU1tQixRQUFRLEdBQUlmLEdBQUQsSUFBUztBQUN0QixTQUFPWSxRQUFRLENBQUNaLEdBQUQsQ0FBZjtBQUNILENBRkQ7O0FBSUEsTUFBTWdCLFNBQVMsR0FBSWhCLEdBQUQsSUFBUztBQUN2QixTQUFPVSxTQUFTLENBQUNkLE1BQU0sQ0FBQ3FCLE9BQVIsQ0FBVCxDQUEwQkgsSUFBMUIsQ0FBK0JsQixNQUEvQixFQUF1Q0ksR0FBdkMsQ0FBUDtBQUNILENBRkQiLCJmaWxlIjoiLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzIGZyb20gJ3JlZGlzJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vaW5kZXgnXHJcblxyXG5cclxuY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgIC8vIGhvc3Q6ICcxOTIuMTY4LjEwLjEzMycsXHJcbiAgICAvLyBwb3J0OiA2Mzc5LFxyXG4gICAgLy8gcGFzc3dvcmQ6ICdyb290JyxcclxuICAgIC4uLmNvbmZpZy5SRURJUyxcclxuICAgIGRldGVjdF9idWZmZXJzOiB0cnVlLFxyXG4gICAgcmV0cnlfc3RyYXRlZ3k6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZXJyb3IgJiYgb3B0aW9ucy5lcnJvci5jb2RlID09PSBcIkVDT05OUkVGVVNFRFwiKSB7XHJcbiAgICAgICAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgb24gYSBzcGVjaWZpYyBlcnJvciBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzIHdpdGhcclxuICAgICAgICAgICAgLy8gYSBpbmRpdmlkdWFsIGVycm9yXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJUaGUgc2VydmVyIHJlZnVzZWQgdGhlIGNvbm5lY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLnRvdGFsX3JldHJ5X3RpbWUgPiAxMDAwICogNjAgKiA2MCkge1xyXG4gICAgICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIGFmdGVyIGEgc3BlY2lmaWMgdGltZW91dCBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzXHJcbiAgICAgICAgICAgIC8vIHdpdGggYSBpbmRpdmlkdWFsIGVycm9yXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJSZXRyeSB0aW1lIGV4aGF1c3RlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ZW1wdCA+IDEwKSB7XHJcbiAgICAgICAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgd2l0aCBidWlsdCBpbiBlcnJvclxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZWNvbm5lY3QgYWZ0ZXJcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4ob3B0aW9ucy5hdHRlbXB0ICogMTAwLCAzMDAwKTtcclxuICAgIH0sXHJcbn1cclxuXHJcbmNvbnN0IGNsaWVudCA9IHJlZGlzLmNyZWF0ZUNsaWVudChvcHRpb25zKVxyXG5cclxuY29uc3Qgc2V0VmFsdWUgPSAoa2V5LCB2YWx1ZSwgdGltZSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5zZXQoa2V5LCB2YWx1ZSwgJ0VYJywgdGltZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gY2xpZW50LnNldChrZXksIHZhbHVlKVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY2xpZW50LmhzZXQoa2V5LCBpdGVtLCB2YWx1ZVtpdGVtXSwgcmVkaXMucHJpbnQpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qge1xyXG4gICAgcHJvbWlzaWZ5XHJcbn0gPSByZXF1aXJlKFwidXRpbFwiKTtcclxuY29uc3QgZ2V0QXN5bmMgPSBwcm9taXNpZnkoY2xpZW50LmdldCkuYmluZChjbGllbnQpO1xyXG5cclxuLy8gZ2V0QXN5bmMudGhlbihjb25zb2xlLmxvZykuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbmNvbnN0IGdldFZhbHVlID0gKGtleSkgPT4ge1xyXG4gICAgcmV0dXJuIGdldEFzeW5jKGtleSlcclxufVxyXG5cclxuY29uc3QgZ2V0SHZhbHVlID0gKGtleSkgPT4ge1xyXG4gICAgcmV0dXJuIHByb21pc2lmeShjbGllbnQuaGdldGFsbCkuYmluZChjbGllbnQpKGtleSlcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIGNsaWVudCxcclxuICAgIGdldFZhbHVlLFxyXG4gICAgZ2V0SHZhbHVlLFxyXG4gICAgc2V0VmFsdWUsXHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/RedisConfig.js\n");

/***/ }),

/***/ "./src/config/WebSocket.js":
/*!*********************************!*\
  !*** ./src/config/WebSocket.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ws */ \"ws\");\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ws__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/model/Comments */ \"./src/model/Comments.js\");\n/**\r\n * 简易的实现了心跳监测等\r\n * npm install --save reconnecting-websocket 这个对webscoket进行了封装，心跳监测也有对应的封装\r\n * \r\n */\n\n\n\n\nclass WebSocketServer {\n  constructor(config = {}) {\n    const defaultConfig = {\n      port: 3001,\n      // 端口\n      timeInterval: 3 * 1000,\n      //心跳监测间隔\n      isAuth: true // 鉴权\n      // 最终配置\n\n    };\n    const finalConfig = { ...defaultConfig,\n      ...config\n    };\n    this.wss = {}; // 所有的客户端\n\n    this.timeInterval = finalConfig.timeInterval;\n    this.isAuth = finalConfig.isAuth;\n    this.port = finalConfig.port;\n    this.options = config.options || {}; // 一些其它的官方配置\n\n    this.Timer = null; // 一些其它的官方配置\n  } // 初始化websocket服务\n\n\n  init() {\n    this.wss = new ws__WEBPACK_IMPORTED_MODULE_0___default.a.Server({\n      port: this.port,\n      ...this.options\n    }); // 心跳监测\n\n    this.heartbeat(); // 客户端连接\n\n    this.wss.on('connection', ws => {\n      ws.isAlive = true; // 心跳开启\n\n      ws.send(JSON.stringify({\n        event: 'heartbeat',\n        message: 'ping'\n      })); // 监听客户端发送消息\n\n      ws.on('message', msg => {\n        this.onMessage(ws, msg);\n      }); // 客户端断开连接\n\n      ws.on('close', () => this.onClose(ws));\n    });\n  } // 客户端消息处理\n\n\n  onMessage(ws, msg) {\n    // 用户鉴权 -> token -> _id\n    // 心跳监测\n    // 消息发送\n    const msgObj = JSON.parse(msg);\n    const events = {\n      auth: async () => {\n        try {\n          const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(msgObj.message);\n\n          if (obj) {\n            ws.isAuth = true;\n            ws._id = obj._id;\n            const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTotal(obj._id); //获取未读消息数\n\n            ws.send(JSON.stringify({\n              event: 'message',\n              // message: 'auth is OK'\n              message: num\n            }));\n          }\n        } catch (error) {\n          ws.send(JSON.stringify({\n            event: 'noauth',\n            message: 'please auth again'\n          }));\n        } // const obj = await getJWTpayload(msgObj.message)\n        // if (obj) {\n        //     ws.isAuth = true\n        //     ws._id = obj._id\n        //     ws.send('auth ok!')\n        // } else {\n        //     ws.send(JSON.stringify({\n        //         event: 'noauth',\n        //         message: 'please auth again'\n        //     }))\n        // }\n\n      },\n      heartbeat: () => {\n        if (msgObj.message === 'pong') {\n          ws.isAlive = true;\n        }\n      },\n      message: () => {\n        // 鉴权拦截\n        if (!ws.isAuth && this.isAuth) {\n          return;\n        } // 消息广播\n\n\n        this.wss.clients.forEach(client => {\n          if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN && client._id === ws._id) {\n            client.send(msg);\n          }\n        });\n      }\n    };\n    events[msgObj.event]();\n  } // 点对点消息发送\n\n\n  send(uid, msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN && client._id === uid) {\n        client.send(msg);\n      }\n    });\n  } // 广播消息发送 -> 推送系统消息\n\n\n  broadcast(uid, msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN) {\n        client.send(msg);\n      }\n    });\n  } // 心跳监测\n\n\n  heartbeat() {\n    clearInterval(this.Timer);\n    this.Timer = setInterval(() => {\n      this.wss.clients.forEach(ws => {\n        // 主动发送心跳监测请求\n        // 当客户端返回了消息之后，主动设置flag为在线\n        if (!ws.isAlive) {\n          return ws.terminate();\n        }\n\n        ws.isAlive = false;\n        ws.send(JSON.stringify({\n          event: 'heartbeat',\n          message: 'ping'\n        }));\n      });\n    }, this.timeInterval);\n  } // 客户端关闭处理\n\n\n  onClose(ws) {}\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WebSocketServer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1dlYlNvY2tldC5qcz9jZDkzIl0sIm5hbWVzIjpbIldlYlNvY2tldFNlcnZlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsInBvcnQiLCJ0aW1lSW50ZXJ2YWwiLCJpc0F1dGgiLCJmaW5hbENvbmZpZyIsIndzcyIsIm9wdGlvbnMiLCJUaW1lciIsImluaXQiLCJXZWJTb2NrZXQiLCJTZXJ2ZXIiLCJoZWFydGJlYXQiLCJvbiIsIndzIiwiaXNBbGl2ZSIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZXZlbnQiLCJtZXNzYWdlIiwibXNnIiwib25NZXNzYWdlIiwib25DbG9zZSIsIm1zZ09iaiIsInBhcnNlIiwiZXZlbnRzIiwiYXV0aCIsIm9iaiIsImdldEpXVHBheWxvYWQiLCJfaWQiLCJudW0iLCJDb21tZW50cyIsImdldFRvdGFsIiwiZXJyb3IiLCJjbGllbnRzIiwiZm9yRWFjaCIsImNsaWVudCIsInJlYWR5U3RhdGUiLCJPUEVOIiwidWlkIiwiYnJvYWRjYXN0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwidGVybWluYXRlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7O0FBTUE7QUFDQTtBQUdBOztBQUdBLE1BQU1BLGVBQU4sQ0FBc0I7QUFDbEJDLGFBQVcsQ0FBQ0MsTUFBTSxHQUFHLEVBQVYsRUFBYztBQUNyQixVQUFNQyxhQUFhLEdBQUc7QUFDbEJDLFVBQUksRUFBRSxJQURZO0FBQ047QUFDWkMsa0JBQVksRUFBRSxJQUFJLElBRkE7QUFFTTtBQUN4QkMsWUFBTSxFQUFFLElBSFUsQ0FHTDtBQUVqQjs7QUFMc0IsS0FBdEI7QUFNQSxVQUFNQyxXQUFXLEdBQUcsRUFDaEIsR0FBR0osYUFEYTtBQUVoQixTQUFHRDtBQUZhLEtBQXBCO0FBSUEsU0FBS00sR0FBTCxHQUFXLEVBQVgsQ0FYcUIsQ0FXUDs7QUFDZCxTQUFLSCxZQUFMLEdBQW9CRSxXQUFXLENBQUNGLFlBQWhDO0FBQ0EsU0FBS0MsTUFBTCxHQUFjQyxXQUFXLENBQUNELE1BQTFCO0FBQ0EsU0FBS0YsSUFBTCxHQUFZRyxXQUFXLENBQUNILElBQXhCO0FBQ0EsU0FBS0ssT0FBTCxHQUFlUCxNQUFNLENBQUNPLE9BQVAsSUFBa0IsRUFBakMsQ0FmcUIsQ0FlZTs7QUFDcEMsU0FBS0MsS0FBTCxHQUFhLElBQWIsQ0FoQnFCLENBZ0JIO0FBQ3JCLEdBbEJpQixDQW1CbEI7OztBQUNBQyxNQUFJLEdBQUc7QUFDSCxTQUFLSCxHQUFMLEdBQVcsSUFBSUkseUNBQVMsQ0FBQ0MsTUFBZCxDQUFxQjtBQUM1QlQsVUFBSSxFQUFFLEtBQUtBLElBRGlCO0FBRTVCLFNBQUcsS0FBS0s7QUFGb0IsS0FBckIsQ0FBWCxDQURHLENBTUg7O0FBQ0EsU0FBS0ssU0FBTCxHQVBHLENBU0g7O0FBQ0EsU0FBS04sR0FBTCxDQUFTTyxFQUFULENBQVksWUFBWixFQUEyQkMsRUFBRCxJQUFRO0FBQzlCQSxRQUFFLENBQUNDLE9BQUgsR0FBYSxJQUFiLENBRDhCLENBQ1o7O0FBRWxCRCxRQUFFLENBQUNFLElBQUgsQ0FBUUMsSUFBSSxDQUFDQyxTQUFMLENBQWU7QUFDbkJDLGFBQUssRUFBRSxXQURZO0FBRW5CQyxlQUFPLEVBQUU7QUFGVSxPQUFmLENBQVIsRUFIOEIsQ0FROUI7O0FBQ0FOLFFBQUUsQ0FBQ0QsRUFBSCxDQUFNLFNBQU4sRUFBa0JRLEdBQUQsSUFBUztBQUN0QixhQUFLQyxTQUFMLENBQWVSLEVBQWYsRUFBbUJPLEdBQW5CO0FBQ0gsT0FGRCxFQVQ4QixDQWE5Qjs7QUFDQVAsUUFBRSxDQUFDRCxFQUFILENBQU0sT0FBTixFQUFlLE1BQU0sS0FBS1UsT0FBTCxDQUFhVCxFQUFiLENBQXJCO0FBRUgsS0FoQkQ7QUFpQkgsR0EvQ2lCLENBZ0RsQjs7O0FBQ0FRLFdBQVMsQ0FBQ1IsRUFBRCxFQUFLTyxHQUFMLEVBQVU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxVQUFNRyxNQUFNLEdBQUdQLElBQUksQ0FBQ1EsS0FBTCxDQUFXSixHQUFYLENBQWY7QUFDQSxVQUFNSyxNQUFNLEdBQUc7QUFDWEMsVUFBSSxFQUFFLFlBQVk7QUFDZCxZQUFJO0FBQ0EsZ0JBQU1DLEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDTCxNQUFNLENBQUNKLE9BQVIsQ0FBL0I7O0FBQ0EsY0FBSVEsR0FBSixFQUFTO0FBQ0xkLGNBQUUsQ0FBQ1YsTUFBSCxHQUFZLElBQVo7QUFDQVUsY0FBRSxDQUFDZ0IsR0FBSCxHQUFTRixHQUFHLENBQUNFLEdBQWI7QUFFQSxrQkFBTUMsR0FBRyxHQUFHLE1BQU1DLHVEQUFRLENBQUNDLFFBQVQsQ0FBa0JMLEdBQUcsQ0FBQ0UsR0FBdEIsQ0FBbEIsQ0FKSyxDQUl3Qzs7QUFDN0NoQixjQUFFLENBQUNFLElBQUgsQ0FBUUMsSUFBSSxDQUFDQyxTQUFMLENBQWU7QUFDbkJDLG1CQUFLLEVBQUUsU0FEWTtBQUVuQjtBQUNBQyxxQkFBTyxFQUFFVztBQUhVLGFBQWYsQ0FBUjtBQUtIO0FBQ0osU0FiRCxDQWFFLE9BQU9HLEtBQVAsRUFBYztBQUNacEIsWUFBRSxDQUFDRSxJQUFILENBQVFDLElBQUksQ0FBQ0MsU0FBTCxDQUFlO0FBQ25CQyxpQkFBSyxFQUFFLFFBRFk7QUFFbkJDLG1CQUFPLEVBQUU7QUFGVSxXQUFmLENBQVI7QUFJSCxTQW5CYSxDQW9CZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNILE9BaENVO0FBaUNYUixlQUFTLEVBQUUsTUFBTTtBQUNiLFlBQUlZLE1BQU0sQ0FBQ0osT0FBUCxLQUFtQixNQUF2QixFQUErQjtBQUMzQk4sWUFBRSxDQUFDQyxPQUFILEdBQWEsSUFBYjtBQUNIO0FBQ0osT0FyQ1U7QUFzQ1hLLGFBQU8sRUFBRSxNQUFNO0FBQ1g7QUFDQSxZQUFJLENBQUNOLEVBQUUsQ0FBQ1YsTUFBSixJQUFjLEtBQUtBLE1BQXZCLEVBQStCO0FBQzNCO0FBQ0gsU0FKVSxDQUtYOzs7QUFDQSxhQUFLRSxHQUFMLENBQVM2QixPQUFULENBQWlCQyxPQUFqQixDQUF5QkMsTUFBTSxJQUFJO0FBQy9CLGNBQUlBLE1BQU0sQ0FBQ0MsVUFBUCxLQUFzQjVCLHlDQUFTLENBQUM2QixJQUFoQyxJQUF3Q0YsTUFBTSxDQUFDUCxHQUFQLEtBQWVoQixFQUFFLENBQUNnQixHQUE5RCxFQUFtRTtBQUMvRE8sa0JBQU0sQ0FBQ3JCLElBQVAsQ0FBWUssR0FBWjtBQUNIO0FBQ0osU0FKRDtBQUtIO0FBakRVLEtBQWY7QUFtREFLLFVBQU0sQ0FBQ0YsTUFBTSxDQUFDTCxLQUFSLENBQU47QUFDSCxHQTFHaUIsQ0EyR2xCOzs7QUFDQUgsTUFBSSxDQUFDd0IsR0FBRCxFQUFNbkIsR0FBTixFQUFXO0FBQ1gsU0FBS2YsR0FBTCxDQUFTNkIsT0FBVCxDQUFpQkMsT0FBakIsQ0FBeUJDLE1BQU0sSUFBSTtBQUMvQixVQUFJQSxNQUFNLENBQUNDLFVBQVAsS0FBc0I1Qix5Q0FBUyxDQUFDNkIsSUFBaEMsSUFBd0NGLE1BQU0sQ0FBQ1AsR0FBUCxLQUFlVSxHQUEzRCxFQUFnRTtBQUM1REgsY0FBTSxDQUFDckIsSUFBUCxDQUFZSyxHQUFaO0FBQ0g7QUFDSixLQUpEO0FBS0gsR0FsSGlCLENBbUhsQjs7O0FBQ0FvQixXQUFTLENBQUNELEdBQUQsRUFBTW5CLEdBQU4sRUFBVztBQUNoQixTQUFLZixHQUFMLENBQVM2QixPQUFULENBQWlCQyxPQUFqQixDQUF5QkMsTUFBTSxJQUFJO0FBQy9CLFVBQUlBLE1BQU0sQ0FBQ0MsVUFBUCxLQUFzQjVCLHlDQUFTLENBQUM2QixJQUFwQyxFQUEwQztBQUN0Q0YsY0FBTSxDQUFDckIsSUFBUCxDQUFZSyxHQUFaO0FBQ0g7QUFDSixLQUpEO0FBS0gsR0ExSGlCLENBNEhsQjs7O0FBQ0FULFdBQVMsR0FBRztBQUVSOEIsaUJBQWEsQ0FBQyxLQUFLbEMsS0FBTixDQUFiO0FBQ0EsU0FBS0EsS0FBTCxHQUFhbUMsV0FBVyxDQUFDLE1BQU07QUFDM0IsV0FBS3JDLEdBQUwsQ0FBUzZCLE9BQVQsQ0FBaUJDLE9BQWpCLENBQXlCdEIsRUFBRSxJQUFJO0FBQzNCO0FBQ0E7QUFDQSxZQUFJLENBQUNBLEVBQUUsQ0FBQ0MsT0FBUixFQUFpQjtBQUNiLGlCQUFPRCxFQUFFLENBQUM4QixTQUFILEVBQVA7QUFDSDs7QUFDRDlCLFVBQUUsQ0FBQ0MsT0FBSCxHQUFhLEtBQWI7QUFDQUQsVUFBRSxDQUFDRSxJQUFILENBQVFDLElBQUksQ0FBQ0MsU0FBTCxDQUFlO0FBQ25CQyxlQUFLLEVBQUUsV0FEWTtBQUVuQkMsaUJBQU8sRUFBRTtBQUZVLFNBQWYsQ0FBUjtBQUtILE9BWkQ7QUFhSCxLQWR1QixFQWNyQixLQUFLakIsWUFkZ0IsQ0FBeEI7QUFlSCxHQS9JaUIsQ0FpSmxCOzs7QUFDQW9CLFNBQU8sQ0FBQ1QsRUFBRCxFQUFLLENBRVg7O0FBcEppQjs7QUEwSlBoQiw4RUFBZiIsImZpbGUiOiIuL3NyYy9jb25maWcvV2ViU29ja2V0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOeugOaYk+eahOWunueOsOS6huW/g+i3s+ebkea1i+etiVxyXG4gKiBucG0gaW5zdGFsbCAtLXNhdmUgcmVjb25uZWN0aW5nLXdlYnNvY2tldCDov5nkuKrlr7l3ZWJzY29rZXTov5vooYzkuoblsIHoo4XvvIzlv4Pot7Pnm5HmtYvkuZ/mnInlr7nlupTnmoTlsIHoo4VcclxuICogXHJcbiAqL1xyXG5cclxuaW1wb3J0IFdlYlNvY2tldCBmcm9tICd3cydcclxuaW1wb3J0IHtcclxuICAgIGdldEpXVHBheWxvYWRcclxufSBmcm9tICdAL2NvbW1vbi91dGlscydcclxuaW1wb3J0IENvbW1lbnRzIGZyb20gJ0AvbW9kZWwvQ29tbWVudHMnXHJcblxyXG5cclxuY2xhc3MgV2ViU29ja2V0U2VydmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgICAgICAgICAgcG9ydDogMzAwMSwgLy8g56uv5Y+jXHJcbiAgICAgICAgICAgIHRpbWVJbnRlcnZhbDogMyAqIDEwMDAsIC8v5b+D6Lez55uR5rWL6Ze06ZqUXHJcbiAgICAgICAgICAgIGlzQXV0aDogdHJ1ZSAvLyDpibTmnYNcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5pyA57uI6YWN572uXHJcbiAgICAgICAgY29uc3QgZmluYWxDb25maWcgPSB7XHJcbiAgICAgICAgICAgIC4uLmRlZmF1bHRDb25maWcsXHJcbiAgICAgICAgICAgIC4uLmNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndzcyA9IHt9IC8vIOaJgOacieeahOWuouaIt+err1xyXG4gICAgICAgIHRoaXMudGltZUludGVydmFsID0gZmluYWxDb25maWcudGltZUludGVydmFsXHJcbiAgICAgICAgdGhpcy5pc0F1dGggPSBmaW5hbENvbmZpZy5pc0F1dGhcclxuICAgICAgICB0aGlzLnBvcnQgPSBmaW5hbENvbmZpZy5wb3J0XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gY29uZmlnLm9wdGlvbnMgfHwge30gLy8g5LiA5Lqb5YW25a6D55qE5a6Y5pa56YWN572uXHJcbiAgICAgICAgdGhpcy5UaW1lciA9IG51bGwgLy8g5LiA5Lqb5YW25a6D55qE5a6Y5pa56YWN572uXHJcbiAgICB9XHJcbiAgICAvLyDliJ3lp4vljJZ3ZWJzb2NrZXTmnI3liqFcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy53c3MgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7XHJcbiAgICAgICAgICAgIHBvcnQ6IHRoaXMucG9ydCxcclxuICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8g5b+D6Lez55uR5rWLXHJcbiAgICAgICAgdGhpcy5oZWFydGJlYXQoKVxyXG5cclxuICAgICAgICAvLyDlrqLmiLfnq6/ov57mjqVcclxuICAgICAgICB0aGlzLndzcy5vbignY29ubmVjdGlvbicsICh3cykgPT4ge1xyXG4gICAgICAgICAgICB3cy5pc0FsaXZlID0gdHJ1ZSAvLyDlv4Pot7PlvIDlkK9cclxuXHJcbiAgICAgICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdoZWFydGJlYXQnLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ3BpbmcnXHJcbiAgICAgICAgICAgIH0pKVxyXG5cclxuICAgICAgICAgICAgLy8g55uR5ZCs5a6i5oi356uv5Y+R6YCB5raI5oGvXHJcbiAgICAgICAgICAgIHdzLm9uKCdtZXNzYWdlJywgKG1zZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2Uod3MsIG1zZylcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC8vIOWuouaIt+err+aWreW8gOi/nuaOpVxyXG4gICAgICAgICAgICB3cy5vbignY2xvc2UnLCAoKSA9PiB0aGlzLm9uQ2xvc2Uod3MpKVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy8g5a6i5oi356uv5raI5oGv5aSE55CGXHJcbiAgICBvbk1lc3NhZ2Uod3MsIG1zZykge1xyXG4gICAgICAgIC8vIOeUqOaIt+mJtOadgyAtPiB0b2tlbiAtPiBfaWRcclxuICAgICAgICAvLyDlv4Pot7Pnm5HmtYtcclxuICAgICAgICAvLyDmtojmga/lj5HpgIFcclxuICAgICAgICBjb25zdCBtc2dPYmogPSBKU09OLnBhcnNlKG1zZylcclxuICAgICAgICBjb25zdCBldmVudHMgPSB7XHJcbiAgICAgICAgICAgIGF1dGg6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChtc2dPYmoubWVzc2FnZSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzLmlzQXV0aCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3MuX2lkID0gb2JqLl9pZFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID0gYXdhaXQgQ29tbWVudHMuZ2V0VG90YWwob2JqLl9pZCkgLy/ojrflj5bmnKror7vmtojmga/mlbBcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogJ21lc3NhZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWVzc2FnZTogJ2F1dGggaXMgT0snXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBudW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdub2F1dGgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAncGxlYXNlIGF1dGggYWdhaW4nXHJcbiAgICAgICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKG1zZ09iai5tZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKG9iaikge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHdzLmlzQXV0aCA9IHRydWVcclxuICAgICAgICAgICAgICAgIC8vICAgICB3cy5faWQgPSBvYmouX2lkXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgd3Muc2VuZCgnYXV0aCBvayEnKVxyXG4gICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZXZlbnQ6ICdub2F1dGgnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBtZXNzYWdlOiAncGxlYXNlIGF1dGggYWdhaW4nXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhlYXJ0YmVhdDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1zZ09iai5tZXNzYWdlID09PSAncG9uZycpIHtcclxuICAgICAgICAgICAgICAgICAgICB3cy5pc0FsaXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDpibTmnYPmi6bmiKpcclxuICAgICAgICAgICAgICAgIGlmICghd3MuaXNBdXRoICYmIHRoaXMuaXNBdXRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyDmtojmga/lub/mkq1cclxuICAgICAgICAgICAgICAgIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaChjbGllbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gJiYgY2xpZW50Ll9pZCA9PT0gd3MuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZW5kKG1zZylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50c1ttc2dPYmouZXZlbnRdKClcclxuICAgIH1cclxuICAgIC8vIOeCueWvueeCuea2iOaBr+WPkemAgVxyXG4gICAgc2VuZCh1aWQsIG1zZykge1xyXG4gICAgICAgIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaChjbGllbnQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOICYmIGNsaWVudC5faWQgPT09IHVpZCkge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LnNlbmQobXNnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIC8vIOW5v+aSrea2iOaBr+WPkemAgSAtPiDmjqjpgIHns7vnu5/mtojmga9cclxuICAgIGJyb2FkY2FzdCh1aWQsIG1zZykge1xyXG4gICAgICAgIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaChjbGllbnQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICBjbGllbnQuc2VuZChtc2cpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOW/g+i3s+ebkea1i1xyXG4gICAgaGVhcnRiZWF0KCkge1xyXG5cclxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuVGltZXIpXHJcbiAgICAgICAgdGhpcy5UaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy53c3MuY2xpZW50cy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOS4u+WKqOWPkemAgeW/g+i3s+ebkea1i+ivt+axglxyXG4gICAgICAgICAgICAgICAgLy8g5b2T5a6i5oi356uv6L+U5Zue5LqG5raI5oGv5LmL5ZCO77yM5Li75Yqo6K6+572uZmxhZ+S4uuWcqOe6v1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3cy5pc0FsaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdzLnRlcm1pbmF0ZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3cy5pc0FsaXZlID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnaGVhcnRiZWF0JyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAncGluZycsXHJcbiAgICAgICAgICAgICAgICB9KSlcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSwgdGhpcy50aW1lSW50ZXJ2YWwpXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5a6i5oi356uv5YWz6Zet5aSE55CGXHJcbiAgICBvbkNsb3NlKHdzKSB7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBXZWJTb2NrZXRTZXJ2ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/WebSocket.js\n");

/***/ }),

/***/ "./src/config/index.js":
/*!*****************************!*\
  !*** ./src/config/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DB_URL = 'mongodb://admin:admin@192.168.10.133/Sunny_forum';\nconst REDIS = {\n  host: \"192.168.10.133\",\n  port: 6379,\n  password: 'root'\n  /**\r\n   * 对于SECRET 可以选择以 mongodb 用户id + slat (盐) 再用 md5 等方式加密 最终形成一个密钥 md5(id+slat)\r\n   */\n\n};\nconst JWT_SECRET = 'Sunny-forum-secret';\nconst baseUrl =  false ? undefined : 'http://localhost:8080';\nconst uploadPath =  false ? undefined : path__WEBPACK_IMPORTED_MODULE_0___default.a.join(path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname), '../../public');\nconst SuperAdmin = ['1641250803@qq.com', 'w@w.com'];\nconst publicPath = [/^\\/public/, /^\\/login/, /^\\/content/, /^\\/user/, /^\\/comments/];\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  DB_URL,\n  REDIS,\n  JWT_SECRET,\n  baseUrl,\n  uploadPath,\n  SuperAdmin,\n  publicPath\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\\\\config\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOlsiREJfVVJMIiwiUkVESVMiLCJob3N0IiwicG9ydCIsInBhc3N3b3JkIiwiSldUX1NFQ1JFVCIsImJhc2VVcmwiLCJwcm9jZXNzIiwidXBsb2FkUGF0aCIsInBhdGgiLCJqb2luIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsIlN1cGVyQWRtaW4iLCJwdWJsaWNQYXRoIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBLE1BQU1BLE1BQU0sR0FBRyxrREFBZjtBQUVBLE1BQU1DLEtBQUssR0FBRztBQUNWQyxNQUFJLEVBQUUsZ0JBREk7QUFFVkMsTUFBSSxFQUFFLElBRkk7QUFHVkMsVUFBUSxFQUFFO0FBR2Q7Ozs7QUFOYyxDQUFkO0FBU0EsTUFBTUMsVUFBVSxHQUFHLG9CQUFuQjtBQUNBLE1BQU1DLE9BQU8sR0FBR0MsTUFBQSxHQUF3QyxTQUF4QyxHQUF1RSx1QkFBdkY7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE1BQUEsR0FBd0MsU0FBeEMsR0FBd0RFLDJDQUFJLENBQUNDLElBQUwsQ0FBVUQsMkNBQUksQ0FBQ0UsT0FBTCxDQUFhQyxTQUFiLENBQVYsRUFBbUMsY0FBbkMsQ0FBM0U7QUFFQSxNQUFNQyxVQUFVLEdBQUcsQ0FBQyxtQkFBRCxFQUFzQixTQUF0QixDQUFuQjtBQUVBLE1BQU1DLFVBQVUsR0FBRyxDQUFDLFdBQUQsRUFBYyxVQUFkLEVBQTBCLFlBQTFCLEVBQXdDLFNBQXhDLEVBQW1ELGFBQW5ELENBQW5CO0FBRWU7QUFDWGQsUUFEVztBQUVYQyxPQUZXO0FBR1hJLFlBSFc7QUFJWEMsU0FKVztBQUtYRSxZQUxXO0FBTVhLLFlBTlc7QUFPWEM7QUFQVyxDQUFmLEUiLCJmaWxlIjoiLi9zcmMvY29uZmlnL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuY29uc3QgREJfVVJMID0gJ21vbmdvZGI6Ly9hZG1pbjphZG1pbkAxOTIuMTY4LjEwLjEzMy9TdW5ueV9mb3J1bSdcclxuXHJcbmNvbnN0IFJFRElTID0ge1xyXG4gICAgaG9zdDogXCIxOTIuMTY4LjEwLjEzM1wiLFxyXG4gICAgcG9ydDogNjM3OSxcclxuICAgIHBhc3N3b3JkOiAncm9vdCdcclxufVxyXG5cclxuLyoqXHJcbiAqIOWvueS6jlNFQ1JFVCDlj6/ku6XpgInmi6nku6UgbW9uZ29kYiDnlKjmiLdpZCArIHNsYXQgKOebkCkg5YaN55SoIG1kNSDnrYnmlrnlvI/liqDlr4Yg5pyA57uI5b2i5oiQ5LiA5Liq5a+G6ZKlIG1kNShpZCtzbGF0KVxyXG4gKi9cclxuY29uc3QgSldUX1NFQ1JFVCA9ICdTdW5ueS1mb3J1bS1zZWNyZXQnXHJcbmNvbnN0IGJhc2VVcmwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gJ2h0dHA6Ly93d3cuc3VubnlfZm9ydW0uY29tJyA6ICdodHRwOi8vbG9jYWxob3N0OjgwODAnXHJcbmNvbnN0IHVwbG9hZFBhdGggPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gJy9hcHAvcHVibGljJyA6IHBhdGguam9pbihwYXRoLnJlc29sdmUoX19kaXJuYW1lKSwgJy4uLy4uL3B1YmxpYycpXHJcblxyXG5jb25zdCBTdXBlckFkbWluID0gWycxNjQxMjUwODAzQHFxLmNvbScsICd3QHcuY29tJ11cclxuXHJcbmNvbnN0IHB1YmxpY1BhdGggPSBbL15cXC9wdWJsaWMvLCAvXlxcL2xvZ2luLywgL15cXC9jb250ZW50LywgL15cXC91c2VyLywgL15cXC9jb21tZW50cy9dXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBEQl9VUkwsXHJcbiAgICBSRURJUyxcclxuICAgIEpXVF9TRUNSRVQsXHJcbiAgICBiYXNlVXJsLFxyXG4gICAgdXBsb2FkUGF0aCxcclxuICAgIFN1cGVyQWRtaW4sXHJcbiAgICBwdWJsaWNQYXRoXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/index.js\n");

/***/ }),

/***/ "./src/config/log4.js":
/*!****************************!*\
  !*** ./src/config/log4.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_log4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-log4 */ \"koa-log4\");\n/* harmony import */ var koa_log4__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_log4__WEBPACK_IMPORTED_MODULE_0__);\n // https://github.com/dominhhai/koa-log4js-example/blob/v2.x/log4js.json\n// Log4js - Appenders\n// https://log4js-node.github.io/log4js-node/appenders.html\n\nkoa_log4__WEBPACK_IMPORTED_MODULE_0___default.a.configure({\n  // 自己需要定义几个日志规则 格式 :\n  // \"规则名\": {\n  //     type: categoryFilter / console / dateFile, // Log4js - Appenders 不同类型的Appenders有不同的配置需求，参照上述文档\n  // },\n  appenders: {\n    access: {\n      type: 'dateFile',\n      filename: 'logs/access.log',\n      pattern: '-YYYY-MM-dd.log' //后缀\n\n    },\n    applications: {\n      type: 'dateFile',\n      filename: 'logs/app.log',\n      pattern: '-YYYY-MM-dd.log'\n    },\n    error: {\n      type: 'dateFile',\n      filename: 'logs/error.log',\n      pattern: '-YYYY-MM-dd.log'\n    },\n    defaultout: {\n      type: 'dateFile',\n      filename: 'logs/defaultout.log',\n      pattern: '-YYYY-MM-dd.log'\n    },\n    out: {\n      type: 'console'\n    }\n  },\n  // category 配置生效appenders（规则）以及生效级别等\n\n  /**\r\n   * @description level 级别\r\n   * @description https://github.com/log4js-node/log4js-node/blob/master/examples/example.js\r\n   * @description https://log4js-node.github.io/log4js-node/api.html ALL < TRACE < DEBUG < INFO < WARN < ERROR < FATAL < MARK < OFF \r\n   * @description 级别由轻到严重，打印输入时，是向上打印的，定义级别太高，级别低的是不会打印的 error级别只会打印 error/fatal相关信息\r\n   *              info 会打印 info/log/warn/error/fatal\r\n   * @description 以下是官方示例\r\n   * @param const logger = log4js.getLogger('cheese');\r\n   * @description appenders: {\r\n                      cheeseLogs: { type: 'file', filename: 'cheese.log' },\r\n                  },\r\n                  categories: {\r\n                      cheese: { appenders: ['cheeseLogs'], level: 'error' },  //定义级别error，级别很高\r\n                  }\r\n   * these will not appear (logging level beneath error)\r\n   * @param {String} trace logger.trace('Entering cheese testing');\r\n   * @param {String} debug logger.debug('Got cheese.');\r\n   * @param {String} info logger.info('Cheese is Gouda.');\r\n   * @param {String} log logger.log('Something funny about cheese.');\r\n   * @param {String} warn logger.warn('Cheese is quite smelly.');\r\n   * \r\n   * these end up only in cheese.log 只有error/ fatal的level才会记录在文件中\r\n   * @param {String} error logger.error('Cheese %s is too ripe!', 'gouda');\r\n   * @param {String} fatal logger.fatal('Cheese was breeding ground for listeria.');\r\n   */\n  categories: {\n    // 如果此处未定义生效的规则，业务中使用了相应的规则，是不会生效的哦,但是呢会调用默认日志记录哦！！！\n    access: {\n      appenders: ['access'],\n      //此处对应定义的规则名\n      level: 'info' // 级别\n\n    },\n    applications: {\n      appenders: ['applications'],\n      level: 'warn'\n    },\n    error: {\n      appenders: ['error'],\n      level: 'warn'\n    },\n    // 默认的是必须定义的\n    default: {\n      // appenders: ['out'],\n      // appenders: ['defaultout', 'out'],\n      appenders: ['defaultout'],\n      level: 'info'\n    }\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_log4__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2xvZzQuanM/ZGI5MyJdLCJuYW1lcyI6WyJsb2c0anMiLCJjb25maWd1cmUiLCJhcHBlbmRlcnMiLCJhY2Nlc3MiLCJ0eXBlIiwiZmlsZW5hbWUiLCJwYXR0ZXJuIiwiYXBwbGljYXRpb25zIiwiZXJyb3IiLCJkZWZhdWx0b3V0Iiwib3V0IiwiY2F0ZWdvcmllcyIsImxldmVsIiwiZGVmYXVsdCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0NBRUE7QUFDQTtBQUNBOztBQUNBQSwrQ0FBTSxDQUFDQyxTQUFQLENBQWlCO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQUMsV0FBUyxFQUFFO0FBQ1BDLFVBQU0sRUFBRTtBQUNKQyxVQUFJLEVBQUUsVUFERjtBQUVKQyxjQUFRLEVBQUUsaUJBRk47QUFHSkMsYUFBTyxFQUFFLGlCQUhMLENBR3dCOztBQUh4QixLQUREO0FBTVBDLGdCQUFZLEVBQUU7QUFDVkgsVUFBSSxFQUFFLFVBREk7QUFFVkMsY0FBUSxFQUFFLGNBRkE7QUFHVkMsYUFBTyxFQUFFO0FBSEMsS0FOUDtBQVdQRSxTQUFLLEVBQUU7QUFDSEosVUFBSSxFQUFFLFVBREg7QUFFSEMsY0FBUSxFQUFFLGdCQUZQO0FBR0hDLGFBQU8sRUFBRTtBQUhOLEtBWEE7QUFnQlBHLGNBQVUsRUFBRTtBQUNSTCxVQUFJLEVBQUUsVUFERTtBQUVSQyxjQUFRLEVBQUUscUJBRkY7QUFHUkMsYUFBTyxFQUFFO0FBSEQsS0FoQkw7QUFxQlBJLE9BQUcsRUFBRTtBQUNETixVQUFJLEVBQUU7QUFETDtBQXJCRSxHQUxFO0FBOEJiOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBeUJBTyxZQUFVLEVBQUU7QUFDUjtBQUNBUixVQUFNLEVBQUU7QUFDSkQsZUFBUyxFQUFFLENBQUMsUUFBRCxDQURQO0FBQ21CO0FBQ3ZCVSxXQUFLLEVBQUUsTUFGSCxDQUVVOztBQUZWLEtBRkE7QUFNUkwsZ0JBQVksRUFBRTtBQUNWTCxlQUFTLEVBQUUsQ0FBQyxjQUFELENBREQ7QUFFVlUsV0FBSyxFQUFFO0FBRkcsS0FOTjtBQVVSSixTQUFLLEVBQUU7QUFDSE4sZUFBUyxFQUFFLENBQUMsT0FBRCxDQURSO0FBRUhVLFdBQUssRUFBRTtBQUZKLEtBVkM7QUFjUjtBQUNBQyxXQUFPLEVBQUU7QUFDTDtBQUNBO0FBQ0FYLGVBQVMsRUFBRSxDQUFDLFlBQUQsQ0FITjtBQUlMVSxXQUFLLEVBQUU7QUFKRjtBQWZEO0FBeERDLENBQWpCO0FBaUZlWiw4R0FBZiIsImZpbGUiOiIuL3NyYy9jb25maWcvbG9nNC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2c0anMgZnJvbSAna29hLWxvZzQnXHJcblxyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZG9taW5oaGFpL2tvYS1sb2c0anMtZXhhbXBsZS9ibG9iL3YyLngvbG9nNGpzLmpzb25cclxuLy8gTG9nNGpzIC0gQXBwZW5kZXJzXHJcbi8vIGh0dHBzOi8vbG9nNGpzLW5vZGUuZ2l0aHViLmlvL2xvZzRqcy1ub2RlL2FwcGVuZGVycy5odG1sXHJcbmxvZzRqcy5jb25maWd1cmUoe1xyXG4gICAgLy8g6Ieq5bex6ZyA6KaB5a6a5LmJ5Yeg5Liq5pel5b+X6KeE5YiZIOagvOW8jyA6XHJcbiAgICAvLyBcIuinhOWImeWQjVwiOiB7XHJcbiAgICAvLyAgICAgdHlwZTogY2F0ZWdvcnlGaWx0ZXIgLyBjb25zb2xlIC8gZGF0ZUZpbGUsIC8vIExvZzRqcyAtIEFwcGVuZGVycyDkuI3lkIznsbvlnovnmoRBcHBlbmRlcnPmnInkuI3lkIznmoTphY3nva7pnIDmsYLvvIzlj4LnhafkuIrov7DmlofmoaNcclxuICAgIC8vIH0sXHJcbiAgICBhcHBlbmRlcnM6IHtcclxuICAgICAgICBhY2Nlc3M6IHtcclxuICAgICAgICAgICAgdHlwZTogJ2RhdGVGaWxlJyxcclxuICAgICAgICAgICAgZmlsZW5hbWU6ICdsb2dzL2FjY2Vzcy5sb2cnLFxyXG4gICAgICAgICAgICBwYXR0ZXJuOiAnLVlZWVktTU0tZGQubG9nJywgLy/lkI7nvIBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFwcGxpY2F0aW9uczoge1xyXG4gICAgICAgICAgICB0eXBlOiAnZGF0ZUZpbGUnLFxyXG4gICAgICAgICAgICBmaWxlbmFtZTogJ2xvZ3MvYXBwLmxvZycsXHJcbiAgICAgICAgICAgIHBhdHRlcm46ICctWVlZWS1NTS1kZC5sb2cnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IHtcclxuICAgICAgICAgICAgdHlwZTogJ2RhdGVGaWxlJyxcclxuICAgICAgICAgICAgZmlsZW5hbWU6ICdsb2dzL2Vycm9yLmxvZycsXHJcbiAgICAgICAgICAgIHBhdHRlcm46ICctWVlZWS1NTS1kZC5sb2cnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVmYXVsdG91dDoge1xyXG4gICAgICAgICAgICB0eXBlOiAnZGF0ZUZpbGUnLFxyXG4gICAgICAgICAgICBmaWxlbmFtZTogJ2xvZ3MvZGVmYXVsdG91dC5sb2cnLFxyXG4gICAgICAgICAgICBwYXR0ZXJuOiAnLVlZWVktTU0tZGQubG9nJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG91dDoge1xyXG4gICAgICAgICAgICB0eXBlOiAnY29uc29sZSdcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIC8vIGNhdGVnb3J5IOmFjee9rueUn+aViGFwcGVuZGVyc++8iOinhOWIme+8ieS7peWPiueUn+aViOe6p+WIq+etiVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gbGV2ZWwg57qn5YirXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gaHR0cHM6Ly9naXRodWIuY29tL2xvZzRqcy1ub2RlL2xvZzRqcy1ub2RlL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2V4YW1wbGUuanNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBodHRwczovL2xvZzRqcy1ub2RlLmdpdGh1Yi5pby9sb2c0anMtbm9kZS9hcGkuaHRtbCBBTEwgPCBUUkFDRSA8IERFQlVHIDwgSU5GTyA8IFdBUk4gPCBFUlJPUiA8IEZBVEFMIDwgTUFSSyA8IE9GRiBcclxuICAgICAqIEBkZXNjcmlwdGlvbiDnuqfliKvnlLHovbvliLDkuKXph43vvIzmiZPljbDovpPlhaXml7bvvIzmmK/lkJHkuIrmiZPljbDnmoTvvIzlrprkuYnnuqfliKvlpKrpq5jvvIznuqfliKvkvY7nmoTmmK/kuI3kvJrmiZPljbDnmoQgZXJyb3LnuqfliKvlj6rkvJrmiZPljbAgZXJyb3IvZmF0YWznm7jlhbPkv6Hmga9cclxuICAgICAqICAgICAgICAgICAgICBpbmZvIOS8muaJk+WNsCBpbmZvL2xvZy93YXJuL2Vycm9yL2ZhdGFsXHJcbiAgICAgKiBAZGVzY3JpcHRpb24g5Lul5LiL5piv5a6Y5pa556S65L6LXHJcbiAgICAgKiBAcGFyYW0gY29uc3QgbG9nZ2VyID0gbG9nNGpzLmdldExvZ2dlcignY2hlZXNlJyk7XHJcbiAgICAgKiBAZGVzY3JpcHRpb24gYXBwZW5kZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWVzZUxvZ3M6IHsgdHlwZTogJ2ZpbGUnLCBmaWxlbmFtZTogJ2NoZWVzZS5sb2cnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWVzZTogeyBhcHBlbmRlcnM6IFsnY2hlZXNlTG9ncyddLCBsZXZlbDogJ2Vycm9yJyB9LCAgLy/lrprkuYnnuqfliKtlcnJvcu+8jOe6p+WIq+W+iOmrmFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAqIHRoZXNlIHdpbGwgbm90IGFwcGVhciAobG9nZ2luZyBsZXZlbCBiZW5lYXRoIGVycm9yKVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRyYWNlIGxvZ2dlci50cmFjZSgnRW50ZXJpbmcgY2hlZXNlIHRlc3RpbmcnKTtcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkZWJ1ZyBsb2dnZXIuZGVidWcoJ0dvdCBjaGVlc2UuJyk7XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5mbyBsb2dnZXIuaW5mbygnQ2hlZXNlIGlzIEdvdWRhLicpO1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGxvZyBsb2dnZXIubG9nKCdTb21ldGhpbmcgZnVubnkgYWJvdXQgY2hlZXNlLicpO1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdhcm4gbG9nZ2VyLndhcm4oJ0NoZWVzZSBpcyBxdWl0ZSBzbWVsbHkuJyk7XHJcbiAgICAgKiBcclxuICAgICAqIHRoZXNlIGVuZCB1cCBvbmx5IGluIGNoZWVzZS5sb2cg5Y+q5pyJZXJyb3IvIGZhdGFs55qEbGV2ZWzmiY3kvJrorrDlvZXlnKjmlofku7bkuK1cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlcnJvciBsb2dnZXIuZXJyb3IoJ0NoZWVzZSAlcyBpcyB0b28gcmlwZSEnLCAnZ291ZGEnKTtcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmYXRhbCBsb2dnZXIuZmF0YWwoJ0NoZWVzZSB3YXMgYnJlZWRpbmcgZ3JvdW5kIGZvciBsaXN0ZXJpYS4nKTtcclxuICAgICAqL1xyXG4gICAgY2F0ZWdvcmllczoge1xyXG4gICAgICAgIC8vIOWmguaenOatpOWkhOacquWumuS5ieeUn+aViOeahOinhOWIme+8jOS4muWKoeS4reS9v+eUqOS6huebuOW6lOeahOinhOWIme+8jOaYr+S4jeS8mueUn+aViOeahOWTpizkvYbmmK/lkaLkvJrosIPnlKjpu5jorqTml6Xlv5forrDlvZXlk6bvvIHvvIHvvIFcclxuICAgICAgICBhY2Nlc3M6IHtcclxuICAgICAgICAgICAgYXBwZW5kZXJzOiBbJ2FjY2VzcyddLCAvL+atpOWkhOWvueW6lOWumuS5ieeahOinhOWImeWQjVxyXG4gICAgICAgICAgICBsZXZlbDogJ2luZm8nIC8vIOe6p+WIq1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXBwbGljYXRpb25zOiB7XHJcbiAgICAgICAgICAgIGFwcGVuZGVyczogWydhcHBsaWNhdGlvbnMnXSxcclxuICAgICAgICAgICAgbGV2ZWw6ICd3YXJuJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IHtcclxuICAgICAgICAgICAgYXBwZW5kZXJzOiBbJ2Vycm9yJ10sXHJcbiAgICAgICAgICAgIGxldmVsOiAnd2FybidcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIOm7mOiupOeahOaYr+W/hemhu+WumuS5ieeahFxyXG4gICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgLy8gYXBwZW5kZXJzOiBbJ291dCddLFxyXG4gICAgICAgICAgICAvLyBhcHBlbmRlcnM6IFsnZGVmYXVsdG91dCcsICdvdXQnXSxcclxuICAgICAgICAgICAgYXBwZW5kZXJzOiBbJ2RlZmF1bHRvdXQnXSxcclxuICAgICAgICAgICAgbGV2ZWw6ICdpbmZvJ1xyXG4gICAgICAgIH0sXHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbG9nNGpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/log4.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa */ \"koa\");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! koa-helmet */ \"koa-helmet\");\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! koa-static */ \"koa-static\");\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routes/routes */ \"./src/routes/routes.js\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! koa-body */ \"koa-body\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! koa-json */ \"koa-json\");\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @koa/cors */ \"@koa/cors\");\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! koa-compose */ \"koa-compose\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! koa-compress */ \"koa-compress\");\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! koa-jwt */ \"koa-jwt\");\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./config/index */ \"./src/config/index.js\");\n/* harmony import */ var _config_WebSocket__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./config/WebSocket */ \"./src/config/WebSocket.js\");\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./common/ErrorHandle */ \"./src/common/ErrorHandle.js\");\n/* harmony import */ var _common_Auth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/common/Auth */ \"./src/common/Auth.js\");\n/* harmony import */ var _common_init__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/common/init */ \"./src/common/init.js\");\n/* harmony import */ var _config_log4__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/config/log4 */ \"./src/config/log4.js\");\n/* harmony import */ var _common_Logger__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/common/Logger */ \"./src/common/Logger.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // import logger from 'koa-logger'\n\n\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a(); // 实例化websocket\n\nconst ws = new _config_WebSocket__WEBPACK_IMPORTED_MODULE_12__[\"default\"]();\nws.init();\nglobal.ws = ws;\nconst isDevMode =  false ? undefined : true;\n/**\n * 定义鉴权路径\n */\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_10___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /^\\/login/]\n});\n/**\n * 使用koa-compose 集成中间件\n */\n\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_8___default()([_common_Logger__WEBPACK_IMPORTED_MODULE_17__[\"default\"], koa_body__WEBPACK_IMPORTED_MODULE_5___default()({\n  multipart: true,\n  // encoding: \"utf-8\",\n  formidable: {\n    keepExtensions: true,\n    maxFieldsSize: 5 * 1024 * 1024\n  },\n  patchKoa: true,\n  onError: err => {\n    console.log('koabody TCL: err', err);\n  }\n}), koa_static__WEBPACK_IMPORTED_MODULE_3___default()(path__WEBPACK_IMPORTED_MODULE_1___default.a.join(__dirname, '../public')), _koa_cors__WEBPACK_IMPORTED_MODULE_7___default()(), koa_json__WEBPACK_IMPORTED_MODULE_6___default()({\n  pretty: false,\n  param: 'pretty'\n}), koa_helmet__WEBPACK_IMPORTED_MODULE_2___default()(), _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_13__[\"default\"], jwt, _common_Auth__WEBPACK_IMPORTED_MODULE_14__[\"default\"], // logger(),只有记录请求正确的url信息，错误的不能去搜集 简洁\n// 对于logger去写入文件，是会去影响性能的\nisDevMode ? _config_log4__WEBPACK_IMPORTED_MODULE_16__[\"default\"].koaLogger(_config_log4__WEBPACK_IMPORTED_MODULE_16__[\"default\"].getLogger('http'), {\n  level: 'auto'\n}) : _config_log4__WEBPACK_IMPORTED_MODULE_16__[\"default\"].koaLogger(_config_log4__WEBPACK_IMPORTED_MODULE_16__[\"default\"].getLogger('access'), {\n  level: 'auto'\n})]);\n\nif (!isDevMode) {\n  app.use(koa_compress__WEBPACK_IMPORTED_MODULE_9___default()());\n}\n\napp.use(middleware);\napp.use(Object(_routes_routes__WEBPACK_IMPORTED_MODULE_4__[\"default\"])());\napp.listen(3000, () => {\n  // console.log('app is running 3000');\n  Object(_common_init__WEBPACK_IMPORTED_MODULE_15__[\"run\"])();\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJhcHAiLCJrb2EiLCJ3cyIsIldlYlNjb2tldFNlcnZlIiwiaW5pdCIsImdsb2JhbCIsImlzRGV2TW9kZSIsInByb2Nlc3MiLCJqd3QiLCJKd3QiLCJzZWNyZXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwidW5sZXNzIiwicGF0aCIsIm1pZGRsZXdhcmUiLCJjb21wb3NlIiwiTG9nZ2VyIiwia29hQm9keSIsIm11bHRpcGFydCIsImZvcm1pZGFibGUiLCJrZWVwRXh0ZW5zaW9ucyIsIm1heEZpZWxkc1NpemUiLCJwYXRjaEtvYSIsIm9uRXJyb3IiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic3RhdGljcyIsImpvaW4iLCJfX2Rpcm5hbWUiLCJjb3JzIiwianNvbnV0aWwiLCJwcmV0dHkiLCJwYXJhbSIsImhlbG1ldCIsIkVycm9ySGFuZGxlIiwiQXV0aCIsImxvZzRqcyIsImtvYUxvZ2dlciIsImdldExvZ2dlciIsImxldmVsIiwidXNlIiwiY29tcHJlc3MiLCJyb3V0ZXIiLCJsaXN0ZW4iLCJydW4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Q0FLQTs7QUFFQTtBQUNBO0FBSUEsTUFBTUEsR0FBRyxHQUFHLElBQUlDLDBDQUFKLEVBQVosQyxDQUVBOztBQUNBLE1BQU1DLEVBQUUsR0FBRyxJQUFJQywwREFBSixFQUFYO0FBQ0FELEVBQUUsQ0FBQ0UsSUFBSDtBQUNBQyxNQUFNLENBQUNILEVBQVAsR0FBWUEsRUFBWjtBQUVBLE1BQU1JLFNBQVMsR0FBR0MsTUFBQSxHQUF3QyxTQUF4QyxHQUFnRCxJQUFsRTtBQUVBOzs7O0FBR0EsTUFBTUMsR0FBRyxHQUFHQywrQ0FBRyxDQUFDO0FBQ1pDLFFBQU0sRUFBRUMsc0RBQU0sQ0FBQ0M7QUFESCxDQUFELENBQUgsQ0FFVEMsTUFGUyxDQUVGO0FBQ05DLE1BQUksRUFBRSxDQUFDLFdBQUQsRUFBYyxVQUFkO0FBREEsQ0FGRSxDQUFaO0FBTUE7Ozs7QUFHQSxNQUFNQyxVQUFVLEdBQUdDLGtEQUFPLENBQUMsQ0FDdkJDLHVEQUR1QixFQUV2QkMsK0NBQU8sQ0FBQztBQUNKQyxXQUFTLEVBQUUsSUFEUDtBQUVKO0FBQ0FDLFlBQVUsRUFBRTtBQUNSQyxrQkFBYyxFQUFFLElBRFI7QUFFUkMsaUJBQWEsRUFBRSxJQUFJLElBQUosR0FBVztBQUZsQixHQUhSO0FBT0pDLFVBQVEsRUFBRSxJQVBOO0FBUUpDLFNBQU8sRUFBRUMsR0FBRyxJQUFJO0FBQ1pDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaLEVBQWdDRixHQUFoQztBQUNIO0FBVkcsQ0FBRCxDQUZnQixFQWN2QkcsaURBQU8sQ0FBQ2QsMkNBQUksQ0FBQ2UsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFdBQXJCLENBQUQsQ0FkZ0IsRUFldkJDLGdEQUFJLEVBZm1CLEVBZ0J2QkMsK0NBQVEsQ0FBQztBQUNMQyxRQUFNLEVBQUUsS0FESDtBQUVMQyxPQUFLLEVBQUU7QUFGRixDQUFELENBaEJlLEVBb0J2QkMsaURBQU0sRUFwQmlCLEVBcUJ2QkMsNERBckJ1QixFQXNCdkI1QixHQXRCdUIsRUF1QnZCNkIscURBdkJ1QixFQXdCdkI7QUFDQTtBQUNBL0IsU0FBUyxHQUFHZ0MscURBQU0sQ0FBQ0MsU0FBUCxDQUFpQkQscURBQU0sQ0FBQ0UsU0FBUCxDQUFpQixNQUFqQixDQUFqQixFQUEyQztBQUNuREMsT0FBSyxFQUFFO0FBRDRDLENBQTNDLENBQUgsR0FFSkgscURBQU0sQ0FBQ0MsU0FBUCxDQUFpQkQscURBQU0sQ0FBQ0UsU0FBUCxDQUFpQixRQUFqQixDQUFqQixFQUE2QztBQUM5Q0MsT0FBSyxFQUFFO0FBRHVDLENBQTdDLENBNUJrQixDQUFELENBQTFCOztBQWlDQSxJQUFJLENBQUNuQyxTQUFMLEVBQWdCO0FBQ1pOLEtBQUcsQ0FBQzBDLEdBQUosQ0FBUUMsbURBQVEsRUFBaEI7QUFDSDs7QUFFRDNDLEdBQUcsQ0FBQzBDLEdBQUosQ0FBUTNCLFVBQVI7QUFDQWYsR0FBRyxDQUFDMEMsR0FBSixDQUFRRSw4REFBTSxFQUFkO0FBRUE1QyxHQUFHLENBQUM2QyxNQUFKLENBQVcsSUFBWCxFQUFpQixNQUFNO0FBQ25CO0FBQ0FDLDJEQUFHO0FBQ04sQ0FIRCxFIiwiZmlsZSI6Ii4vc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGtvYSBmcm9tICdrb2EnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGhlbG1ldCBmcm9tICdrb2EtaGVsbWV0J1xuaW1wb3J0IHN0YXRpY3MgZnJvbSAna29hLXN0YXRpYydcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvcm91dGVzJ1xuaW1wb3J0IGtvYUJvZHkgZnJvbSAna29hLWJvZHknXG5pbXBvcnQganNvbnV0aWwgZnJvbSAna29hLWpzb24nXG5pbXBvcnQgY29ycyBmcm9tICdAa29hL2NvcnMnXG5pbXBvcnQgY29tcG9zZSBmcm9tICdrb2EtY29tcG9zZSdcbmltcG9ydCBjb21wcmVzcyBmcm9tICdrb2EtY29tcHJlc3MnXG5pbXBvcnQgSnd0IGZyb20gJ2tvYS1qd3QnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnL2luZGV4J1xuaW1wb3J0IFdlYlNjb2tldFNlcnZlIGZyb20gJy4vY29uZmlnL1dlYlNvY2tldCdcbmltcG9ydCBFcnJvckhhbmRsZSBmcm9tICcuL2NvbW1vbi9FcnJvckhhbmRsZSdcbmltcG9ydCBBdXRoIGZyb20gJ0AvY29tbW9uL0F1dGgnXG5pbXBvcnQge1xuICAgIHJ1blxufSBmcm9tICdAL2NvbW1vbi9pbml0J1xuXG4vLyBpbXBvcnQgbG9nZ2VyIGZyb20gJ2tvYS1sb2dnZXInXG5cbmltcG9ydCBsb2c0anMgZnJvbSAnQC9jb25maWcvbG9nNCdcbmltcG9ydCBMb2dnZXIgZnJvbSAnQC9jb21tb24vTG9nZ2VyJ1xuXG5cblxuY29uc3QgYXBwID0gbmV3IGtvYSgpXG5cbi8vIOWunuS+i+WMlndlYnNvY2tldFxuY29uc3Qgd3MgPSBuZXcgV2ViU2Nva2V0U2VydmUoKVxud3MuaW5pdCgpXG5nbG9iYWwud3MgPSB3c1xuXG5jb25zdCBpc0Rldk1vZGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gZmFsc2UgOiB0cnVlXG5cbi8qKlxuICog5a6a5LmJ6Ym05p2D6Lev5b6EXG4gKi9cbmNvbnN0IGp3dCA9IEp3dCh7XG4gICAgc2VjcmV0OiBjb25maWcuSldUX1NFQ1JFVFxufSkudW5sZXNzKHtcbiAgICBwYXRoOiBbL15cXC9wdWJsaWMvLCAvXlxcL2xvZ2luL11cbn0pXG5cbi8qKlxuICog5L2/55Soa29hLWNvbXBvc2Ug6ZuG5oiQ5Lit6Ze05Lu2XG4gKi9cbmNvbnN0IG1pZGRsZXdhcmUgPSBjb21wb3NlKFtcbiAgICBMb2dnZXIsXG4gICAga29hQm9keSh7XG4gICAgICAgIG11bHRpcGFydDogdHJ1ZSxcbiAgICAgICAgLy8gZW5jb2Rpbmc6IFwidXRmLThcIixcbiAgICAgICAgZm9ybWlkYWJsZToge1xuICAgICAgICAgICAga2VlcEV4dGVuc2lvbnM6IHRydWUsXG4gICAgICAgICAgICBtYXhGaWVsZHNTaXplOiA1ICogMTAyNCAqIDEwMjRcbiAgICAgICAgfSxcbiAgICAgICAgcGF0Y2hLb2E6IHRydWUsXG4gICAgICAgIG9uRXJyb3I6IGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygna29hYm9keSBUQ0w6IGVycicsIGVycilcbiAgICAgICAgfVxuICAgIH0pLFxuICAgIHN0YXRpY3MocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uL3B1YmxpYycpKSxcbiAgICBjb3JzKCksXG4gICAganNvbnV0aWwoe1xuICAgICAgICBwcmV0dHk6IGZhbHNlLFxuICAgICAgICBwYXJhbTogJ3ByZXR0eSdcbiAgICB9KSxcbiAgICBoZWxtZXQoKSxcbiAgICBFcnJvckhhbmRsZSxcbiAgICBqd3QsXG4gICAgQXV0aCxcbiAgICAvLyBsb2dnZXIoKSzlj6rmnInorrDlvZXor7fmsYLmraPnoa7nmoR1cmzkv6Hmga/vvIzplJnor6/nmoTkuI3og73ljrvmkJzpm4Yg566A5rSBXG4gICAgLy8g5a+55LqObG9nZ2Vy5Y675YaZ5YWl5paH5Lu277yM5piv5Lya5Y675b2x5ZON5oCn6IO955qEXG4gICAgaXNEZXZNb2RlID8gbG9nNGpzLmtvYUxvZ2dlcihsb2c0anMuZ2V0TG9nZ2VyKCdodHRwJyksIHtcbiAgICAgICAgbGV2ZWw6ICdhdXRvJ1xuICAgIH0pIDogbG9nNGpzLmtvYUxvZ2dlcihsb2c0anMuZ2V0TG9nZ2VyKCdhY2Nlc3MnKSwge1xuICAgICAgICBsZXZlbDogJ2F1dG8nXG4gICAgfSksXG5dKVxuXG5pZiAoIWlzRGV2TW9kZSkge1xuICAgIGFwcC51c2UoY29tcHJlc3MoKSlcbn1cblxuYXBwLnVzZShtaWRkbGV3YXJlKVxuYXBwLnVzZShyb3V0ZXIoKSlcblxuYXBwLmxpc3RlbigzMDAwLCAoKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ2FwcCBpcyBydW5uaW5nIDMwMDAnKTtcbiAgICBydW4oKVxufSkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/model/Comments.js":
/*!*******************************!*\
  !*** ./src/model/Comments.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  tid: {\n    type: String,\n    ref: 'post'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  cuid: {\n    type: String,\n    ref: 'users'\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  hands: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '1'\n  },\n  isRead: {\n    type: String,\n    default: '0'\n  },\n  isBest: {\n    type: String,\n    default: '0'\n  }\n}, {\n  toJSON: {\n    virtuals: true // 虚拟值默认不会被 toJSON() 输出\n\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  // 查询某个评论\n  findByTid: function (id) {\n    return this.find({\n      tid: id\n    });\n  },\n  findByCid: function (id) {\n    return this.findOne({\n      _id: id\n    });\n  },\n  // 获取评论列表\n  getCommentsList: function (id, page, limit) {\n    return this.find({\n      tid: id\n    }).populate({\n      path: 'cuid',\n      select: '_id name pic isVip',\n      match: {\n        // 对于某些字段满足条件才能返回\n        status: {\n          $eq: '0'\n        }\n      }\n    }).populate({\n      path: 'tid',\n      select: '_id title static'\n    }).skip(page * limit).limit(limit);\n  },\n  // 获取总页数\n  queryCount: function (id) {\n    return this.find({\n      tid: id\n    }).countDocuments();\n  },\n  getCommetsPublic: function (id, page, limit) {\n    return this.find({\n      cuid: id\n    }).populate({\n      path: 'tid',\n      select: '_id title'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  getMsgList: function (id, page, limit) {\n    return this.find({\n      uid: id,\n      cuid: {\n        $ne: id // 隔离掉自己评论自己\n\n      },\n      isRead: {\n        $eq: '0'\n      },\n      // 未读状态\n      status: {\n        $eq: '1' // 是否显示\n\n      }\n    }).populate({\n      // 替换字段信息\n      path: 'tid',\n      select: '_id title content'\n    }).populate({\n      path: 'uid',\n      select: '_id name'\n    }).populate({\n      path: 'cuid',\n      select: '_id name'\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  getTotal: function (id) {\n    return this.find({\n      uid: id,\n      isRead: '0',\n      status: '1'\n    }).countDocuments();\n  }\n};\nconst Comments = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Comments);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHMuanM/MmUwMSJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvbW1lbnRzU2NoZW1hIiwidGlkIiwidHlwZSIsIlN0cmluZyIsInJlZiIsInVpZCIsImN1aWQiLCJjb250ZW50IiwiY3JlYXRlZCIsIkRhdGUiLCJoYW5kcyIsIk51bWJlciIsImRlZmF1bHQiLCJzdGF0dXMiLCJpc1JlYWQiLCJpc0Jlc3QiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInByZSIsIm5leHQiLCJwb3N0IiwiZXJyb3IiLCJkb2MiLCJuYW1lIiwiY29kZSIsIkVycm9yIiwic3RhdGljcyIsImZpbmRCeVRpZCIsImlkIiwiZmluZCIsImZpbmRCeUNpZCIsImZpbmRPbmUiLCJfaWQiLCJnZXRDb21tZW50c0xpc3QiLCJwYWdlIiwibGltaXQiLCJwb3B1bGF0ZSIsInBhdGgiLCJzZWxlY3QiLCJtYXRjaCIsIiRlcSIsInNraXAiLCJxdWVyeUNvdW50IiwiY291bnREb2N1bWVudHMiLCJnZXRDb21tZXRzUHVibGljIiwic29ydCIsImdldE1zZ0xpc3QiLCIkbmUiLCJnZXRUb3RhbCIsIkNvbW1lbnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzlCRyxLQUFHLEVBQUU7QUFDREMsUUFBSSxFQUFFQyxNQURMO0FBRURDLE9BQUcsRUFBRTtBQUZKLEdBRHlCO0FBSzlCQyxLQUFHLEVBQUU7QUFDREgsUUFBSSxFQUFFQyxNQURMO0FBRURDLE9BQUcsRUFBRTtBQUZKLEdBTHlCO0FBUzlCRSxNQUFJLEVBQUU7QUFDRkosUUFBSSxFQUFFQyxNQURKO0FBRUZDLE9BQUcsRUFBRTtBQUZILEdBVHdCO0FBYTlCRyxTQUFPLEVBQUU7QUFDTEws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QUEyQmxELGNBQTNCLENBQWpCO0FBRWVpRCx1RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Db21tZW50cy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IENvbW1lbnRzU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdGlkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVmOiAncG9zdCdcbiAgICB9LFxuICAgIHVpZDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlZjogJ3VzZXJzJ1xuICAgIH0sXG4gICAgY3VpZDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlZjogJ3VzZXJzJ1xuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGNyZWF0ZWQ6IHtcbiAgICAgICAgdHlwZTogRGF0ZVxuICAgIH0sXG4gICAgaGFuZHM6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBzdGF0dXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnMSdcbiAgICB9LFxuICAgIGlzUmVhZDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICcwJ1xuICAgIH0sXG4gICAgaXNCZXN0OiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJzAnXG4gICAgfVxufSwge1xuICAgIHRvSlNPTjoge1xuICAgICAgICB2aXJ0dWFsczogdHJ1ZSAvLyDomZrmi5/lgLzpu5jorqTkuI3kvJrooqsgdG9KU09OKCkg6L6T5Ye6XG4gICAgfVxufSlcblxuQ29tbWVudHNTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXG4gICAgbmV4dCgpXG59KVxuXG5Db21tZW50c1NjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ01vbmdvRXJyb3InICYmIGVycm9yLmNvZGUgPT09IDExMDAwKSB7XG4gICAgICAgIG5leHQobmV3IEVycm9yKCdUaGVyZSB3YXMgYSBkdXBsaWNhdGUga2V5IGVycm9yJykpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dChlcnJvcilcbiAgICB9XG59KVxuXG5Db21tZW50c1NjaGVtYS5zdGF0aWNzID0ge1xuICAgIC8vIOafpeivouafkOS4quivhOiuulxuICAgIGZpbmRCeVRpZDogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQoe1xuICAgICAgICAgICAgdGlkOiBpZFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgZmluZEJ5Q2lkOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGlkXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICAvLyDojrflj5bor4TorrrliJfooahcbiAgICBnZXRDb21tZW50c0xpc3Q6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZCh7XG4gICAgICAgICAgICB0aWQ6IGlkXG4gICAgICAgIH0pLnBvcHVsYXRlKHtcbiAgICAgICAgICAgIHBhdGg6ICdjdWlkJyxcbiAgICAgICAgICAgIHNlbGVjdDogJ19pZCBuYW1lIHBpYyBpc1ZpcCcsXG4gICAgICAgICAgICBtYXRjaDogeyAvLyDlr7nkuo7mn5DkupvlrZfmrrXmu6HotrPmnaHku7bmiY3og73ov5Tlm55cbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJGVxOiAnMCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnBvcHVsYXRlKHtcbiAgICAgICAgICAgIHBhdGg6ICd0aWQnLFxuICAgICAgICAgICAgc2VsZWN0OiAnX2lkIHRpdGxlIHN0YXRpYycsXG4gICAgICAgIH0pLnNraXAocGFnZSAqIGxpbWl0KS5saW1pdChsaW1pdClcbiAgICB9LFxuICAgIC8vIOiOt+WPluaAu+mhteaVsFxuICAgIHF1ZXJ5Q291bnQ6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICAgICAgICAgIHRpZDogaWRcbiAgICAgICAgfSkuY291bnREb2N1bWVudHMoKVxuICAgIH0sXG4gICAgZ2V0Q29tbWV0c1B1YmxpYzogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICAgICAgICAgICAgICBjdWlkOiBpZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5wb3B1bGF0ZSh7XG4gICAgICAgICAgICAgICAgcGF0aDogJ3RpZCcsXG4gICAgICAgICAgICAgICAgc2VsZWN0OiAnX2lkIHRpdGxlJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcbiAgICAgICAgICAgIC5saW1pdChsaW1pdClcbiAgICAgICAgICAgIC5zb3J0KHtcbiAgICAgICAgICAgICAgICBjcmVhdGVkOiAtMVxuICAgICAgICAgICAgfSlcbiAgICB9LFxuICAgIGdldE1zZ0xpc3Q6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZCh7XG4gICAgICAgICAgICAgICAgdWlkOiBpZCxcbiAgICAgICAgICAgICAgICBjdWlkOiB7XG4gICAgICAgICAgICAgICAgICAgICRuZTogaWQgLy8g6ZqU56a75o6J6Ieq5bex6K+E6K666Ieq5bexXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpc1JlYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJGVxOiAnMCdcbiAgICAgICAgICAgICAgICB9LCAvLyDmnKror7vnirbmgIFcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJGVxOiAnMSdcbiAgICAgICAgICAgICAgICB9IC8vIOaYr+WQpuaYvuekulxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5wb3B1bGF0ZSh7IC8vIOabv+aNouWtl+auteS/oeaBr1xuICAgICAgICAgICAgICAgIHBhdGg6ICd0aWQnLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogJ19pZCB0aXRsZSBjb250ZW50J1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5wb3B1bGF0ZSh7XG4gICAgICAgICAgICAgICAgcGF0aDogJ3VpZCcsXG4gICAgICAgICAgICAgICAgc2VsZWN0OiAnX2lkIG5hbWUnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgICAgICAgICBwYXRoOiAnY3VpZCcsXG4gICAgICAgICAgICAgICAgc2VsZWN0OiAnX2lkIG5hbWUnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnNraXAobGltaXQgKiBwYWdlKVxuICAgICAgICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgICAgICAgLnNvcnQoe1xuICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IC0xXG4gICAgICAgICAgICB9KVxuICAgIH0sXG4gICAgZ2V0VG90YWw6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICAgICAgICAgIHVpZDogaWQsXG4gICAgICAgICAgICBpc1JlYWQ6ICcwJyxcbiAgICAgICAgICAgIHN0YXR1czogJzEnXG4gICAgICAgIH0pLmNvdW50RG9jdW1lbnRzKClcbiAgICB9LFxuXG59XG5cbmNvbnN0IENvbW1lbnRzID0gbW9uZ29vc2UubW9kZWwoJ2NvbW1lbnRzJywgQ29tbWVudHNTY2hlbWEpXG5cbmV4cG9ydCBkZWZhdWx0IENvbW1lbnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/Comments.js\n");

/***/ }),

/***/ "./src/model/CommentsHands.js":
/*!************************************!*\
  !*** ./src/model/CommentsHands.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  // 'cid': { type: String},\n  cid: {\n    type: String,\n    ref: 'comments'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  // this.created = new Date()\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByCid: function (id) {\n    return this.find({\n      cid: id\n    });\n  }\n};\nconst CommentsHands = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments_hands', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommentsHands);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHNIYW5kcy5qcz9jOTdiIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiQ29tbWVudHNTY2hlbWEiLCJjaWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVmIiwidWlkIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlDaWQiLCJpZCIsImZpbmQiLCJDb21tZW50c0hhbmRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzlCO0FBQ0FHLEtBQUcsRUFBRTtBQUNEQyxRQUFJLEVBQUVDLE1BREw7QUFFREMsT0FBRyxFQUFFO0FBRkosR0FGeUI7QUFNOUJDLEtBQUcsRUFBRTtBQUNESCxRQUFJLEVBQUVDLE1BREw7QUFFREMsT0FBRyxFQUFFO0FBRkosR0FOeUI7QUFVOUJFLFNBQU8sRUFBRTtBQUNMSixRQUFJLEVBQUVLO0FBREQ7QUFWcUIsQ0FBWCxDQUF2QjtBQWVBUCxjQUFjLENBQUNRLEdBQWYsQ0FBbUIsTUFBbkIsRUFBMkIsVUFBVUMsSUFBVixFQUFnQjtBQUN2QztBQUNBLE9BQUtILE9BQUwsR0FBZUksNENBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ1AsQ0FKRDtBQU1BVCxjQUFjLENBQUNZLElBQWYsQ0FBb0IsTUFBcEIsRUFBNEIsVUFBVUMsS0FBVixFQUFpQkMsR0FBakIsRUFBc0JMLElBQXRCLEVBQTRCO0FBQ3BELE1BQUlJLEtBQUssQ0FBQ0UsSUFBTixLQUFlLFlBQWYsSUFBK0JGLEtBQUssQ0FBQ0csSUFBTixLQUFlLEtBQWxELEVBQXlEO0FBQ3JEUCxRQUFJLENBQUMsSUFBSVEsS0FBSixDQUFVLGlDQUFWLENBQUQsQ0FBSjtBQUNILEdBRkQsTUFFTztBQUNIUixRQUFJLENBQUNJLEtBQUQsQ0FBSjtBQUNIO0FBQ0osQ0FORDtBQVFBYixjQUFjLENBQUNrQixPQUFmLEdBQXlCO0FBQ3JCQyxXQUFTLEVBQUUsVUFBVUMsRUFBVixFQUFjO0FBQ3JCLFdBQU8sS0FBS0MsSUFBTCxDQUFVO0FBQ2JwQixTQUFHLEVBQUVtQjtBQURRLEtBQVYsQ0FBUDtBQUdIO0FBTG9CLENBQXpCO0FBU0EsTUFBTUUsYUFBYSxHQUFHdkIseURBQVEsQ0FBQ3dCLEtBQVQsQ0FBZSxnQkFBZixFQUFpQ3ZCLGNBQWpDLENBQXRCO0FBRWVzQiw0RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Db21tZW50c0hhbmRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxuY29uc3QgQ29tbWVudHNTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICAvLyAnY2lkJzogeyB0eXBlOiBTdHJpbmd9LFxuICAgIGNpZDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlZjogJ2NvbW1lbnRzJ1xuICAgIH0sXG4gICAgdWlkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVmOiAndXNlcnMnXG4gICAgfSxcbiAgICBjcmVhdGVkOiB7XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICB9XG59KVxuXG5Db21tZW50c1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICAgIC8vIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxuICAgIG5leHQoKVxufSlcblxuQ29tbWVudHNTY2hlbWEucG9zdCgnc2F2ZScsIGZ1bmN0aW9uIChlcnJvciwgZG9jLCBuZXh0KSB7XG4gICAgaWYgKGVycm9yLm5hbWUgPT09ICdNb25nb0Vycm9yJyAmJiBlcnJvci5jb2RlID09PSAxMTAwMCkge1xuICAgICAgICBuZXh0KG5ldyBFcnJvcignVGhlcmUgd2FzIGEgZHVwbGljYXRlIGtleSBlcnJvcicpKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQoZXJyb3IpXG4gICAgfVxufSlcblxuQ29tbWVudHNTY2hlbWEuc3RhdGljcyA9IHtcbiAgICBmaW5kQnlDaWQ6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICAgICAgICAgIGNpZDogaWRcbiAgICAgICAgfSlcbiAgICB9LFxuXG59XG5cbmNvbnN0IENvbW1lbnRzSGFuZHMgPSBtb25nb29zZS5tb2RlbCgnY29tbWVudHNfaGFuZHMnLCBDb21tZW50c1NjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgQ29tbWVudHNIYW5kcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/CommentsHands.js\n");

/***/ }),

/***/ "./src/model/ErrorRecord.js":
/*!**********************************!*\
  !*** ./src/model/ErrorRecord.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst ErrorRecordSchema = new Schema({\n  message: {\n    type: String,\n    default: ''\n  },\n  // 错误信息\n  code: {\n    type: String,\n    default: ''\n  },\n  // response status\n  method: {\n    type: String,\n    default: ''\n  },\n  // 请求的类型\n  path: {\n    type: String,\n    default: ''\n  },\n  // 请求的路径\n  param: {\n    type: Schema.Types.Mixed,\n    default: ''\n  },\n  // 请求的参数\n  username: {\n    type: String,\n    default: ''\n  },\n  // 当前登录用户\n  stack: {\n    type: String,\n    default: ''\n  },\n  created: {\n    type: Date\n  }\n});\nErrorRecordSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nconst ErrorRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('error_record', ErrorRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvRXJyb3JSZWNvcmQuanM/YTgyYyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkVycm9yUmVjb3JkU2NoZW1hIiwibWVzc2FnZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiY29kZSIsIm1ldGhvZCIsInBhdGgiLCJwYXJhbSIsIlR5cGVzIiwiTWl4ZWQiLCJ1c2VybmFtZSIsInN0YWNrIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwiRXJyb3JSZWNvcmQiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyx5REFBUSxDQUFDRCxNQUF4QjtBQUVBLE1BQU1FLGlCQUFpQixHQUFHLElBQUlGLE1BQUosQ0FBVztBQUNuQ0csU0FBTyxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBRDBCO0FBQ0s7QUFDeENDLE1BQUksRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUY2QjtBQUVFO0FBQ3JDRSxRQUFNLEVBQUU7QUFBRUosUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FIMkI7QUFHSTtBQUN2Q0csTUFBSSxFQUFFO0FBQUVMLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBSjZCO0FBSUU7QUFDckNJLE9BQUssRUFBRTtBQUFFTixRQUFJLEVBQUVKLE1BQU0sQ0FBQ1csS0FBUCxDQUFhQyxLQUFyQjtBQUE0Qk4sV0FBTyxFQUFFO0FBQXJDLEdBTDRCO0FBS2U7QUFDbERPLFVBQVEsRUFBRTtBQUFFVCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQU55QjtBQU1NO0FBQ3pDUSxPQUFLLEVBQUU7QUFBRVYsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FQNEI7QUFRbkNTLFNBQU8sRUFBRTtBQUFFWCxRQUFJLEVBQUVZO0FBQVI7QUFSMEIsQ0FBWCxDQUExQjtBQVdBZCxpQkFBaUIsQ0FBQ2UsR0FBbEIsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVUMsSUFBVixFQUFnQjtBQUM1QyxPQUFLSCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FFLE1BQUk7QUFDTCxDQUhEO0FBS0EsTUFBTUMsV0FBVyxHQUFHbEIseURBQVEsQ0FBQ21CLEtBQVQsQ0FBZSxjQUFmLEVBQStCbEIsaUJBQS9CLENBQXBCO0FBRWVpQiwwRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9FcnJvclJlY29yZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxuY29uc3QgRXJyb3JSZWNvcmRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbWVzc2FnZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sIC8vIOmUmeivr+S/oeaBr1xuICBjb2RlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwgLy8gcmVzcG9uc2Ugc3RhdHVzXG4gIG1ldGhvZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sIC8vIOivt+axgueahOexu+Wei1xuICBwYXRoOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwgLy8g6K+35rGC55qE6Lev5b6EXG4gIHBhcmFtOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5NaXhlZCwgZGVmYXVsdDogJycgfSwgLy8g6K+35rGC55qE5Y+C5pWwXG4gIHVzZXJuYW1lOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwgLy8g5b2T5YmN55m75b2V55So5oi3XG4gIHN0YWNrOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH1cbn0pXG5cbkVycm9yUmVjb3JkU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgbmV4dCgpXG59KVxuXG5jb25zdCBFcnJvclJlY29yZCA9IG1vbmdvb3NlLm1vZGVsKCdlcnJvcl9yZWNvcmQnLCBFcnJvclJlY29yZFNjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JSZWNvcmRcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/ErrorRecord.js\n");

/***/ }),

/***/ "./src/model/Links.js":
/*!****************************!*\
  !*** ./src/model/Links.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst LinksSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'link'\n  },\n  created: {\n    type: Date\n  },\n  isTop: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: ''\n  }\n});\nLinksSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('links', LinksSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTGlua3MuanM/ZTMxMiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkxpbmtzU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwiZGVmYXVsdCIsImxpbmsiLCJjcmVhdGVkIiwiRGF0ZSIsImlzVG9wIiwic29ydCIsInByZSIsIm5leHQiLCJMaW5rcyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUM3QkcsT0FBSyxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBRHNCO0FBRTdCQyxNQUFJLEVBQUU7QUFBRUgsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FGdUI7QUFHN0JGLE1BQUksRUFBRTtBQUFFQSxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUh1QjtBQUk3QkUsU0FBTyxFQUFFO0FBQUVKLFFBQUksRUFBRUs7QUFBUixHQUpvQjtBQUs3QkMsT0FBSyxFQUFFO0FBQUVOLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBTHNCO0FBTTdCSyxNQUFJLEVBQUU7QUFBRVAsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekI7QUFOdUIsQ0FBWCxDQUFwQjtBQVNBSixXQUFXLENBQUNVLEdBQVosQ0FBZ0IsTUFBaEIsRUFBd0IsVUFBVUMsSUFBVixFQUFnQjtBQUN0QyxPQUFLTCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FJLE1BQUk7QUFDTCxDQUhEO0FBS0EsTUFBTUMsS0FBSyxHQUFHYix5REFBUSxDQUFDYyxLQUFULENBQWUsT0FBZixFQUF3QmIsV0FBeEIsQ0FBZDtBQUVlWSxvRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9MaW5rcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdAL2NvbmZpZy9EQkhlbHBsZXInXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBMaW5rc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxpbms6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2xpbmsnIH0sXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9LFxuICBpc1RvcDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHNvcnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9XG59KVxuXG5MaW5rc1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXG4gIG5leHQoKVxufSlcblxuY29uc3QgTGlua3MgPSBtb25nb29zZS5tb2RlbCgnbGlua3MnLCBMaW5rc1NjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgTGlua3NcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Links.js\n");

/***/ }),

/***/ "./src/model/Menus.js":
/*!****************************!*\
  !*** ./src/model/Menus.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst MenuSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  name: {\n    type: String,\n    default: ''\n  },\n  path: {\n    type: String,\n    default: ''\n  },\n  component: {\n    type: String,\n    default: ''\n  },\n  hideInBread: {\n    type: Boolean,\n    default: false\n  },\n  hideInMenu: {\n    type: Boolean,\n    default: false\n  },\n  notCache: {\n    type: Boolean,\n    default: false\n  },\n  icon: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: 0\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  redirect: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'menu'\n  },\n  // 配合tree组件，展开对应的树形结构\n  expand: {\n    type: Boolean,\n    default: true\n  }\n});\nconst OperationSchema = new Schema({\n  name: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: ''\n  },\n  method: {\n    type: String,\n    default: ''\n  },\n  path: {\n    type: String,\n    default: ''\n  },\n  regmark: {\n    type: String,\n    default: ''\n  }\n});\nMenuSchema.add({\n  children: [MenuSchema],\n  operations: [OperationSchema]\n});\nconst Menus = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('menus', MenuSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Menus);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTWVudXMuanM/NGNhNCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIk1lbnVTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwibmFtZSIsInBhdGgiLCJjb21wb25lbnQiLCJoaWRlSW5CcmVhZCIsIkJvb2xlYW4iLCJoaWRlSW5NZW51Iiwibm90Q2FjaGUiLCJpY29uIiwic29ydCIsImxpbmsiLCJyZWRpcmVjdCIsImV4cGFuZCIsIk9wZXJhdGlvblNjaGVtYSIsIm1ldGhvZCIsInJlZ21hcmsiLCJhZGQiLCJjaGlsZHJlbiIsIm9wZXJhdGlvbnMiLCJNZW51cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUMxQkcsT0FBSyxFQUFFO0FBQ0hDLFFBQUksRUFBRUMsTUFESDtBQUVIQyxXQUFPLEVBQUU7QUFGTixHQURtQjtBQUsxQkMsTUFBSSxFQUFFO0FBQ0ZILFFBQUksRUFBRUMsTUFESjtBQUVGQyxXQUFPLEVBQUU7QUFGUCxHQUxvQjtBQVMxQkUsTUFBSSxFQUFFO0FBQ0ZKLFFBQUksRUFBRUMsTUFESjtBQUVGQyxXQUFPLEVBQUU7QUFGUCxHQVRvQjtBQWExQkcsV0FBUyxFQUFFO0FBQ1BMLFFBQUksRUFBRUMsTUFEQztBQUVQQyxXQUFPLEVBQUU7QUFGRixHQWJlO0FBaUIxQkksYUFBVyxFQUFFO0FBQ1ROLFFBQUksRUFBRU8sT0FERztBQUVUTCxXQUFPLEVBQUU7QUFGQSxHQWpCYTtBQXFCMUJNLFlBQVUsRUFBRTtBQUNSUixRQUFJLEVBQUVPLE9BREU7QUFFUkwsV0FBTyxFQUFFO0FBRkQsR0FyQmM7QUF5QjFCTyxVQUFRLEVBQUU7QUFDTlQsUUFBSSxFQUFFTyxPQURBO0FBRU5MLFdBQU8sRUFBRTtBQUZILEdBekJnQjtBQTZCMUJRLE1BQUksRUFBRTtBQUNGVixRQUFJLEVBQUVDLE1BREo7QUFFRkMsV0FBTyxFQUFFO0FBRlAsR0E3Qm9CO0FBaUMxQlMsTUFBSSxFQUFFO0FBQ0ZYLFFBQUksRUFBRUMsTUFESjtBQUVGQyxXQUFPLEVBQUU7QUFGUCxHQWpDb0I7QUFxQzFCVSxNQUFJLEVBQUU7QUFDRlosUUFBSSxFQUFFQyxNQURKO0FBRUZDLFdBQU8sRUFBRTtBQUZQLEdBckNvQjtBQXlDMUJXLFVBQVEsRUFBRTtBQUNOYixRQUFJLEVBQUVDLE1BREE7QUFFTkMsV0FBTyxFQUFFO0FBRkgsR0F6Q2dCO0FBNkMxQkYsTUFBSSxFQUFFO0FBQ0ZBLFFBQUksRUFBRUMsTUFESjtBQUVGQyxXQUFPLEVBQUU7QUFGUCxHQTdDb0I7QUFpRDFCO0FBQ0FZLFFBQU0sRUFBRTtBQUNKZCxRQUFJLEVBQUVPLE9BREY7QUFFSkwsV0FBTyxFQUFFO0FBRkw7QUFsRGtCLENBQVgsQ0FBbkI7QUF3REEsTUFBTWEsZUFBZSxHQUFHLElBQUluQixNQUFKLENBQVc7QUFDL0JPLE1BQUksRUFBRTtBQUNGSCxRQUFJLEVBQUVDLE1BREo7QUFFRkMsV0FBTyxFQUFFO0FBRlAsR0FEeUI7QUFLL0JGLE1BQUksRUFBRTtBQUNGQSxRQUFJLEVBQUVDLE1BREo7QUFFRkMsV0FBTyxFQUFFO0FBRlAsR0FMeUI7QUFTL0JjLFFBQU0sRUFBRTtBQUNKaEIsUUFBSSxFQUFFQyxNQURGO0FBRUpDLFdBQU8sRUFBRTtBQUZMLEdBVHVCO0FBYS9CRSxNQUFJLEVBQUU7QUFDRkosUUFBSSxFQUFFQyxNQURKO0FBRUZDLFdBQU8sRUFBRTtBQUZQLEdBYnlCO0FBaUIvQmUsU0FBTyxFQUFFO0FBQ0xqQixRQUFJLEVBQUVDLE1BREQ7QUFFTEMsV0FBTyxFQUFFO0FBRko7QUFqQnNCLENBQVgsQ0FBeEI7QUF3QkFKLFVBQVUsQ0FBQ29CLEdBQVgsQ0FBZTtBQUNYQyxVQUFRLEVBQUUsQ0FBQ3JCLFVBQUQsQ0FEQztBQUVYc0IsWUFBVSxFQUFFLENBQUNMLGVBQUQ7QUFGRCxDQUFmO0FBT0EsTUFBTU0sS0FBSyxHQUFHeEIseURBQVEsQ0FBQ3lCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCeEIsVUFBeEIsQ0FBZDtBQUVldUIsb0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvTWVudXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnQC9jb25maWcvREJIZWxwbGVyJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBNZW51U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB0aXRsZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgfSxcclxuICAgIG5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJydcclxuICAgIH0sXHJcbiAgICBwYXRoOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50OiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICB9LFxyXG4gICAgaGlkZUluQnJlYWQ6IHtcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgaGlkZUluTWVudToge1xyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcclxuICAgIH0sXHJcbiAgICBub3RDYWNoZToge1xyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcclxuICAgIH0sXHJcbiAgICBpY29uOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICB9LFxyXG4gICAgc29ydDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9LFxyXG4gICAgbGluazoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgfSxcclxuICAgIHJlZGlyZWN0OiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICB9LFxyXG4gICAgdHlwZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnbWVudSdcclxuICAgIH0sXHJcbiAgICAvLyDphY3lkIh0cmVl57uE5Lu277yM5bGV5byA5a+55bqU55qE5qCR5b2i57uT5p6EXHJcbiAgICBleHBhbmQ6IHtcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcclxuICAgIH1cclxufSlcclxuXHJcbmNvbnN0IE9wZXJhdGlvblNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgbmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgfSxcclxuICAgIHR5cGU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJydcclxuICAgIH0sXHJcbiAgICBtZXRob2Q6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJydcclxuICAgIH0sXHJcbiAgICBwYXRoOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICB9LFxyXG4gICAgcmVnbWFyazoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgfVxyXG59KVxyXG5cclxuXHJcbk1lbnVTY2hlbWEuYWRkKHtcclxuICAgIGNoaWxkcmVuOiBbTWVudVNjaGVtYV0sXHJcbiAgICBvcGVyYXRpb25zOiBbT3BlcmF0aW9uU2NoZW1hXVxyXG59KVxyXG5cclxuXHJcblxyXG5jb25zdCBNZW51cyA9IG1vbmdvb3NlLm1vZGVsKCdtZW51cycsIE1lbnVTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBNZW51cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Menus.js\n");

/***/ }),

/***/ "./src/model/Post.js":
/*!***************************!*\
  !*** ./src/model/Post.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  catalog: {\n    type: String\n  },\n  fav: {\n    type: String\n  },\n  isEnd: {\n    type: String,\n    default: '0'\n  },\n  reads: {\n    type: Number,\n    default: 0\n  },\n  answer: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  isTop: {\n    type: String,\n    default: '0'\n  },\n  sort: {\n    type: String,\n    default: 100\n  },\n  tags: {\n    type: Array,\n    default: [// {\n      //   name: '',\n      //   class: ''\n      // }\n    ]\n  }\n}); // 填充对应doc的字段\n\nPostSchema.virtual('user', {\n  ref: 'users',\n  localField: 'uid',\n  //填充的字段\n  foreignField: '_id' //对应doc的字段\n\n}); //保存之前的钩子\n\nPostSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostSchema.statics = {\n  /**\n   * 获取文章列表数据\n   * @param {Object} options 筛选条件\n   * @param {String} sort 排序方式\n   * @param {Number} page 分页页数\n   * @param {Number} limit 分页条数\n   */\n  getList: function (options, sort, page, limit) {\n    return this.find(options).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit).populate({\n      path: 'uid',\n      select: 'name isVip pic'\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  },\n  getTopWeek: function () {\n    return this.find({\n      created: {\n        $gte: dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(7, 'days')\n      }\n    }, {\n      answer: 1,\n      title: 1\n    }).sort({\n      answer: -1\n    }).limit(15);\n  },\n  findByTid: function (id) {\n    return this.findOne({\n      _id: id\n    }).populate({\n      path: 'uid',\n      select: 'name pic isVip _id'\n    });\n  },\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(page * limit).limit(limit).sort({\n      created: -1 //倒序排列\n\n    });\n  },\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  },\n  getHotPost: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).skip(limit * page).limit(limit).sort({\n      answer: -1\n    });\n  },\n  getHotPostCount: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).countDocuments();\n  }\n};\nconst PostModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post', PostSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (PostModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdC5qcz81OWM1Il0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiUG9zdFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJ0aXRsZSIsImNvbnRlbnQiLCJjcmVhdGVkIiwiRGF0ZSIsImNhdGFsb2ciLCJmYXYiLCJpc0VuZCIsImRlZmF1bHQiLCJyZWFkcyIsIk51bWJlciIsImFuc3dlciIsInN0YXR1cyIsImlzVG9wIiwic29ydCIsInRhZ3MiLCJBcnJheSIsInZpcnR1YWwiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwicHJlIiwibmV4dCIsInN0YXRpY3MiLCJnZXRMaXN0Iiwib3B0aW9ucyIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0IiwiY291bnRMaXN0IiwiY291bnREb2N1bWVudHMiLCJnZXRUb3BXZWVrIiwiJGd0ZSIsIm1vbWVudCIsInN1YnRyYWN0IiwiZmluZEJ5VGlkIiwiaWQiLCJmaW5kT25lIiwiX2lkIiwiZ2V0TGlzdEJ5VWlkIiwiY291bnRCeVVpZCIsImdldEhvdFBvc3QiLCJzdGFydCIsImVuZCIsInF1ZXJ5IiwiJGx0IiwiZ2V0SG90UG9zdENvdW50IiwiUG9zdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzFCRyxLQUFHLEVBQUU7QUFDREMsUUFBSSxFQUFFQyxNQURMO0FBRURDLE9BQUcsRUFBRTtBQUZKLEdBRHFCO0FBSzFCQyxPQUFLLEVBQUU7QUFDSEgsUUFBSSxFQUFFQztBQURILEdBTG1CO0FBUTFCRyxTQUFPLEVBQUU7QUFDTEosUUFBSSxFQUFFQztBQURELEdBUmlCO0FBVzFCSSxTQUFP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QUFHLEtBQUssRUFBNUIsRUFBZ0M7QUFDNUJDLFdBQUssR0FBRztBQUNKNUMsZUFBTyxFQUFFO0FBQ0xnQyxjQUFJLEVBQUVVLEtBREQ7QUFFTEcsYUFBRyxFQUFFRjtBQUZBO0FBREwsT0FBUjtBQU1IOztBQUNELFdBQU8sS0FBS25CLElBQUwsQ0FBVW9CLEtBQVYsRUFBaUJkLGNBQWpCLEVBQVA7QUFDSDtBQXZGZ0IsQ0FBckI7QUEwRkEsTUFBTWlCLFNBQVMsR0FBR3ZELHlEQUFRLENBQUN3RCxLQUFULENBQWUsTUFBZixFQUF1QnZELFVBQXZCLENBQWxCO0FBRWVzRCx3RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Qb3N0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ0AvY29uZmlnL0RCSGVscGxlcidcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBQb3N0U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdWlkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVmOiAndXNlcnMnXG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjcmVhdGVkOiB7XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICB9LFxuICAgIGNhdGFsb2c6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBmYXY6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBpc0VuZDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICcwJ1xuICAgIH0sXG4gICAgcmVhZHM6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBhbnN3ZXI6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBzdGF0dXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnMCdcbiAgICB9LFxuICAgIGlzVG9wOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJzAnXG4gICAgfSxcbiAgICBzb3J0OiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogMTAwXG4gICAgfSxcbiAgICB0YWdzOiB7XG4gICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICBkZWZhdWx0OiBbXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgLy8gICBjbGFzczogJydcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgXVxuICAgIH1cbn0pXG5cbi8vIOWhq+WFheWvueW6lGRvY+eahOWtl+autVxuUG9zdFNjaGVtYS52aXJ0dWFsKCd1c2VyJywge1xuICAgIHJlZjogJ3VzZXJzJyxcbiAgICBsb2NhbEZpZWxkOiAndWlkJywgLy/loavlhYXnmoTlrZfmrrVcbiAgICBmb3JlaWduRmllbGQ6ICdfaWQnIC8v5a+55bqUZG9j55qE5a2X5q61XG59KVxuLy/kv53lrZjkuYvliY3nmoTpkqnlrZBcblBvc3RTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXG4gICAgbmV4dCgpXG59KVxuXG5Qb3N0U2NoZW1hLnN0YXRpY3MgPSB7XG4gICAgLyoqXG4gICAgICog6I635Y+W5paH56ug5YiX6KGo5pWw5o2uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMg562b6YCJ5p2h5Lu2XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNvcnQg5o6S5bqP5pa55byPXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2Ug5YiG6aG16aG15pWwXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbWl0IOWIhumhteadoeaVsFxuICAgICAqL1xuICAgIGdldExpc3Q6IGZ1bmN0aW9uIChvcHRpb25zLCBzb3J0LCBwYWdlLCBsaW1pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpXG4gICAgICAgICAgICAuc29ydCh7XG4gICAgICAgICAgICAgICAgW3NvcnRdOiAtMVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcbiAgICAgICAgICAgIC5saW1pdChsaW1pdClcbiAgICAgICAgICAgIC5wb3B1bGF0ZSh7XG4gICAgICAgICAgICAgICAgcGF0aDogJ3VpZCcsXG4gICAgICAgICAgICAgICAgc2VsZWN0OiAnbmFtZSBpc1ZpcCBwaWMnXG4gICAgICAgICAgICB9KVxuICAgIH0sXG4gICAgY291bnRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpLmNvdW50RG9jdW1lbnRzKClcbiAgICB9LFxuICAgIGdldFRvcFdlZWs6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZCh7XG4gICAgICAgICAgICAgICAgY3JlYXRlZDoge1xuICAgICAgICAgICAgICAgICAgICAkZ3RlOiBtb21lbnQoKS5zdWJ0cmFjdCg3LCAnZGF5cycpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGFuc3dlcjogMSxcbiAgICAgICAgICAgICAgICB0aXRsZTogMVxuICAgICAgICAgICAgfSkuc29ydCh7XG4gICAgICAgICAgICAgICAgYW5zd2VyOiAtMVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5saW1pdCgxNSlcbiAgICB9LFxuICAgIGZpbmRCeVRpZDogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBpZFxuICAgICAgICB9KS5wb3B1bGF0ZSh7XG4gICAgICAgICAgICBwYXRoOiAndWlkJyxcbiAgICAgICAgICAgIHNlbGVjdDogJ25hbWUgcGljIGlzVmlwIF9pZCdcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIGdldExpc3RCeVVpZDogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICAgICAgICAgICAgICB1aWQ6IGlkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxuICAgICAgICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgICAgICAgLnNvcnQoe1xuICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IC0xIC8v5YCS5bqP5o6S5YiXXG4gICAgICAgICAgICB9KVxuICAgIH0sXG4gICAgY291bnRCeVVpZDogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQoe1xuICAgICAgICAgICAgdWlkOiBpZFxuICAgICAgICB9KS5jb3VudERvY3VtZW50cygpXG4gICAgfSxcbiAgICBnZXRIb3RQb3N0OiBmdW5jdGlvbiAocGFnZSwgbGltaXQsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0ge31cbiAgICAgICAgaWYgKHN0YXJ0ICE9PSAnJyAmJiBlbmQgIT09ICcnKSB7XG4gICAgICAgICAgICBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICBjcmVhdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICRndGU6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAkbHQ6IGVuZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KVxuICAgICAgICAgICAgLnNraXAobGltaXQgKiBwYWdlKVxuICAgICAgICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgICAgICAgLnNvcnQoe1xuICAgICAgICAgICAgICAgIGFuc3dlcjogLTFcbiAgICAgICAgICAgIH0pXG4gICAgfSxcbiAgICBnZXRIb3RQb3N0Q291bnQ6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCwgc3RhcnQsIGVuZCkge1xuICAgICAgICBsZXQgcXVlcnkgPSB7fVxuICAgICAgICBpZiAoc3RhcnQgIT09ICcnICYmIGVuZCAhPT0gJycpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJGd0ZTogc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICRsdDogZW5kXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQocXVlcnkpLmNvdW50RG9jdW1lbnRzKClcbiAgICB9XG59XG5cbmNvbnN0IFBvc3RNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdwb3N0JywgUG9zdFNjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgUG9zdE1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/Post.js\n");

/***/ }),

/***/ "./src/model/PostTags.js":
/*!*******************************!*\
  !*** ./src/model/PostTags.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostTagsSchema = new Schema({\n  tagName: {\n    type: String,\n    default: ''\n  },\n  tagClass: {\n    type: String,\n    default: ''\n  }\n});\nPostTagsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostTagsSchema.statics = {\n  getList: function (options, page, limit) {\n    return this.find(options).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  }\n};\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post_tags', PostTagsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdFRhZ3MuanM/Y2ZjZiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlBvc3RUYWdzU2NoZW1hIiwidGFnTmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwidGFnQ2xhc3MiLCJwcmUiLCJuZXh0IiwiY3JlYXRlZCIsIkRhdGUiLCJzdGF0aWNzIiwiZ2V0TGlzdCIsIm9wdGlvbnMiLCJwYWdlIiwibGltaXQiLCJmaW5kIiwic2tpcCIsInNvcnQiLCJjb3VudExpc3QiLCJjb3VudERvY3VtZW50cyIsIkxpbmtzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxTQUFPLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FEdUI7QUFFaENDLFVBQVEsRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QjtBQUZzQixDQUFYLENBQXZCO0FBS0FKLGNBQWMsQ0FBQ00sR0FBZixDQUFtQixNQUFuQixFQUEyQixVQUFVQyxJQUFWLEVBQWdCO0FBQ3pDLE9BQUtDLE9BQUwsR0FBZSxJQUFJQyxJQUFKLEVBQWY7QUFDQUYsTUFBSTtBQUNMLENBSEQ7QUFLQVAsY0FBYyxDQUFDVSxPQUFmLEdBQXlCO0FBQ3ZCQyxTQUFPLEVBQUUsVUFBVUMsT0FBVixFQUFtQkMsSUFBbkIsRUFBeUJDLEtBQXpCLEVBQWdDO0FBQ3ZDLFdBQU8sS0FBS0MsSUFBTCxDQUFVSCxPQUFWLEVBQ0pJLElBREksQ0FDQ0gsSUFBSSxHQUFHQyxLQURSLEVBRUpBLEtBRkksQ0FFRUEsS0FGRixFQUdKRyxJQUhJLENBR0M7QUFBRVQsYUFBTyxFQUFFLENBQUM7QUFBWixLQUhELENBQVA7QUFJRCxHQU5zQjtBQU92QlUsV0FBUyxFQUFFLFVBQVVOLE9BQVYsRUFBbUI7QUFDNUIsV0FBTyxLQUFLRyxJQUFMLENBQVVILE9BQVYsRUFBbUJPLGNBQW5CLEVBQVA7QUFDRDtBQVRzQixDQUF6QjtBQVlBLE1BQU1DLEtBQUssR0FBR3JCLHlEQUFRLENBQUNzQixLQUFULENBQWUsV0FBZixFQUE0QnJCLGNBQTVCLENBQWQ7QUFFZW9CLG9FQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL1Bvc3RUYWdzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ0AvY29uZmlnL0RCSGVscGxlcidcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFBvc3RUYWdzU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHRhZ05hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICB0YWdDbGFzczogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH1cbn0pXG5cblBvc3RUYWdzU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgbmV4dCgpXG59KVxuXG5Qb3N0VGFnc1NjaGVtYS5zdGF0aWNzID0ge1xuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgcGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAubGltaXQobGltaXQpXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXG4gIH0sXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpLmNvdW50RG9jdW1lbnRzKClcbiAgfVxufVxuXG5jb25zdCBMaW5rcyA9IG1vbmdvb3NlLm1vZGVsKCdwb3N0X3RhZ3MnLCBQb3N0VGFnc1NjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgTGlua3NcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/PostTags.js\n");

/***/ }),

/***/ "./src/model/Roles.js":
/*!****************************!*\
  !*** ./src/model/Roles.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst RolesSchema = new Schema({\n  name: {\n    type: String,\n    default: ''\n  },\n  role: {\n    type: String,\n    default: ''\n  },\n  desc: {\n    type: String,\n    default: ''\n  },\n  menu: {\n    type: Array,\n    default: []\n  }\n});\nconst Roles = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('roles', RolesSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Roles);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUm9sZXMuanM/NTFjYiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlJvbGVzU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0Iiwicm9sZSIsImRlc2MiLCJtZW51IiwiQXJyYXkiLCJSb2xlcyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUMzQkcsTUFBSSxFQUFFO0FBQ0ZDLFFBQUksRUFBRUMsTUFESjtBQUVGQyxXQUFPLEVBQUU7QUFGUCxHQURxQjtBQUszQkMsTUFBSSxFQUFFO0FBQ0ZILFFBQUksRUFBRUMsTUFESjtBQUVGQyxXQUFPLEVBQUU7QUFGUCxHQUxxQjtBQVMzQkUsTUFBSSxFQUFFO0FBQ0ZKLFFBQUksRUFBRUMsTUFESjtBQUVGQyxXQUFPLEVBQUU7QUFGUCxHQVRxQjtBQWEzQkcsTUFBSSxFQUFFO0FBQ0ZMLFFBQUksRUFBRU0sS0FESjtBQUVGSixXQUFPLEVBQUU7QUFGUDtBQWJxQixDQUFYLENBQXBCO0FBbUJBLE1BQU1LLEtBQUssR0FBR1YseURBQVEsQ0FBQ1csS0FBVCxDQUFlLE9BQWYsRUFBd0JWLFdBQXhCLENBQWQ7QUFFZVMsb0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvUm9sZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnQC9jb25maWcvREJIZWxwbGVyJ1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxuY29uc3QgUm9sZXNTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIHJvbGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnJ1xuICAgIH0sXG4gICAgZGVzYzoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBtZW51OiB7XG4gICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICBkZWZhdWx0OiBbXVxuICAgIH1cbn0pXG5cbmNvbnN0IFJvbGVzID0gbW9uZ29vc2UubW9kZWwoJ3JvbGVzJywgUm9sZXNTY2hlbWEpXG5cbmV4cG9ydCBkZWZhdWx0IFJvbGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/Roles.js\n");

/***/ }),

/***/ "./src/model/SignRecord.js":
/*!*********************************!*\
  !*** ./src/model/SignRecord.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst SignRecordSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  // ref 与users表对应\n  created: {\n    type: Date\n  },\n  favs: {\n    type: Number\n  } // no need\n  // lastSign: {\n  //     type: Date\n  // }\n\n});\nSignRecordSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nSignRecordSchema.statics = {\n  findByUid: function (uid) {\n    return this.findOne({\n      uid: uid\n    }).sort({\n      created: -1\n    });\n  }\n};\nconst SignRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('sign_record', SignRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SignRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcz83YzliIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiU2lnblJlY29yZFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJjcmVhdGVkIiwiRGF0ZSIsImZhdnMiLCJOdW1iZXIiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0Iiwic3RhdGljcyIsImZpbmRCeVVpZCIsImZpbmRPbmUiLCJzb3J0IiwiU2lnblJlY29yZCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsZ0JBQWdCLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxLQUFHLEVBQUU7QUFDREMsUUFBSSxFQUFFQyxNQURMO0FBRURDLE9BQUcsRUFBRTtBQUZKLEdBRDJCO0FBSTdCO0FBQ0hDLFNBQU8sRUFBRTtBQUNMSCxRQUFJLEVBQUVJO0FBREQsR0FMdUI7QUFRaENDLE1BQUksRUFBRTtBQUNGTCxRQUFJLEVBQUVNO0FBREosR0FSMEIsQ0FXaEM7QUFDQTtBQUNBO0FBQ0E7O0FBZGdDLENBQVgsQ0FBekI7QUFpQkFSLGdCQUFnQixDQUFDUyxHQUFqQixDQUFxQixNQUFyQixFQUE2QixVQUFVQyxJQUFWLEVBQWdCO0FBQ3pDLE9BQUtMLE9BQUwsR0FBZU0sNENBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ1AsQ0FIRDtBQU1BVixnQkFBZ0IsQ0FBQ2EsT0FBakIsR0FBMkI7QUFDdkJDLFdBQVMsRUFBRSxVQUFVYixHQUFWLEVBQWU7QUFDdEIsV0FBTyxLQUFLYyxPQUFMLENBQWE7QUFDaEJkLFNBQUcsRUFBRUE7QUFEVyxLQUFiLEVBRUplLElBRkksQ0FFQztBQUNKWCxhQUFPLEVBQUUsQ0FBQztBQUROLEtBRkQsQ0FBUDtBQUtIO0FBUHNCLENBQTNCO0FBV0EsTUFBTVksVUFBVSxHQUFHbEIseURBQVEsQ0FBQ21CLEtBQVQsQ0FBZSxhQUFmLEVBQThCbEIsZ0JBQTlCLENBQW5CO0FBRWVpQix5RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9TaWduUmVjb3JkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IFNpZ25SZWNvcmRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVpZDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZWY6ICd1c2VycydcclxuICAgIH0sIC8vIHJlZiDkuI51c2Vyc+ihqOWvueW6lFxyXG4gICAgY3JlYXRlZDoge1xyXG4gICAgICAgIHR5cGU6IERhdGVcclxuICAgIH0sXHJcbiAgICBmYXZzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyXHJcbiAgICB9LFxyXG4gICAgLy8gbm8gbmVlZFxyXG4gICAgLy8gbGFzdFNpZ246IHtcclxuICAgIC8vICAgICB0eXBlOiBEYXRlXHJcbiAgICAvLyB9XHJcbn0pXHJcblxyXG5TaWduUmVjb3JkU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgbmV4dCgpXHJcbn0pXHJcblxyXG5cclxuU2lnblJlY29yZFNjaGVtYS5zdGF0aWNzID0ge1xyXG4gICAgZmluZEJ5VWlkOiBmdW5jdGlvbiAodWlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIHVpZDogdWlkXHJcbiAgICAgICAgfSkuc29ydCh7XHJcbiAgICAgICAgICAgIGNyZWF0ZWQ6IC0xXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNvbnN0IFNpZ25SZWNvcmQgPSBtb25nb29zZS5tb2RlbCgnc2lnbl9yZWNvcmQnLCBTaWduUmVjb3JkU2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2lnblJlY29yZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/SignRecord.js\n");

/***/ }),

/***/ "./src/model/UserCollect.js":
/*!**********************************!*\
  !*** ./src/model/UserCollect.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserCollectSchema = new Schema({\n  uid: {\n    type: String\n  },\n  tid: {\n    type: String\n  },\n  title: {\n    type: String\n  },\n  created: {\n    type: Date\n  }\n});\nUserCollectSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nUserCollectSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nUserCollectSchema.statics = {\n  // 查询特定用户的收藏数据\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  // 查询总数\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  }\n};\nconst UserCollect = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('user_collect', UserCollectSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserCollect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanM/ODE5OCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb29nb29zZSIsIlVzZXJDb2xsZWN0U2NoZW1hIiwidWlkIiwidHlwZSIsIlN0cmluZyIsInRpZCIsInRpdGxlIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJnZXRMaXN0QnlVaWQiLCJpZCIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNvdW50QnlVaWQiLCJjb3VudERvY3VtZW50cyIsIlVzZXJDb2xsZWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxpQkFBaUIsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDakNHLEtBQUcsRUFBRTtBQUNEQyxRQUFJLEVBQUVDO0FBREwsR0FENEI7QUFJakNDLEtBQUcsRUFBRTtBQUNERixRQUFJLEVBQUVDO0FBREwsR0FKNEI7QUFPakNFLE9BQUssRUFBRTtBQUNISCxRQUFJLEVBQUVDO0FBREgsR0FQMEI7QUFVakNHLFNBQU8sRUFBRTtBQUNMSixRQUFJLEVBQUVLO0FBREQ7QUFWd0IsQ0FBWCxDQUExQjtBQWVBUCxpQkFBaUIsQ0FBQ1EsR0FBbEIsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVUMsSUFBVixFQUFnQjtBQUMxQyxPQUFLSCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FFLE1BQUk7QUFDUCxDQUhEO0FBS0FULGlCQUFpQixDQUFDVSxJQUFsQixDQUF1QixNQUF2QixFQUErQixVQUFVQyxLQUFWLEVBQWlCQyxHQUFqQixFQUFzQkgsSUFBdEIsRUFBNEI7QUFDdkQsTUFBSUUsS0FBSyxDQUFDRSxJQUFOLEtBQWUsWUFBZixJQUErQkYsS0FBSyxDQUFDRyxJQUFOLEtBQWUsS0FBbEQsRUFBeUQ7QUFDckRMLFFBQUksQ0FBQyxJQUFJTSxLQUFKLENBQVUsaUNBQVYsQ0FBRCxDQUFKO0FBQ0gsR0FGRCxNQUVPO0FBQ0hOLFFBQUksQ0FBQ0UsS0FBRCxDQUFKO0FBQ0g7QUFDSixDQU5EO0FBUUFYLGlCQUFpQixDQUFDZ0IsT0FBbEIsR0FBNEI7QUFDeEI7QUFDQUMsY0FBWSxFQUFFLFVBQVVDLEVBQVYsRUFBY0MsSUFBZCxFQUFvQkMsS0FBcEIsRUFBMkI7QUFDckMsV0FBTyxLQUFLQyxJQUFMLENBQVU7QUFDVHBCLFNBQUcsRUFBRWlCO0FBREksS0FBVixFQUdGSSxJQUhFLENBR0dGLEtBQUssR0FBR0QsSUFIWCxFQUlGQyxLQUpFLENBSUlBLEtBSkosRUFLRkcsSUFMRSxDQUtHO0FBQ0ZqQixhQUFPLEVBQUUsQ0FBQztBQURSLEtBTEgsQ0FBUDtBQVFILEdBWHVCO0FBWXhCO0FBQ0FrQixZQUFVLEVBQUUsVUFBVU4sRUFBVixFQUFjO0FBQ3RCLFdBQU8sS0FBS0csSUFBTCxDQUFVO0FBQ2JwQixTQUFHLEVBQUVpQjtBQURRLEtBQVYsRUFFSk8sY0FGSSxFQUFQO0FBR0g7QUFqQnVCLENBQTVCO0FBb0JBLE1BQU1DLFdBQVcsR0FBRzNCLHlEQUFRLENBQUM0QixLQUFULENBQWUsY0FBZixFQUErQjNCLGlCQUEvQixDQUFwQjtBQUVlMEIsMEVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcblxuY29uc3QgU2NoZW1hID0gbW9vZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFVzZXJDb2xsZWN0U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdWlkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgdGlkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjcmVhdGVkOiB7XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICB9XG59KVxuXG5Vc2VyQ29sbGVjdFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICAgIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgICBuZXh0KClcbn0pXG5cblVzZXJDb2xsZWN0U2NoZW1hLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xuICAgIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcbiAgICAgICAgbmV4dChuZXcgRXJyb3IoJ1RoZXJlIHdhcyBhIGR1cGxpY2F0ZSBrZXkgZXJyb3InKSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0KGVycm9yKVxuICAgIH1cbn0pXG5cblVzZXJDb2xsZWN0U2NoZW1hLnN0YXRpY3MgPSB7XG4gICAgLy8g5p+l6K+i54m55a6a55So5oi355qE5pS26JeP5pWw5o2uXG4gICAgZ2V0TGlzdEJ5VWlkOiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQoe1xuICAgICAgICAgICAgICAgIHVpZDogaWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2tpcChsaW1pdCAqIHBhZ2UpXG4gICAgICAgICAgICAubGltaXQobGltaXQpXG4gICAgICAgICAgICAuc29ydCh7XG4gICAgICAgICAgICAgICAgY3JlYXRlZDogLTFcbiAgICAgICAgICAgIH0pXG4gICAgfSxcbiAgICAvLyDmn6Xor6LmgLvmlbBcbiAgICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZCh7XG4gICAgICAgICAgICB1aWQ6IGlkXG4gICAgICAgIH0pLmNvdW50RG9jdW1lbnRzKClcbiAgICB9XG59XG5cbmNvbnN0IFVzZXJDb2xsZWN0ID0gbW9vZ29vc2UubW9kZWwoJ3VzZXJfY29sbGVjdCcsIFVzZXJDb2xsZWN0U2NoZW1hKVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyQ29sbGVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/UserCollect.js\n");

/***/ }),

/***/ "./src/model/user.js":
/*!***************************!*\
  !*** ./src/model/user.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n// Mongooseæµ‹è¯•\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserSchema = new Schema({\n  username: {\n    type: String,\n    index: {\n      unique: true\n    },\n    sparse: true\n  },\n  password: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  updated: {\n    type: Date\n  },\n  favs: {\n    type: Number,\n    default: 100\n  },\n  gender: {\n    type: String,\n    default: ''\n  },\n  roles: {\n    type: Array,\n    default: ['user']\n  },\n  pic: {\n    type: String,\n    default: '/img/header.jpg'\n  },\n  mobile: {\n    type: String,\n    match: /^1[3-9](\\d{9})$/,\n    default: ''\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  regmark: {\n    type: String,\n    default: ''\n  },\n  location: {\n    type: String,\n    default: ''\n  },\n  isVip: {\n    type: String,\n    default: '0'\n  },\n  count: {\n    type: Number,\n    default: 0\n  }\n}); // pre 前置的钩子 post 后置的钩子\n\nUserSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nUserSchema.post('save', function (error, doc, next) {\n  console.log('UserSchema.post(save) Error', error);\n\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('Error:Mongoose has a duplicate key'));\n  } else {\n    next(error);\n  }\n});\nUserSchema.pre('update', function (next) {\n  this.update = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n}); // 向由该 schema 编译生成的 Model 添加静态类方法\n// 本例中第二个参数为查询出的数据过滤信息 0为不查询\n\nUserSchema.statics = {\n  findByID: function (id) {\n    return this.findOne({\n      _id: id\n    }, {\n      password: 0,\n      username: 0,\n      mobile: 0\n    });\n  },\n  findByName: function (username, callback) {\n    return this.findOne({\n      username: username\n    }, {\n      password: 0 // 0 代表过滤掉该属性返回\n\n    });\n  },\n  getList: function (options, sort, page, limit) {\n    // 1. datepicker -> item: string, search -> array  startitme,endtime\n    // 2. radio -> key-value $in\n    // 3. select -> key-array $in\n    let query = {};\n\n    if (typeof options.search === 'string' && options.search.trim() !== '') {\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      } else if (options.item === 'roles') {\n        query = {\n          roles: {\n            $in: options.search\n          }\n        };\n      } else if (['name', 'username'].includes(options.item)) {\n        // 模糊匹配\n        query[options.item] = {\n          $regex: new RegExp(options.search) // =》 { name: { $regex: /admin/ } } => mysql like %admin%\n\n        };\n      } else {\n        // radio\n        query[options.item] = options.search;\n      }\n    }\n\n    return this.find(query, {\n      password: 0,\n      mobile: 0\n    }).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit);\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  }\n};\nconst UserModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('users', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvdXNlci5qcz83YmVlIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsImluZGV4IiwidW5pcXVlIiwic3BhcnNlIiwicGFzc3dvcmQiLCJuYW1lIiwiY3JlYXRlZCIsIkRhdGUiLCJ1cGRhdGVkIiwiZmF2cyIsIk51bWJlciIsImRlZmF1bHQiLCJnZW5kZXIiLCJyb2xlcyIsIkFycmF5IiwicGljIiwibW9iaWxlIiwibWF0Y2giLCJzdGF0dXMiLCJyZWdtYXJrIiwibG9jYXRpb24iLCJpc1ZpcCIsImNvdW50IiwicHJlIiwibmV4dCIsIm1vbWVudCIsImZvcm1hdCIsInBvc3QiLCJlcnJvciIsImRvYyIsImNvbnNvbGUiLCJsb2ciLCJjb2RlIiwiRXJyb3IiLCJ1cGRhdGUiLCJzdGF0aWNzIiwiZmluZEJ5SUQiLCJpZCIsImZpbmRPbmUiLCJfaWQiLCJmaW5kQnlOYW1lIiwiY2FsbGJhY2siLCJnZXRMaXN0Iiwib3B0aW9ucyIsInNvcnQiLCJwYWdlIiwibGltaXQiLCJxdWVyeSIsInNlYXJjaCIsInRyaW0iLCJpdGVtIiwic3RhcnQiLCJlbmQiLCIkZ3RlIiwiJGx0IiwiJGluIiwiaW5jbHVkZXMiLCIkcmVnZXgiLCJSZWdFeHAiLCJmaW5kIiwic2tpcCIsImNvdW50TGlzdCIsImNvdW50RG9jdW1lbnRzIiwiVXNlck1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBR0EsTUFBTUEsTUFBTSxHQUFHQyx5REFBUSxDQUFDRCxNQUF4QjtBQUdBLE1BQU1FLFVBQVUsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDMUJHLFVBQVEsRUFBRTtBQUNOQyxRQUFJLEVBQUVDLE1BREE7QUFFTkMsU0FBSyxFQUFFO0FBQ0hDLFlBQU0sRUFBRTtBQURMLEtBRkQ7QUFLTkMsVUFBTSxFQUFF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QUFFLElBQUlDLE1BQUosQ0FBV2YsT0FBTyxDQUFDSyxNQUFuQixDQURVLENBR3RCOztBQUhzQixTQUF0QjtBQUtILE9BUE0sTUFPQTtBQUNIO0FBQ0FELGFBQUssQ0FBQ0osT0FBTyxDQUFDTyxJQUFULENBQUwsR0FBc0JQLE9BQU8sQ0FBQ0ssTUFBOUI7QUFDSDtBQUNKOztBQUNELFdBQU8sS0FBS1csSUFBTCxDQUFVWixLQUFWLEVBQWlCO0FBQ2hCM0MsY0FBUSxFQUFFLENBRE07QUFFaEJZLFlBQU0sRUFBRTtBQUZRLEtBQWpCLEVBSUY0QixJQUpFLENBSUc7QUFDRixPQUFDQSxJQUFELEdBQVEsQ0FBQztBQURQLEtBSkgsRUFPRmdCLElBUEUsQ0FPR2YsSUFBSSxHQUFHQyxLQVBWLEVBUUZBLEtBUkUsQ0FRSUEsS0FSSixDQUFQO0FBU0gsR0FoRWdCO0FBaUVqQmUsV0FBUyxFQUFFLFVBQVVsQixPQUFWLEVBQW1CO0FBQzFCLFdBQU8sS0FBS2dCLElBQUwsQ0FBVWhCLE9BQVYsRUFBbUJtQixjQUFuQixFQUFQO0FBQ0g7QUFuRWdCLENBQXJCO0FBeUVBLE1BQU1DLFNBQVMsR0FBR25FLHlEQUFRLENBQUNvRSxLQUFULENBQWUsT0FBZixFQUF3Qm5FLFVBQXhCLENBQWxCO0FBQ2VrRSx3RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC91c2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9uZ29vc2XDpsK14oC5w6jCr+KAolxyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcclxuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcclxuXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VybmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBpbmRleDoge1xyXG4gICAgICAgICAgICB1bmlxdWU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNwYXJzZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgbmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZWQ6IHtcclxuICAgICAgICB0eXBlOiBEYXRlXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZDoge1xyXG4gICAgICAgIHR5cGU6IERhdGVcclxuICAgIH0sXHJcbiAgICBmYXZzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDEwMFxyXG4gICAgfSxcclxuICAgIGdlbmRlcjoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgfSxcclxuICAgIHJvbGVzOiB7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgZGVmYXVsdDogWyd1c2VyJ11cclxuICAgIH0sXHJcbiAgICBwaWM6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJy9pbWcvaGVhZGVyLmpwZydcclxuICAgIH0sXHJcbiAgICBtb2JpbGU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgbWF0Y2g6IC9eMVszLTldKFxcZHs5fSkkLyxcclxuICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgfSxcclxuICAgIHN0YXR1czoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnMCdcclxuICAgIH0sXHJcbiAgICByZWdtYXJrOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICB9LFxyXG4gICAgbG9jYXRpb246IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJydcclxuICAgIH0sXHJcbiAgICBpc1ZpcDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnMCdcclxuICAgIH0sXHJcbiAgICBjb3VudDoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9XHJcbn0pXHJcblxyXG4vLyBwcmUg5YmN572u55qE6ZKp5a2QIHBvc3Qg5ZCO572u55qE6ZKp5a2QXHJcblVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgIHRoaXMuY3JlYXRlZCA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXHJcbiAgICBuZXh0KClcclxufSlcclxuVXNlclNjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcclxuICAgIGNvbnNvbGUubG9nKCdVc2VyU2NoZW1hLnBvc3Qoc2F2ZSkgRXJyb3InLCBlcnJvcik7XHJcblxyXG4gICAgaWYgKGVycm9yLm5hbWUgPT09ICdNb25nb0Vycm9yJyAmJiBlcnJvci5jb2RlID09PSAxMTAwMCkge1xyXG4gICAgICAgIG5leHQobmV3IEVycm9yKCdFcnJvcjpNb25nb29zZSBoYXMgYSBkdXBsaWNhdGUga2V5JykpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5leHQoZXJyb3IpXHJcbiAgICB9XHJcbn0pXHJcblVzZXJTY2hlbWEucHJlKCd1cGRhdGUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgdGhpcy51cGRhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgbmV4dCgpXHJcbn0pXHJcblxyXG4vLyDlkJHnlLHor6Ugc2NoZW1hIOe8luivkeeUn+aIkOeahCBNb2RlbCDmt7vliqDpnZnmgIHnsbvmlrnms5VcclxuLy8g5pys5L6L5Lit56ys5LqM5Liq5Y+C5pWw5Li65p+l6K+i5Ye655qE5pWw5o2u6L+H5ruk5L+h5oGvIDDkuLrkuI3mn6Xor6JcclxuVXNlclNjaGVtYS5zdGF0aWNzID0ge1xyXG4gICAgZmluZEJ5SUQ6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICBfaWQ6IGlkXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBwYXNzd29yZDogMCxcclxuICAgICAgICAgICAgdXNlcm5hbWU6IDAsXHJcbiAgICAgICAgICAgIG1vYmlsZTogMFxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgZmluZEJ5TmFtZTogZnVuY3Rpb24gKHVzZXJuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAwIC8vIDAg5Luj6KGo6L+H5ruk5o6J6K+l5bGe5oCn6L+U5ZueXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpIHtcclxuICAgICAgICAvLyAxLiBkYXRlcGlja2VyIC0+IGl0ZW06IHN0cmluZywgc2VhcmNoIC0+IGFycmF5ICBzdGFydGl0bWUsZW5kdGltZVxyXG4gICAgICAgIC8vIDIuIHJhZGlvIC0+IGtleS12YWx1ZSAkaW5cclxuICAgICAgICAvLyAzLiBzZWxlY3QgLT4ga2V5LWFycmF5ICRpblxyXG5cclxuICAgICAgICBsZXQgcXVlcnkgPSB7fVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAnY3JlYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gb3B0aW9ucy5zZWFyY2hbMF1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG9wdGlvbnMuc2VhcmNoWzFdXHJcblxyXG4gICAgICAgICAgICAgICAgcXVlcnkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZ3RlOiBuZXcgRGF0ZShzdGFydCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRsdDogbmV3IERhdGUoZW5kKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLml0ZW0gPT09ICdyb2xlcycpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbjogb3B0aW9ucy5zZWFyY2hcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFsnbmFtZScsICd1c2VybmFtZSddLmluY2x1ZGVzKG9wdGlvbnMuaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIOaooeeziuWMuemFjVxyXG4gICAgICAgICAgICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAkcmVnZXg6IG5ldyBSZWdFeHAob3B0aW9ucy5zZWFyY2gpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyA944CLIHsgbmFtZTogeyAkcmVnZXg6IC9hZG1pbi8gfSB9ID0+IG15c3FsIGxpa2UgJWFkbWluJVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHJhZGlvXHJcbiAgICAgICAgICAgICAgICBxdWVyeVtvcHRpb25zLml0ZW1dID0gb3B0aW9ucy5zZWFyY2hcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5LCB7XHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogMCxcclxuICAgICAgICAgICAgICAgIG1vYmlsZTogMFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc29ydCh7XHJcbiAgICAgICAgICAgICAgICBbc29ydF06IC0xXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgfSxcclxuICAgIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpLmNvdW50RG9jdW1lbnRzKClcclxuICAgIH0sXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCd1c2VycycsIFVzZXJTY2hlbWEpXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJNb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/user.js\n");

/***/ }),

/***/ "./src/routes/modules sync recursive \\.js$":
/*!***************************************!*\
  !*** ./src/routes/modules sync \.js$ ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./LoginRouter.js\": \"./src/routes/modules/LoginRouter.js\",\n\t\"./PublicRouter.js\": \"./src/routes/modules/PublicRouter.js\",\n\t\"./adminRouter.js\": \"./src/routes/modules/adminRouter.js\",\n\t\"./commentsRouter.js\": \"./src/routes/modules/commentsRouter.js\",\n\t\"./contentRouter.js\": \"./src/routes/modules/contentRouter.js\",\n\t\"./userRouter.js\": \"./src/routes/modules/userRouter.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/routes/modules sync recursive \\\\.js$\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyBcXC5qcyQ/NGUxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyByZWN1cnNpdmUgXFwuanMkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hcCA9IHtcblx0XCIuL0xvZ2luUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvTG9naW5Sb3V0ZXIuanNcIixcblx0XCIuL1B1YmxpY1JvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL1B1YmxpY1JvdXRlci5qc1wiLFxuXHRcIi4vYWRtaW5Sb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9hZG1pblJvdXRlci5qc1wiLFxuXHRcIi4vY29tbWVudHNSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9jb21tZW50c1JvdXRlci5qc1wiLFxuXHRcIi4vY29udGVudFJvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL2NvbnRlbnRSb3V0ZXIuanNcIixcblx0XCIuL3VzZXJSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy91c2VyUm91dGVyLmpzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzIHN5bmMgcmVjdXJzaXZlIFxcXFwuanMkXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules sync recursive \\.js$\n");

/***/ }),

/***/ "./src/routes/modules/LoginRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/LoginRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_LoginController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/LoginController */ \"./src/api/LoginController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/login');\nrouter.post('/forget', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forget);\nrouter.post('/login', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].login);\nrouter.post('/register', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvTG9naW5Sb3V0ZXIuanM/ZTAyNyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwiTG9naW5Db250cm9sbGVyIiwiZm9yZ2V0IiwibG9naW4iLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFDQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsUUFBZDtBQUVBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQyw0REFBZSxDQUFDQyxNQUF2QztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXNCQyw0REFBZSxDQUFDRSxLQUF0QztBQUNBTixNQUFNLENBQUNHLElBQVAsQ0FBWSxXQUFaLEVBQXlCQyw0REFBZSxDQUFDRyxRQUF6QztBQUVlUCxxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9Mb2dpblJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcclxuXHJcbmltcG9ydCBMb2dpbkNvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL0xvZ2luQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5yb3V0ZXIucHJlZml4KCcvbG9naW4nKVxyXG5cclxucm91dGVyLnBvc3QoJy9mb3JnZXQnLCBMb2dpbkNvbnRyb2xsZXIuZm9yZ2V0KVxyXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgTG9naW5Db250cm9sbGVyLmxvZ2luKVxyXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgTG9naW5Db250cm9sbGVyLnJlZ2lzdGVyKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/LoginRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/PublicRouter.js":
/*!********************************************!*\
  !*** ./src/routes/modules/PublicRouter.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_PublicController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/PublicController */ \"./src/api/PublicController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/public');\nrouter.get('/getcaptcha', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCaptcha); // 获取文章列表\n\nrouter.get('/list', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostList); // 温馨提醒\n\nrouter.get('/tips', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTips); // 友情链接\n\nrouter.get('/links', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLinks); // 回复周榜\n\nrouter.get('/topWeek', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTopWeek); // 确认修改邮件\n\nrouter.get('/resetEmail', _api_UserController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateUsername); // 获取文章详情\n\nrouter.get('/content/detail', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostDetail); // 获取评论列表 \n\nrouter.get('/comments', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getComments); // 获取用户基本信息\n\nrouter.get('/info', _api_UserController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getBasicInfo); // 获取用户最近的发贴记录\n\nrouter.get('/latestPost', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostPublic); // 获取用户最近的评论记录\n\nrouter.get('/latestComment', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentPublic);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvUHVibGljUm91dGVyLmpzPzJmYmEiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwiZ2V0IiwiUHVibGljQ29udHJvbGxlciIsImdldENhcHRjaGEiLCJjb250ZW50Q29udHJvbGxlciIsImdldFBvc3RMaXN0IiwiZ2V0VGlwcyIsImdldExpbmtzIiwiZ2V0VG9wV2VlayIsInVzZXJDb250cm9sbGVyIiwidXBkYXRlVXNlcm5hbWUiLCJnZXRQb3N0RGV0YWlsIiwiY29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJnZXRCYXNpY0luZm8iLCJnZXRQb3N0UHVibGljIiwiZ2V0Q29tbWVudFB1YmxpYyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFDQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsU0FBZDtBQUVBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQyw2REFBZ0IsQ0FBQ0MsVUFBM0MsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CRyw4REFBaUIsQ0FBQ0MsV0FBdEMsRSxDQUVBOztBQUNBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CRyw4REFBaUIsQ0FBQ0UsT0FBdEMsRSxDQUVBOztBQUNBUixNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQXFCRyw4REFBaUIsQ0FBQ0csUUFBdkMsRSxDQUVBOztBQUNBVCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxVQUFYLEVBQXVCRyw4REFBaUIsQ0FBQ0ksVUFBekMsRSxDQUVBOztBQUNBVixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCUSwyREFBYyxDQUFDQyxjQUF6QyxFLENBRUE7O0FBQ0FaLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGlCQUFYLEVBQThCRyw4REFBaUIsQ0FBQ08sYUFBaEQsRSxDQUVBOztBQUNBYixNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLEVBQXdCVywrREFBa0IsQ0FBQ0MsV0FBM0MsRSxDQUVBOztBQUNBZixNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CUSwyREFBYyxDQUFDSyxZQUFuQyxFLENBRUE7O0FBQ0FoQixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCRyw4REFBaUIsQ0FBQ1csYUFBNUMsRSxDQUVBOztBQUNBakIsTUFBTSxDQUFDRyxHQUFQLENBQVcsZ0JBQVgsRUFBNkJXLCtEQUFrQixDQUFDSSxnQkFBaEQ7QUFFZWxCLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL1B1YmxpY1JvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmltcG9ydCBQdWJsaWNDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9QdWJsaWNDb250cm9sbGVyJ1xuaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJ0AvYXBpL0NvbnRlbnRDb250cm9sbGVyJ1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJ0AvYXBpL1VzZXJDb250cm9sbGVyJ1xuaW1wb3J0IGNvbW1lbnRzQ29udHJvbGxlciBmcm9tICdAL2FwaS9Db21tZW50c0NvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxucm91dGVyLnByZWZpeCgnL3B1YmxpYycpXG5cbnJvdXRlci5nZXQoJy9nZXRjYXB0Y2hhJywgUHVibGljQ29udHJvbGxlci5nZXRDYXB0Y2hhKVxuXG4vLyDojrflj5bmlofnq6DliJfooahcbnJvdXRlci5nZXQoJy9saXN0JywgY29udGVudENvbnRyb2xsZXIuZ2V0UG9zdExpc3QpXG5cbi8vIOa4qemmqOaPkOmGklxucm91dGVyLmdldCgnL3RpcHMnLCBjb250ZW50Q29udHJvbGxlci5nZXRUaXBzKVxuXG4vLyDlj4vmg4Xpk77mjqVcbnJvdXRlci5nZXQoJy9saW5rcycsIGNvbnRlbnRDb250cm9sbGVyLmdldExpbmtzKVxuXG4vLyDlm57lpI3lkajmppxcbnJvdXRlci5nZXQoJy90b3BXZWVrJywgY29udGVudENvbnRyb2xsZXIuZ2V0VG9wV2VlaylcblxuLy8g56Gu6K6k5L+u5pS56YKu5Lu2XG5yb3V0ZXIuZ2V0KCcvcmVzZXRFbWFpbCcsIHVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXJuYW1lKVxuXG4vLyDojrflj5bmlofnq6Dor6bmg4VcbnJvdXRlci5nZXQoJy9jb250ZW50L2RldGFpbCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3REZXRhaWwpXG5cbi8vIOiOt+WPluivhOiuuuWIl+ihqCBcbnJvdXRlci5nZXQoJy9jb21tZW50cycsIGNvbW1lbnRzQ29udHJvbGxlci5nZXRDb21tZW50cylcblxuLy8g6I635Y+W55So5oi35Z+65pys5L+h5oGvXG5yb3V0ZXIuZ2V0KCcvaW5mbycsIHVzZXJDb250cm9sbGVyLmdldEJhc2ljSW5mbylcblxuLy8g6I635Y+W55So5oi35pyA6L+R55qE5Y+R6LS06K6w5b2VXG5yb3V0ZXIuZ2V0KCcvbGF0ZXN0UG9zdCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3RQdWJsaWMpXG5cbi8vIOiOt+WPlueUqOaIt+acgOi/keeahOivhOiuuuiusOW9lVxucm91dGVyLmdldCgnL2xhdGVzdENvbW1lbnQnLCBjb21tZW50c0NvbnRyb2xsZXIuZ2V0Q29tbWVudFB1YmxpYylcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/PublicRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/adminRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/adminRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_AdminController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/AdminController */ \"./src/api/AdminController.js\");\n/* harmony import */ var _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/api/ErrorController */ \"./src/api/ErrorController.js\");\n\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/admin');\n/**\n * 标签页面\n */\n// 获取标签列表\n\nrouter.get('/getTags', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getTags); // 添加标签\n\nrouter.post('/addTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addTag); // 删除标签\n\nrouter.get('/removeTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeTag); // 编辑标签\n\nrouter.post('/editTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateTag);\n/**\n * 用户管理\n */\n// 查询所有用户\n\nrouter.get('/users', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUsers); // 删除用户\n\nrouter.post('/delete-user', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteUserById); // 更新特定用户\n\nrouter.post('/update-user', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUserById); // 批量设置用户属性 \n// 方法一，增加新的接口 方法二：options -> action 'one' 'many'\n\nrouter.post('/updateUserSettings', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUserBatch); // 添加用户\n\nrouter.post('/addUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addUser); // 校验用户名是否冲突\n\nrouter.get('/checkname', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].checkUsername); // 后台管理--添加菜单\n\nrouter.post('/addMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addMenu); // 后台管理--获取菜单\n\nrouter.get('/getMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMenu); // 后台管理--删除菜单\n\nrouter.post('/deleteMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteMenu); // 后台管理--更新菜单\n\nrouter.post('/updateMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateMenu); // 后台管理--添加角色\n\nrouter.post('/addRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addRole); // 后台管理--获取角色\n\nrouter.get('/getRoles', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoles); // 后台管理--删除角色\n\nrouter.post('/deleteRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteRole); // 后台管理--更新角色\n\nrouter.post('/updateRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateRole); // 后台管理--获取角色列表\n\nrouter.get('/getRolesNames', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoleNames); // // 获取评论\n// router.get('/getComments', adminController.getCommentsAll)\n// // 删除评论\n// router.post('/deleteComments', adminController.deleteCommentsBatch)\n// // 批量更新评论\n// router.post('/updateCommentsBatch', adminController.updateCommentsBatch)\n// 后台管理--获取用户 -> 角色 -> 动态菜单信息\n\nrouter.get('/getRoutes', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoutes); // 后台管理--获取用户 -> 角色 -> 动态菜单信息 ->资源权限\n// router.get('/getOperations', adminController.getOperations)\n// 获取统计数据\n\nrouter.get('/getstat', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getStats); // 获取错误日志\n\nrouter.get('/getError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getErrorList); // 删除错误日志\n\nrouter.post('/deleteError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].deleteError);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanM/ZDY0OSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJnZXQiLCJjb250ZW50Q29udHJvbGxlciIsImdldFRhZ3MiLCJwb3N0IiwiYWRkVGFnIiwicmVtb3ZlVGFnIiwidXBkYXRlVGFnIiwidXNlckNvbnRyb2xsZXIiLCJnZXRVc2VycyIsImRlbGV0ZVVzZXJCeUlkIiwidXBkYXRlVXNlckJ5SWQiLCJ1cGRhdGVVc2VyQmF0Y2giLCJhZGRVc2VyIiwiY2hlY2tVc2VybmFtZSIsImFkbWluQ29udHJvbGxlciIsImFkZE1lbnUiLCJnZXRNZW51IiwiZGVsZXRlTWVudSIsInVwZGF0ZU1lbnUiLCJhZGRSb2xlIiwiZ2V0Um9sZXMiLCJkZWxldGVSb2xlIiwidXBkYXRlUm9sZSIsImdldFJvbGVOYW1lcyIsImdldFJvdXRlcyIsImdldFN0YXRzIiwiZXJyb3JDb250cm9sbGVyIiwiZ2V0RXJyb3JMaXN0IiwiZGVsZXRlRXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFFBQWQ7QUFFQTs7O0FBR0E7O0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBdUJDLDhEQUFpQixDQUFDQyxPQUF6QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFNBQVosRUFBdUJGLDhEQUFpQixDQUFDRyxNQUF6QyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJDLDhEQUFpQixDQUFDSSxTQUEzQyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFVBQVosRUFBd0JGLDhEQUFpQixDQUFDSyxTQUExQztBQUVBOzs7QUFHQTs7QUFDQVQsTUFBTSxDQUFDRyxHQUFQLENBQVcsUUFBWCxFQUFxQk8sMkRBQWMsQ0FBQ0MsUUFBcEMsRSxDQUVBOztBQUNBWCxNQUFNLENBQUNNLElBQVAsQ0FBWSxjQUFaLEVBQTRCSSwyREFBYyxDQUFDRSxjQUEzQyxFLENBRUE7O0FBQ0FaLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGNBQVosRUFBNEJJLDJEQUFjLENBQUNHLGNBQTNDLEUsQ0FFQTtBQUNBOztBQUNBYixNQUFNLENBQUNNLElBQVAsQ0FBWSxxQkFBWixFQUFtQ0ksMkRBQWMsQ0FBQ0ksZUFBbEQsRSxDQUVBOztBQUNBZCxNQUFNLENBQUNNLElBQVAsQ0FBWSxVQUFaLEVBQXdCSSwyREFBYyxDQUFDSyxPQUF2QyxFLENBRUE7O0FBQ0FmLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJPLDJEQUFjLENBQUNNLGFBQXhDLEUsQ0FFQTs7QUFDQWhCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFVBQVosRUFBd0JXLDREQUFlLENBQUNDLE9BQXhDLEUsQ0FFQTs7QUFDQWxCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBdUJjLDREQUFlLENBQUNFLE9BQXZDLEUsQ0FFQTs7QUFDQW5CLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJXLDREQUFlLENBQUNHLFVBQTNDLEUsQ0FFQTs7QUFDQXBCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJXLDREQUFlLENBQUNJLFVBQTNDLEUsQ0FFQTs7QUFDQXJCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFVBQVosRUFBd0JXLDREQUFlLENBQUNLLE9BQXhDLEUsQ0FFQTs7QUFDQXRCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsRUFBd0JjLDREQUFlLENBQUNNLFFBQXhDLEUsQ0FFQTs7QUFDQXZCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJXLDREQUFlLENBQUNPLFVBQTNDLEUsQ0FFQTs7QUFDQXhCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJXLDREQUFlLENBQUNRLFVBQTNDLEUsQ0FFQTs7QUFDQXpCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGdCQUFYLEVBQTZCYyw0REFBZSxDQUFDUyxZQUE3QyxFLENBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7O0FBQ0ExQixNQUFNLENBQUNHLEdBQVAsQ0FBVyxZQUFYLEVBQXlCYyw0REFBZSxDQUFDVSxTQUF6QyxFLENBRUE7QUFDQTtBQUVBOztBQUNBM0IsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QmMsNERBQWUsQ0FBQ1csUUFBdkMsRSxDQUVBOztBQUNBNUIsTUFBTSxDQUFDRyxHQUFQLENBQVcsV0FBWCxFQUF3QjBCLDREQUFlLENBQUNDLFlBQXhDLEUsQ0FFQTs7QUFDQTlCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGNBQVosRUFBNEJ1Qiw0REFBZSxDQUFDRSxXQUE1QztBQUdlL0IscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXG5pbXBvcnQgY29udGVudENvbnRyb2xsZXIgZnJvbSAnQC9hcGkvQ29udGVudENvbnRyb2xsZXInXG5pbXBvcnQgdXNlckNvbnRyb2xsZXIgZnJvbSAnQC9hcGkvVXNlckNvbnRyb2xsZXInXG5pbXBvcnQgYWRtaW5Db250cm9sbGVyIGZyb20gJ0AvYXBpL0FkbWluQ29udHJvbGxlcidcbmltcG9ydCBlcnJvckNvbnRyb2xsZXIgZnJvbSAnQC9hcGkvRXJyb3JDb250cm9sbGVyJ1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcblxucm91dGVyLnByZWZpeCgnL2FkbWluJylcblxuLyoqXG4gKiDmoIfnrb7pobXpnaJcbiAqL1xuLy8g6I635Y+W5qCH562+5YiX6KGoXG5yb3V0ZXIuZ2V0KCcvZ2V0VGFncycsIGNvbnRlbnRDb250cm9sbGVyLmdldFRhZ3MpXG5cbi8vIOa3u+WKoOagh+etvlxucm91dGVyLnBvc3QoJy9hZGRUYWcnLCBjb250ZW50Q29udHJvbGxlci5hZGRUYWcpXG5cbi8vIOWIoOmZpOagh+etvlxucm91dGVyLmdldCgnL3JlbW92ZVRhZycsIGNvbnRlbnRDb250cm9sbGVyLnJlbW92ZVRhZylcblxuLy8g57yW6L6R5qCH562+XG5yb3V0ZXIucG9zdCgnL2VkaXRUYWcnLCBjb250ZW50Q29udHJvbGxlci51cGRhdGVUYWcpXG5cbi8qKlxuICog55So5oi3566h55CGXG4gKi9cbi8vIOafpeivouaJgOacieeUqOaIt1xucm91dGVyLmdldCgnL3VzZXJzJywgdXNlckNvbnRyb2xsZXIuZ2V0VXNlcnMpXG5cbi8vIOWIoOmZpOeUqOaIt1xucm91dGVyLnBvc3QoJy9kZWxldGUtdXNlcicsIHVzZXJDb250cm9sbGVyLmRlbGV0ZVVzZXJCeUlkKVxuXG4vLyDmm7TmlrDnibnlrprnlKjmiLdcbnJvdXRlci5wb3N0KCcvdXBkYXRlLXVzZXInLCB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VyQnlJZClcblxuLy8g5om56YeP6K6+572u55So5oi35bGe5oCnIFxuLy8g5pa55rOV5LiA77yM5aKe5Yqg5paw55qE5o6l5Y+jIOaWueazleS6jO+8mm9wdGlvbnMgLT4gYWN0aW9uICdvbmUnICdtYW55J1xucm91dGVyLnBvc3QoJy91cGRhdGVVc2VyU2V0dGluZ3MnLCB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VyQmF0Y2gpXG5cbi8vIOa3u+WKoOeUqOaIt1xucm91dGVyLnBvc3QoJy9hZGRVc2VyJywgdXNlckNvbnRyb2xsZXIuYWRkVXNlcilcblxuLy8g5qCh6aqM55So5oi35ZCN5piv5ZCm5Yay56qBXG5yb3V0ZXIuZ2V0KCcvY2hlY2tuYW1lJywgdXNlckNvbnRyb2xsZXIuY2hlY2tVc2VybmFtZSlcblxuLy8g5ZCO5Y+w566h55CGLS3mt7vliqDoj5zljZVcbnJvdXRlci5wb3N0KCcvYWRkTWVudScsIGFkbWluQ29udHJvbGxlci5hZGRNZW51KVxuXG4vLyDlkI7lj7DnrqHnkIYtLeiOt+WPluiPnOWNlVxucm91dGVyLmdldCgnL2dldE1lbnUnLCBhZG1pbkNvbnRyb2xsZXIuZ2V0TWVudSlcblxuLy8g5ZCO5Y+w566h55CGLS3liKDpmaToj5zljZVcbnJvdXRlci5wb3N0KCcvZGVsZXRlTWVudScsIGFkbWluQ29udHJvbGxlci5kZWxldGVNZW51KVxuXG4vLyDlkI7lj7DnrqHnkIYtLeabtOaWsOiPnOWNlVxucm91dGVyLnBvc3QoJy91cGRhdGVNZW51JywgYWRtaW5Db250cm9sbGVyLnVwZGF0ZU1lbnUpXG5cbi8vIOWQjuWPsOeuoeeQhi0t5re75Yqg6KeS6ImyXG5yb3V0ZXIucG9zdCgnL2FkZFJvbGUnLCBhZG1pbkNvbnRyb2xsZXIuYWRkUm9sZSlcblxuLy8g5ZCO5Y+w566h55CGLS3ojrflj5bop5LoibJcbnJvdXRlci5nZXQoJy9nZXRSb2xlcycsIGFkbWluQ29udHJvbGxlci5nZXRSb2xlcylcblxuLy8g5ZCO5Y+w566h55CGLS3liKDpmaTop5LoibJcbnJvdXRlci5wb3N0KCcvZGVsZXRlUm9sZScsIGFkbWluQ29udHJvbGxlci5kZWxldGVSb2xlKVxuXG4vLyDlkI7lj7DnrqHnkIYtLeabtOaWsOinkuiJslxucm91dGVyLnBvc3QoJy91cGRhdGVSb2xlJywgYWRtaW5Db250cm9sbGVyLnVwZGF0ZVJvbGUpXG5cbi8vIOWQjuWPsOeuoeeQhi0t6I635Y+W6KeS6Imy5YiX6KGoXG5yb3V0ZXIuZ2V0KCcvZ2V0Um9sZXNOYW1lcycsIGFkbWluQ29udHJvbGxlci5nZXRSb2xlTmFtZXMpXG5cbi8vIC8vIOiOt+WPluivhOiuulxuLy8gcm91dGVyLmdldCgnL2dldENvbW1lbnRzJywgYWRtaW5Db250cm9sbGVyLmdldENvbW1lbnRzQWxsKVxuXG4vLyAvLyDliKDpmaTor4Torrpcbi8vIHJvdXRlci5wb3N0KCcvZGVsZXRlQ29tbWVudHMnLCBhZG1pbkNvbnRyb2xsZXIuZGVsZXRlQ29tbWVudHNCYXRjaClcblxuLy8gLy8g5om56YeP5pu05paw6K+E6K66XG4vLyByb3V0ZXIucG9zdCgnL3VwZGF0ZUNvbW1lbnRzQmF0Y2gnLCBhZG1pbkNvbnRyb2xsZXIudXBkYXRlQ29tbWVudHNCYXRjaClcblxuXG5cbi8vIOWQjuWPsOeuoeeQhi0t6I635Y+W55So5oi3IC0+IOinkuiJsiAtPiDliqjmgIHoj5zljZXkv6Hmga9cbnJvdXRlci5nZXQoJy9nZXRSb3V0ZXMnLCBhZG1pbkNvbnRyb2xsZXIuZ2V0Um91dGVzKVxuXG4vLyDlkI7lj7DnrqHnkIYtLeiOt+WPlueUqOaItyAtPiDop5LoibIgLT4g5Yqo5oCB6I+c5Y2V5L+h5oGvIC0+6LWE5rqQ5p2D6ZmQXG4vLyByb3V0ZXIuZ2V0KCcvZ2V0T3BlcmF0aW9ucycsIGFkbWluQ29udHJvbGxlci5nZXRPcGVyYXRpb25zKVxuXG4vLyDojrflj5bnu5/orqHmlbDmja5cbnJvdXRlci5nZXQoJy9nZXRzdGF0JywgYWRtaW5Db250cm9sbGVyLmdldFN0YXRzKVxuXG4vLyDojrflj5bplJnor6/ml6Xlv5dcbnJvdXRlci5nZXQoJy9nZXRFcnJvcicsIGVycm9yQ29udHJvbGxlci5nZXRFcnJvckxpc3QpXG5cbi8vIOWIoOmZpOmUmeivr+aXpeW/l1xucm91dGVyLnBvc3QoJy9kZWxldGVFcnJvcicsIGVycm9yQ29udHJvbGxlci5kZWxldGVFcnJvcilcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/adminRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/commentsRouter.js":
/*!**********************************************!*\
  !*** ./src/routes/modules/commentsRouter.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/comments'); // 添加评论\n\nrouter.post('/reply', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addComment); // 更新评论\n\nrouter.post('/update', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateComment); // 评论采纳\n\nrouter.get('/accept', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setBestComment); // 点赞\n\nrouter.get('/hands', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setHands);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanM/OGNkMiJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwiY29tbWVudHNDb250cm9sbGVyIiwiYWRkQ29tbWVudCIsInVwZGF0ZUNvbW1lbnQiLCJnZXQiLCJzZXRCZXN0Q29tbWVudCIsInNldEhhbmRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUNBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxXQUFkLEUsQ0FFQTs7QUFDQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksUUFBWixFQUFzQkMsK0RBQWtCLENBQUNDLFVBQXpDLEUsQ0FFQTs7QUFDQUwsTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QkMsK0RBQWtCLENBQUNFLGFBQTFDLEUsQ0FFQTs7QUFDQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsU0FBWCxFQUFzQkgsK0RBQWtCLENBQUNJLGNBQXpDLEUsQ0FFQTs7QUFDQVIsTUFBTSxDQUFDTyxHQUFQLENBQVcsUUFBWCxFQUFxQkgsK0RBQWtCLENBQUNLLFFBQXhDO0FBSWVULHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL2NvbW1lbnRzUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xyXG5pbXBvcnQgY29tbWVudHNDb250cm9sbGVyIGZyb20gJ0AvYXBpL0NvbW1lbnRzQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5yb3V0ZXIucHJlZml4KCcvY29tbWVudHMnKVxyXG5cclxuLy8g5re75Yqg6K+E6K66XHJcbnJvdXRlci5wb3N0KCcvcmVwbHknLCBjb21tZW50c0NvbnRyb2xsZXIuYWRkQ29tbWVudClcclxuXHJcbi8vIOabtOaWsOivhOiuulxyXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZScsIGNvbW1lbnRzQ29udHJvbGxlci51cGRhdGVDb21tZW50KVxyXG5cclxuLy8g6K+E6K666YeH57qzXHJcbnJvdXRlci5nZXQoJy9hY2NlcHQnLCBjb21tZW50c0NvbnRyb2xsZXIuc2V0QmVzdENvbW1lbnQpXHJcblxyXG4vLyDngrnotZ5cclxucm91dGVyLmdldCgnL2hhbmRzJywgY29tbWVudHNDb250cm9sbGVyLnNldEhhbmRzKVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/commentsRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/contentRouter.js":
/*!*********************************************!*\
  !*** ./src/routes/modules/contentRouter.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/content'); //上传图片\n\nrouter.post('/upload', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].uploadImg); //发表新帖\n\nrouter.post('/add', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addPost); //更新帖子\n\nrouter.post('/update', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePost); // 后台管理---删除贴子\n\nrouter.get('/delete', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deletePost); // 后台管理---更新贴子\n\nrouter.post('/update-id', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePost);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcz84YTEwIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJjb250ZW50Q29udHJvbGxlciIsInVwbG9hZEltZyIsImFkZFBvc3QiLCJ1cGRhdGVQb3N0IiwiZ2V0IiwiZGVsZXRlUG9zdCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFDQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsVUFBZCxFLENBRUE7O0FBQ0FGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDQyxTQUF6QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLE1BQVosRUFBb0JDLDhEQUFpQixDQUFDRSxPQUF0QyxFLENBRUE7O0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDRyxVQUF6QyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ1EsR0FBUCxDQUFXLFNBQVgsRUFBc0JKLDhEQUFpQixDQUFDSyxVQUF4QyxFLENBQ0E7O0FBQ0FULE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFlBQVosRUFBMEJDLDhEQUFpQixDQUFDRyxVQUE1QztBQUdlUCxxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9jb250ZW50Um91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xyXG5cclxuaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJ0AvYXBpL0NvbnRlbnRDb250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXHJcbnJvdXRlci5wcmVmaXgoJy9jb250ZW50JylcclxuXHJcbi8v5LiK5Lyg5Zu+54mHXHJcbnJvdXRlci5wb3N0KCcvdXBsb2FkJywgY29udGVudENvbnRyb2xsZXIudXBsb2FkSW1nKVxyXG5cclxuLy/lj5HooajmlrDluJZcclxucm91dGVyLnBvc3QoJy9hZGQnLCBjb250ZW50Q29udHJvbGxlci5hZGRQb3N0KVxyXG5cclxuLy/mm7TmlrDluJblrZBcclxucm91dGVyLnBvc3QoJy91cGRhdGUnLCBjb250ZW50Q29udHJvbGxlci51cGRhdGVQb3N0KVxyXG5cclxuLy8g5ZCO5Y+w566h55CGLS0t5Yig6Zmk6LS05a2QXHJcbnJvdXRlci5nZXQoJy9kZWxldGUnLCBjb250ZW50Q29udHJvbGxlci5kZWxldGVQb3N0KVxyXG4vLyDlkI7lj7DnrqHnkIYtLS3mm7TmlrDotLTlrZBcclxucm91dGVyLnBvc3QoJy91cGRhdGUtaWQnLCBjb250ZW50Q29udHJvbGxlci51cGRhdGVQb3N0KVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/routes/modules/contentRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/userRouter.js":
/*!******************************************!*\
  !*** ./src/routes/modules/userRouter.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_ErrorController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/ErrorController */ \"./src/api/ErrorController.js\");\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/user'); // 用户签到\n\nrouter.get('/fav', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userSign); // 更新用户的基本信息\n\nrouter.post('/basic', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateUserInfo); // 修改密码\n\nrouter.post('/changePassword', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].changePasswd); // 取消 设置收藏\n\nrouter.get('/setCollect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setCollect); // 获取收藏列表\n\nrouter.get('/collect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCollectByUid); // 获取用户发贴记录\n\nrouter.get('/post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostByUid); // 删除发贴记录\n\nrouter.get('/deletePost', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deletePostByUid); // 获取历史消息\n\nrouter.get('/getmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMsg); // // 获取点赞记录\n// router.get('/getHands', userController.getHands)\n// 设置消息状态\n\nrouter.get('/setmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setMsg); // 保存错误日志\n\nrouter.post('/addError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addError);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcz8xZjNjIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsImdldCIsInVzZXJDb250cm9sbGVyIiwidXNlclNpZ24iLCJwb3N0IiwidXBkYXRlVXNlckluZm8iLCJjaGFuZ2VQYXNzd2QiLCJzZXRDb2xsZWN0IiwiZ2V0Q29sbGVjdEJ5VWlkIiwiY29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0QnlVaWQiLCJkZWxldGVQb3N0QnlVaWQiLCJnZXRNc2ciLCJzZXRNc2ciLCJlcnJvckNvbnRyb2xsZXIiLCJhZGRFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxPQUFkLEUsQ0FFQTs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsMkRBQWMsQ0FBQ0MsUUFBbEMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLElBQVAsQ0FBWSxRQUFaLEVBQXNCRiwyREFBYyxDQUFDRyxjQUFyQyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGlCQUFaLEVBQStCRiwyREFBYyxDQUFDSSxZQUE5QyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGFBQVgsRUFBMEJDLDJEQUFjLENBQUNLLFVBQXpDLEUsQ0FFQTs7QUFDQVQsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QkMsMkRBQWMsQ0FBQ00sZUFBdEMsRSxDQUVBOztBQUNBVixNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CUSw4REFBaUIsQ0FBQ0MsWUFBdEMsRSxDQUVBOztBQUNBWixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCUSw4REFBaUIsQ0FBQ0UsZUFBNUMsRSxDQUVBOztBQUNBYixNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLEVBQXNCQywyREFBYyxDQUFDVSxNQUFyQyxFLENBRUE7QUFDQTtBQUVBOztBQUNBZCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLEVBQXNCQywyREFBYyxDQUFDVyxNQUFyQyxFLENBRUE7O0FBQ0FmLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFdBQVosRUFBeUJVLDREQUFlLENBQUNDLFFBQXpDO0FBRWVqQixxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy91c2VyUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9Vc2VyQ29udHJvbGxlcidcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvQ29udGVudENvbnRyb2xsZXInXG5pbXBvcnQgZXJyb3JDb250cm9sbGVyIGZyb20gJ0AvYXBpL0Vycm9yQ29udHJvbGxlcidcblxuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcblxucm91dGVyLnByZWZpeCgnL3VzZXInKVxuXG4vLyDnlKjmiLfnrb7liLBcbnJvdXRlci5nZXQoJy9mYXYnLCB1c2VyQ29udHJvbGxlci51c2VyU2lnbilcblxuLy8g5pu05paw55So5oi355qE5Z+65pys5L+h5oGvXG5yb3V0ZXIucG9zdCgnL2Jhc2ljJywgdXNlckNvbnRyb2xsZXIudXBkYXRlVXNlckluZm8pXG5cbi8vIOS/ruaUueWvhueggVxucm91dGVyLnBvc3QoJy9jaGFuZ2VQYXNzd29yZCcsIHVzZXJDb250cm9sbGVyLmNoYW5nZVBhc3N3ZClcblxuLy8g5Y+W5raIIOiuvue9ruaUtuiXj1xucm91dGVyLmdldCgnL3NldENvbGxlY3QnLCB1c2VyQ29udHJvbGxlci5zZXRDb2xsZWN0KVxuXG4vLyDojrflj5bmlLbol4/liJfooahcbnJvdXRlci5nZXQoJy9jb2xsZWN0JywgdXNlckNvbnRyb2xsZXIuZ2V0Q29sbGVjdEJ5VWlkKVxuXG4vLyDojrflj5bnlKjmiLflj5HotLTorrDlvZVcbnJvdXRlci5nZXQoJy9wb3N0JywgY29udGVudENvbnRyb2xsZXIuZ2V0UG9zdEJ5VWlkKVxuXG4vLyDliKDpmaTlj5HotLTorrDlvZVcbnJvdXRlci5nZXQoJy9kZWxldGVQb3N0JywgY29udGVudENvbnRyb2xsZXIuZGVsZXRlUG9zdEJ5VWlkKVxuXG4vLyDojrflj5bljoblj7Lmtojmga9cbnJvdXRlci5nZXQoJy9nZXRtc2cnLCB1c2VyQ29udHJvbGxlci5nZXRNc2cpXG5cbi8vIC8vIOiOt+WPlueCuei1nuiusOW9lVxuLy8gcm91dGVyLmdldCgnL2dldEhhbmRzJywgdXNlckNvbnRyb2xsZXIuZ2V0SGFuZHMpXG5cbi8vIOiuvue9rua2iOaBr+eKtuaAgVxucm91dGVyLmdldCgnL3NldG1zZycsIHVzZXJDb250cm9sbGVyLnNldE1zZylcblxuLy8g5L+d5a2Y6ZSZ6K+v5pel5b+XXG5yb3V0ZXIucG9zdCgnL2FkZEVycm9yJywgZXJyb3JDb250cm9sbGVyLmFkZEVycm9yKVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/userRouter.js\n");

/***/ }),

/***/ "./src/routes/routes.js":
/*!******************************!*\
  !*** ./src/routes/routes.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-combine-routers */ \"koa-combine-routers\");\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__);\n // import PublicRouter from './PublicRouter'\n// import LoginRouter from './LoginRouter'\n// import UserRouter from './userRouter' \n// export default combineRoutes(PublicRouter, LoginRouter, UserRouter)\n//使用require.context升级\n// 加载目录下得所有js文件，包括子目录\n\nconst moduleFiles = __webpack_require__(\"./src/routes/modules sync recursive \\\\.js$\"); //拼接combineRoutes目录结构 Object[]\n\n\nconst modules = moduleFiles.keys().reduce((items, path) => {\n  const value = moduleFiles(path);\n  items.push(value.default);\n  return items;\n}, []);\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default()(modules));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3JvdXRlcy5qcz82NDFiIl0sIm5hbWVzIjpbIm1vZHVsZUZpbGVzIiwicmVxdWlyZSIsIm1vZHVsZXMiLCJrZXlzIiwicmVkdWNlIiwiaXRlbXMiLCJwYXRoIiwidmFsdWUiLCJwdXNoIiwiZGVmYXVsdCIsImNvbWJpbmVSb3V0ZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtDQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQSxNQUFNQSxXQUFXLEdBQUdDLGlFQUFwQixDLENBQ0E7OztBQUNBLE1BQU1DLE9BQU8sR0FBR0YsV0FBVyxDQUFDRyxJQUFaLEdBQW1CQyxNQUFuQixDQUEwQixDQUFDQyxLQUFELEVBQVFDLElBQVIsS0FBaUI7QUFDdkQsUUFBTUMsS0FBSyxHQUFHUCxXQUFXLENBQUNNLElBQUQsQ0FBekI7QUFDQUQsT0FBSyxDQUFDRyxJQUFOLENBQVdELEtBQUssQ0FBQ0UsT0FBakI7QUFDQSxTQUFPSixLQUFQO0FBQ0gsQ0FKZSxFQUliLEVBSmEsQ0FBaEI7QUFVZUsseUhBQWEsQ0FBQ1IsT0FBRCxDQUE1QiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvcm91dGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbWJpbmVSb3V0ZXMgZnJvbSAna29hLWNvbWJpbmUtcm91dGVycydcblxuLy8gaW1wb3J0IFB1YmxpY1JvdXRlciBmcm9tICcuL1B1YmxpY1JvdXRlcidcbi8vIGltcG9ydCBMb2dpblJvdXRlciBmcm9tICcuL0xvZ2luUm91dGVyJ1xuLy8gaW1wb3J0IFVzZXJSb3V0ZXIgZnJvbSAnLi91c2VyUm91dGVyJyBcbi8vIGV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSb3V0ZXMoUHVibGljUm91dGVyLCBMb2dpblJvdXRlciwgVXNlclJvdXRlcilcblxuLy/kvb/nlKhyZXF1aXJlLmNvbnRleHTljYfnuqdcbi8vIOWKoOi9veebruW9leS4i+W+l+aJgOaciWpz5paH5Lu277yM5YyF5ous5a2Q55uu5b2VXG5jb25zdCBtb2R1bGVGaWxlcyA9IHJlcXVpcmUuY29udGV4dCgnLi9tb2R1bGVzJywgdHJ1ZSwgL1xcLmpzJC8pXG4vL+aLvOaOpWNvbWJpbmVSb3V0ZXPnm67lvZXnu5PmnoQgT2JqZWN0W11cbmNvbnN0IG1vZHVsZXMgPSBtb2R1bGVGaWxlcy5rZXlzKCkucmVkdWNlKChpdGVtcywgcGF0aCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gbW9kdWxlRmlsZXMocGF0aClcbiAgICBpdGVtcy5wdXNoKHZhbHVlLmRlZmF1bHQpXG4gICAgcmV0dXJuIGl0ZW1zXG59LCBbXSlcblxuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb21iaW5lUm91dGVzKG1vZHVsZXMpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/routes.js\n");

/***/ }),

/***/ "@koa/cors":
/*!****************************!*\
  !*** external "@koa/cors" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@koa/cors\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IkBrb2EvY29ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBrb2EvY29yc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@koa/cors\n");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcrypt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRcIj9jZjljIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImJjcnlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcrypt\n");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqc1wiPzNhYTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs\n");

/***/ }),

/***/ "dayjs/plugin/weekday":
/*!***************************************!*\
  !*** external "dayjs/plugin/weekday" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs/plugin/weekday\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqcy9wbHVnaW4vd2Vla2RheVwiPzUwOTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMvcGx1Z2luL3dlZWtkYXkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqcy9wbHVnaW4vd2Vla2RheVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs/plugin/weekday\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa\n");

/***/ }),

/***/ "koa-body":
/*!***************************!*\
  !*** external "koa-body" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-body\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWJvZHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-body\n");

/***/ }),

/***/ "koa-combine-routers":
/*!**************************************!*\
  !*** external "koa-combine-routers" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-combine-routers\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtY29tYmluZS1yb3V0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbWJpbmUtcm91dGVyc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-combine-routers\n");

/***/ }),

/***/ "koa-compose":
/*!******************************!*\
  !*** external "koa-compose" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWNvbXBvc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compose\n");

/***/ }),

/***/ "koa-compress":
/*!*******************************!*\
  !*** external "koa-compress" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compress\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS1jb21wcmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21wcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compress\n");

/***/ }),

/***/ "koa-helmet":
/*!*****************************!*\
  !*** external "koa-helmet" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-helmet\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtaGVsbWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWhlbG1ldFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-helmet\n");

/***/ }),

/***/ "koa-json":
/*!***************************!*\
  !*** external "koa-json" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-json\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWpzb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-json\n");

/***/ }),

/***/ "koa-jwt":
/*!**************************!*\
  !*** external "koa-jwt" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-jwt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etand0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWp3dFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-jwt\n");

/***/ }),

/***/ "koa-log4":
/*!***************************!*\
  !*** external "koa-log4" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-log4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtbG9nNFwiPzIwNGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWxvZzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtbG9nNFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-log4\n");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-router\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-router\n");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-static\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etc3RhdGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXN0YXRpY1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-static\n");

/***/ }),

/***/ "make-dir":
/*!***************************!*\
  !*** external "make-dir" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"make-dir\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtYWtlLWRpclwiPzk3YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibWFrZS1kaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtYWtlLWRpclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///make-dir\n");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"moment\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9iZDc2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Im1vbWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbWVudFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///moment\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/M2Q1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJub2RlbWFpbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJwYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///path\n");

/***/ }),

/***/ "qs":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"qs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJxc1wiP2E1YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJxc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///qs\n");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"redis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVkaXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWRpc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///redis\n");

/***/ }),

/***/ "svg-captcha":
/*!******************************!*\
  !*** external "svg-captcha" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"svg-captcha\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdmctY2FwdGNoYVwiP2NjNjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoic3ZnLWNhcHRjaGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdmctY2FwdGNoYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///svg-captcha\n");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"util\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dGlsXCI/YmUwYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJ1dGlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXRpbFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///util\n");

/***/ }),

/***/ "uuid/dist/v4":
/*!*******************************!*\
  !*** external "uuid/dist/v4" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"uuid/dist/v4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dWlkL2Rpc3QvdjRcIj85ZDcyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6InV1aWQvZGlzdC92NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInV1aWQvZGlzdC92NFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///uuid/dist/v4\n");

/***/ }),

/***/ "ws":
/*!*********************!*\
  !*** external "ws" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"ws\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3c1wiPzE1YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoid3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3c1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///ws\n");

/***/ })

/******/ });