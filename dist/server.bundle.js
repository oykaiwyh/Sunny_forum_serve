/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/api/ContentController.js":
/*!**************************************!*\
  !*** ./src/api/ContentController.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Links__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Links */ \"./src/model/Links.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid/dist/v4 */ \"uuid/dist/v4\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid_dist_v4__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! make-dir */ \"make-dir\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(make_dir__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/model/user */ \"./src/model/user.js\");\n/* harmony import */ var _model_PostTags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/model/PostTags */ \"./src/model/PostTags.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ContentController {\n  // 获取文章列表\n  async getPostList(ctx) {\n    const body = qs__WEBPACK_IMPORTED_MODULE_11___default.a.parse(ctx.query);\n    const sort = body.sort ? body.sort : 'created';\n    const page = body.page ? parseInt(body.page) : 0;\n    const limit = body.limit ? parseInt(body.limit) : 20;\n    const options = {};\n\n    if (body.title) {\n      options.title = {\n        $regex: body.title\n      };\n    }\n\n    if (body.catalog && body.catalog.length > 0) {\n      options.catalog = {\n        $in: body.catalog\n      };\n    }\n\n    if (body.isTop) {\n      options.isTop = body.isTop;\n    }\n\n    if (body.isEnd) {\n      options.isEnd = body.isEnd;\n    }\n\n    if (body.status) {\n      options.status = body.status;\n    }\n\n    if (typeof body.tag !== 'undefined' && body.tag !== '') {\n      options.tags = {\n        $elemMatch: {\n          name: body.tag\n        }\n      };\n    }\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getList(options, sort, page, limit);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countList(options);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '获取文章列表成功',\n      total: total\n    };\n  } // 查询友链\n\n\n  async getLinks(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'links'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 查询温馨提醒\n\n\n  async getTips(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'tips'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 本周热议\n\n\n  async getTopWeek(ctx) {\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTopWeek();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 上传图片\n\n\n  async uploadImg(ctx) {\n    const file = ctx.request.files.file; // 图片名称、图片格式、存储的位置、返回前台可读取的路径\n\n    const ext = file.name.split('.').pop(); // const dir = `../../public/${moment().format('YYYYMMDD')}`\n\n    const dir = `${_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"].uploadPath}/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}`; //判断路径是否存在，不存在则创建\n    // 方法一\n    // await dirExists(dir)\n    //方法二\n\n    await make_dir__WEBPACK_IMPORTED_MODULE_6___default()(dir); //存储文件到指定的路径\n\n    const picname = uuid_dist_v4__WEBPACK_IMPORTED_MODULE_3___default()();\n    const SavePath = `${dir}/${picname}.${ext}`;\n    const readStream = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createReadStream(file.path, {\n      highWaterMark: 64 * 1024 //默认64k\n\n    });\n    const upStream = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createWriteStream(SavePath);\n    const filePath = `/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}/${picname}.${ext}`; // 方法一\n    // readStream.pipe(upStream)\n    //方法二 应对大型文件，对其上传进度、过程等进行监听\n\n    const stat = fs__WEBPACK_IMPORTED_MODULE_2___default.a.statSync(file.path); // console.log('stat', stat.size);\n\n    let totalLength = 0; //分块数据\n    //读取数据的监听\n\n    readStream.on('data', function (chunk) {\n      // chunk 每次发送的区块数据\n      totalLength += chunk.length;\n\n      if (upStream.write(chunk) === false) {\n        readStream.pause();\n      }\n    }); //缓存区充满并被写入完成，处于清空状态时触发\n\n    readStream.on('drain', () => {\n      console.log('readStream drain');\n      readStream.resume(); //继续读取\n    }); // 读取结束\n\n    readStream.on('end', () => {\n      console.log('readStream end');\n      upStream.end(); //关闭写入流\n    }); // 读取发生错误\n\n    readStream.on('error', () => {\n      console.log('readStream error');\n    });\n    ctx.body = {\n      code: 200,\n      msg: \"图片上传成功\",\n      data: filePath\n    };\n  } // 添加新帖\n\n\n  async addPost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTpayload\"])(ctx.header.authorization); // 判断用户的积分数是否 > fav，否则，提示用户积分不足发贴\n      // 用户积分足够的时候，新建Post，减除用户对应的积分\n\n      const user = await _model_user__WEBPACK_IMPORTED_MODULE_8__[\"default\"].findByID({\n        _id: obj._id\n      });\n\n      if (user.favs < body.fav) {\n        ctx.body = {\n          code: 501,\n          msg: '积分不足'\n        };\n        return;\n      } else {\n        await _model_user__WEBPACK_IMPORTED_MODULE_8__[\"default\"].updateOne({\n          _id: obj._id\n        }, {\n          $inc: {\n            favs: -body.fav\n          }\n        });\n      }\n\n      const newPost = new _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n      newPost.uid = obj._id;\n      const result = await newPost.save();\n      ctx.body = {\n        code: 200,\n        msg: '成功的保存的文章',\n        data: result\n      };\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // // 更新帖子\n  // async updatePost(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const sid = body.sid\n  //     const code = body.code\n  //     // 验证图片验证码的时效性、正确性\n  //     const result = await checkCode(sid, code)\n  //     if (result) {\n  //         const obj = await getJWTpayload(ctx.header.authorization)\n  //         // 判断帖子作者是否为本人\n  //         const post = await Post.findOne({\n  //             _id: body.tid\n  //         })\n  //         // 判断帖子是否结贴\n  //         if (post.uid === obj._id && post.isEnd === '0') {\n  //             const result = await Post.updateOne({\n  //                 _id: body.tid\n  //             }, body)\n  //             if (result.ok === 1) {\n  //                 ctx.body = {\n  //                     code: 200,\n  //                     data: result,\n  //                     msg: '更新帖子成功'\n  //                 }\n  //             } else {\n  //                 ctx.body = {\n  //                     code: 500,\n  //                     data: result,\n  //                     msg: '编辑帖子，更新失败'\n  //                 }\n  //             }\n  //         } else {\n  //             ctx.body = {\n  //                 code: 401,\n  //                 msg: '没有操作的权限'\n  //             }\n  //         }\n  //     } else {\n  //         // 图片验证码验证失败\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '图片验证码验证失败'\n  //         }\n  //     }\n  // }\n  // async updatePostByTid(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const result = await Post.updateOne({\n  //         _id: body._id\n  //     }, body)\n  //     if (result.ok === 1) {\n  //         ctx.body = {\n  //             code: 200,\n  //             data: result,\n  //             msg: '更新帖子成功'\n  //         }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             data: result,\n  //             msg: '编辑帖子，更新失败'\n  //         }\n  //     }\n  // }\n  // 获取文章详情\n\n\n  async getPostDetail(ctx) {\n    const params = ctx.query;\n\n    if (!params.tid) {\n      ctx.body = {\n        code: 500,\n        msg: '文章id为空'\n      };\n      return;\n    }\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByTid(params.tid);\n\n    if (!post) {\n      ctx.body = {\n        code: 200,\n        data: {},\n        msg: '查询文章详情成功'\n      };\n      return;\n    }\n\n    let isFav = 0; // 判断用户是否传递Authorization的数据，即是否登录\n\n    if (typeof ctx.header.authorization !== 'undefined' && ctx.header.authorization !== '') {\n      const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTpayload\"])(ctx.header.authorization);\n      const userCollect = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__[\"default\"].findOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n\n      if (userCollect && userCollect.tid) {\n        isFav = 1;\n      }\n    }\n\n    const newPost = post.toJSON();\n    newPost.isFav = isFav; // 更新文章阅读记数\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.tid\n    }, {\n      $inc: {\n        reads: 1\n      }\n    });\n\n    if (post._id && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: newPost,\n        msg: '查询文章详情成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '获取文章详情失败'\n      };\n    } // const post = await Post.findOne({ _id: params.tid })\n    // const result = rename(post.toJSON(), 'uid', 'user')\n\n  } // // 获取用户发贴记录\n  // async getPostByUid(ctx) {\n  //     const params = ctx.query\n  //     const obj = await getJWTpayload(ctx.header.authorization)\n  //     const result = await Post.getListByUid(\n  //         obj._id,\n  //         params.page,\n  //         params.limit ? parseInt(params.limit) : 10\n  //     )\n  //     const total = await Post.countByUid(obj._id)\n  //     if (result.length > 0) {\n  //         ctx.body = {\n  //             code: 200,\n  //             data: result,\n  //             total,\n  //             msg: '查询列表成功'\n  //         }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '查询列表失败'\n  //         }\n  //     }\n  // }\n  // // 获取用户发贴记录\n  // async getPostPublic(ctx) {\n  //     const params = ctx.query\n  //     const result = await Post.getListByUid(\n  //         params.uid,\n  //         params.page,\n  //         params.limit ? parseInt(params.limit) : 10\n  //     )\n  //     const total = await Post.countByUid(params.uid)\n  //     if (result.length > 0) {\n  //         ctx.body = {\n  //             code: 200,\n  //             data: result,\n  //             total,\n  //             msg: '查询列表成功'\n  //         }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '查询列表失败'\n  //         }\n  //     }\n  // }\n  // // 删除发贴记录\n  // async deletePostByUid(ctx) {\n  //     const params = ctx.query\n  //     const obj = await getJWTpayload(ctx.header.authorization)\n  //     const post = await Post.findOne({\n  //         uid: obj._id,\n  //         _id: params.tid\n  //     })\n  //     if (post.id === params.tid && post.isEnd === '0') {\n  //         await ContentController.prototype.deletePost(ctx)\n  //         // const result = await Post.deleteOne({ _id: params.tid })\n  //         // if (result.ok === 1) {\n  //         //   ctx.body = {\n  //         //     code: 200,\n  //         //     msg: '删除成功'\n  //         //   }\n  //         // } else {\n  //         //   ctx.body = {\n  //         //     code: 500,\n  //         //     msg: '执行删除失败！'\n  //         //   }\n  //         // }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '删除失败，无权限！'\n  //         }\n  //     }\n  // }\n  // async deletePost(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const result = await Post.deleteMany({\n  //         _id: {\n  //             $in: body.ids\n  //         }\n  //     })\n  //     if (result.ok === 1) {\n  //         ctx.body = {\n  //             code: 200,\n  //             msg: '删除成功'\n  //         }\n  //     } else {\n  //         ctx.body = {\n  //             code: 500,\n  //             msg: '执行删除失败！'\n  //         }\n  //     }\n  // }\n  // // 添加标签\n  // async addTag(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const tag = new PostTags(body)\n  //     await tag.save()\n  //     ctx.body = {\n  //         code: 200,\n  //         msg: '标签保存成功'\n  //     }\n  // }\n  // // 添加标签\n  // async getTags(ctx) {\n  //     const params = ctx.query\n  //     const page = params.page ? parseInt(params.page) : 0\n  //     const limit = params.limit ? parseInt(params.limit) : 10\n  //     const result = await PostTags.getList({}, page, limit)\n  //     const total = await PostTags.countList({})\n  //     ctx.body = {\n  //         code: 200,\n  //         data: result,\n  //         total,\n  //         msg: '查询tags成功！'\n  //     }\n  // }\n  // // 删除标签\n  // async removeTag(ctx) {\n  //     const params = ctx.query\n  //     const result = await PostTags.deleteOne({\n  //         id: params.ptid\n  //     })\n  //     ctx.body = {\n  //         code: 200,\n  //         data: result,\n  //         msg: '删除成功'\n  //     }\n  // }\n  // // 删除标签\n  // async updateTag(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const result = await PostTags.updateOne({\n  //             _id: body._id\n  //         },\n  //         body\n  //     )\n  //     ctx.body = {\n  //         code: 200,\n  //         data: result,\n  //         msg: '更新成功'\n  //     }\n  // }\n  // async updatePostBatch(ctx) {\n  //     const {\n  //         body\n  //     } = ctx.request\n  //     const result = await Post.updateMany({\n  //         _id: {\n  //             $in: body.ids\n  //         }\n  //     }, {\n  //         $set: {\n  //             ...body.settings\n  //         }\n  //     })\n  //     ctx.body = {\n  //         code: 200,\n  //         data: result\n  //     }\n  // }\n\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ContentController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzPzI1NjUiXSwibmFtZXMiOlsiQ29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0TGlzdCIsImN0eCIsImJvZHkiLCJxcyIsInBhcnNlIiwicXVlcnkiLCJzb3J0IiwicGFnZSIsInBhcnNlSW50IiwibGltaXQiLCJvcHRpb25zIiwidGl0bGUiLCIkcmVnZXgiLCJjYXRhbG9nIiwibGVuZ3RoIiwiJGluIiwiaXNUb3AiLCJpc0VuZCIsInN0YXR1cyIsInRhZyIsInRhZ3MiLCIkZWxlbU1hdGNoIiwibmFtZSIsInJlc3VsdCIsIlBvc3QiLCJnZXRMaXN0IiwidG90YWwiLCJjb3VudExpc3QiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldExpbmtzIiwiTGlua3MiLCJmaW5kIiwidHlwZSIsImdldFRpcHMiLCJnZXRUb3BXZWVrIiwidXBsb2FkSW1nIiwiZmlsZSIsInJlcXVlc3QiLCJmaWxlcyIsImV4dCIsInNwbGl0IiwicG9wIiwiZGlyIiwiY29uZmlnIiwidXBsb2FkUGF0aCIsIm1vbWVudCIsImZvcm1hdCIsIm1rZGlyIiwicGljbmFtZSIsInV1aWQiLCJTYXZlUGF0aCIsInJlYWRTdHJlYW0iLCJmcyIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwYXRoIiwiaGlnaFdhdGVyTWFyayIsInVwU3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJmaWxlUGF0aCIsInN0YXQiLCJzdGF0U3luYyIsInRvdGFsTGVuZ3RoIiwib24iLCJjaHVuayIsIndyaXRlIiwicGF1c2UiLCJjb25zb2xlIiwibG9nIiwicmVzdW1lIiwiZW5kIiwiYWRkUG9zdCIsInNpZCIsImNoZWNrQ29kZSIsIm9iaiIsImdldEpXVHBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwidXNlciIsIlVzZXIiLCJmaW5kQnlJRCIsIl9pZCIsImZhdnMiLCJmYXYiLCJ1cGRhdGVPbmUiLCIkaW5jIiwibmV3UG9zdCIsInVpZCIsInNhdmUiLCJnZXRQb3N0RGV0YWlsIiwicGFyYW1zIiwidGlkIiwicG9zdCIsImZpbmRCeVRpZCIsImlzRmF2IiwidXNlckNvbGxlY3QiLCJVc2VyQ29sbGVjdCIsImZpbmRPbmUiLCJ0b0pTT04iLCJyZWFkcyIsIm9rIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsaUJBQU4sQ0FBd0I7QUFDcEI7QUFDQSxRQUFNQyxXQUFOLENBQWtCQyxHQUFsQixFQUF1QjtBQUNuQixVQUFNQyxJQUFJLEdBQUdDLDBDQUFFLENBQUNDLEtBQUgsQ0FBU0gsR0FBRyxDQUFDSSxLQUFiLENBQWI7QUFFQSxVQUFNQyxJQUFJLEdBQUdKLElBQUksQ0FBQ0ksSUFBTCxHQUFZSixJQUFJLENBQUNJLElBQWpCLEdBQXdCLFNBQXJDO0FBQ0EsVUFBTUMsSUFBSSxHQUFHTCxJQUFJLENBQUNLLElBQUwsR0FBWUMsUUFBUSxDQUFDTixJQUFJLENBQUNLLElBQU4sQ0FBcEIsR0FBa0MsQ0FBL0M7QUFDQSxVQUFNRSxLQUFLLEdBQUdQLElBQUksQ0FBQ08sS0FBTCxHQUFhRCxRQUFRLENBQUNOLElBQUksQ0FBQ08sS0FBTixDQUFyQixHQUFvQyxFQUFsRDtBQUNBLFVBQU1DLE9BQU8sR0FBRyxFQUFoQjs7QUFFQSxRQUFJUixJQUFJLENBQUNTLEtBQVQsRUFBZ0I7QUFDWkQsYUFBTyxDQUFDQyxLQUFSLEdBQWdCO0FBQ1pDLGNBQU0sRUFBRVYsSUFBSSxDQUFDUztBQURELE9BQWhCO0FBR0g7O0FBQ0QsUUFBSVQsSUFBSSxDQUFDVyxPQUFMLElBQWdCWCxJQUFJLENBQUNXLE9BQUwsQ0FBYUMsTUFBYixHQUFzQixDQUExQyxFQUE2QztBQUN6Q0osYUFBTyxD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUE3ZW9COztBQWdmVCxtRUFBSS9CLGlCQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBvc3QgZnJvbSAnLi4vbW9kZWwvUG9zdCdcbmltcG9ydCBMaW5rcyBmcm9tICcuLi9tb2RlbC9MaW5rcydcbmltcG9ydCBmcyBmcm9tICdmcydcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvZGlzdC92NCdcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXG5pbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnJ1xuaW1wb3J0IG1rZGlyIGZyb20gJ21ha2UtZGlyJ1xuaW1wb3J0IHtcbiAgICBjaGVja0NvZGUsXG4gICAgZ2V0SldUcGF5bG9hZCxcbiAgICBkaXJFeGlzdHNcbn0gZnJvbSAnQC9jb21tb24vdXRpbHMnXG5pbXBvcnQgVXNlciBmcm9tICdAL21vZGVsL3VzZXInXG5pbXBvcnQgUG9zdFRhZ3MgZnJvbSAnQC9tb2RlbC9Qb3N0VGFncydcbmltcG9ydCBVc2VyQ29sbGVjdCBmcm9tICcuLi9tb2RlbC9Vc2VyQ29sbGVjdCdcbmltcG9ydCBxcyBmcm9tICdxcydcblxuY2xhc3MgQ29udGVudENvbnRyb2xsZXIge1xuICAgIC8vIOiOt+WPluaWh+eroOWIl+ihqFxuICAgIGFzeW5jIGdldFBvc3RMaXN0KGN0eCkge1xuICAgICAgICBjb25zdCBib2R5ID0gcXMucGFyc2UoY3R4LnF1ZXJ5KVxuXG4gICAgICAgIGNvbnN0IHNvcnQgPSBib2R5LnNvcnQgPyBib2R5LnNvcnQgOiAnY3JlYXRlZCdcbiAgICAgICAgY29uc3QgcGFnZSA9IGJvZHkucGFnZSA/IHBhcnNlSW50KGJvZHkucGFnZSkgOiAwXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gYm9keS5saW1pdCA/IHBhcnNlSW50KGJvZHkubGltaXQpIDogMjBcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9XG5cbiAgICAgICAgaWYgKGJvZHkudGl0bGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudGl0bGUgPSB7XG4gICAgICAgICAgICAgICAgJHJlZ2V4OiBib2R5LnRpdGxlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHkuY2F0YWxvZyAmJiBib2R5LmNhdGFsb2cubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgb3B0aW9ucy5jYXRhbG9nID0ge1xuICAgICAgICAgICAgICAgICRpbjogYm9keS5jYXRhbG9nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHkuaXNUb3ApIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaXNUb3AgPSBib2R5LmlzVG9wXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHkuaXNFbmQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaXNFbmQgPSBib2R5LmlzRW5kXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHkuc3RhdHVzKSB7XG4gICAgICAgICAgICBvcHRpb25zLnN0YXR1cyA9IGJvZHkuc3RhdHVzXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBib2R5LnRhZyAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keS50YWcgIT09ICcnKSB7XG4gICAgICAgICAgICBvcHRpb25zLnRhZ3MgPSB7XG4gICAgICAgICAgICAgICAgJGVsZW1NYXRjaDoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBib2R5LnRhZ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldExpc3Qob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpXG4gICAgICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdC5jb3VudExpc3Qob3B0aW9ucylcblxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgIG1zZzogJ+iOt+WPluaWh+eroOWIl+ihqOaIkOWKnycsXG4gICAgICAgICAgICB0b3RhbDogdG90YWxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOafpeivouWPi+mTvlxuICAgIGFzeW5jIGdldExpbmtzKGN0eCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBMaW5rcy5maW5kKHtcbiAgICAgICAgICAgIHR5cGU6ICdsaW5rcydcbiAgICAgICAgfSlcbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOafpeivoua4qemmqOaPkOmGklxuICAgIGFzeW5jIGdldFRpcHMoY3R4KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IExpbmtzLmZpbmQoe1xuICAgICAgICAgICAgdHlwZTogJ3RpcHMnXG4gICAgICAgIH0pXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmnKzlkajng63orq5cbiAgICBhc3luYyBnZXRUb3BXZWVrKGN0eCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldFRvcFdlZWsoKVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5LiK5Lyg5Zu+54mHXG4gICAgYXN5bmMgdXBsb2FkSW1nKGN0eCkge1xuICAgICAgICBjb25zdCBmaWxlID0gY3R4LnJlcXVlc3QuZmlsZXMuZmlsZVxuXG4gICAgICAgIC8vIOWbvueJh+WQjeensOOAgeWbvueJh+agvOW8j+OAgeWtmOWCqOeahOS9jee9ruOAgei/lOWbnuWJjeWPsOWPr+ivu+WPlueahOi3r+W+hFxuICAgICAgICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKVxuICAgICAgICAvLyBjb25zdCBkaXIgPSBgLi4vLi4vcHVibGljLyR7bW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpfWBcbiAgICAgICAgY29uc3QgZGlyID0gYCR7Y29uZmlnLnVwbG9hZFBhdGh9LyR7bW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpfWBcblxuICAgICAgICAvL+WIpOaWrei3r+W+hOaYr+WQpuWtmOWcqO+8jOS4jeWtmOWcqOWImeWIm+W7ulxuICAgICAgICAvLyDmlrnms5XkuIBcbiAgICAgICAgLy8gYXdhaXQgZGlyRXhpc3RzKGRpcilcbiAgICAgICAgLy/mlrnms5XkuoxcbiAgICAgICAgYXdhaXQgbWtkaXIoZGlyKVxuXG4gICAgICAgIC8v5a2Y5YKo5paH5Lu25Yiw5oyH5a6a55qE6Lev5b6EXG4gICAgICAgIGNvbnN0IHBpY25hbWUgPSB1dWlkKClcbiAgICAgICAgY29uc3QgU2F2ZVBhdGggPSBgJHtkaXJ9LyR7cGljbmFtZX0uJHtleHR9YFxuICAgICAgICBjb25zdCByZWFkU3RyZWFtID0gZnMuY3JlYXRlUmVhZFN0cmVhbShmaWxlLnBhdGgsIHtcbiAgICAgICAgICAgIGhpZ2hXYXRlck1hcms6IDY0ICogMTAyNCAvL+m7mOiupDY0a1xuICAgICAgICB9KVxuICAgICAgICBjb25zdCB1cFN0cmVhbSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKFNhdmVQYXRoKVxuICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGAvJHttb21lbnQoKS5mb3JtYXQoJ1lZWVlNTUREJyl9LyR7cGljbmFtZX0uJHtleHR9YFxuICAgICAgICAvLyDmlrnms5XkuIBcbiAgICAgICAgLy8gcmVhZFN0cmVhbS5waXBlKHVwU3RyZWFtKVxuICAgICAgICAvL+aWueazleS6jCDlupTlr7nlpKflnovmlofku7bvvIzlr7nlhbbkuIrkvKDov5vluqbjgIHov4fnqIvnrYnov5vooYznm5HlkKxcbiAgICAgICAgY29uc3Qgc3RhdCA9IGZzLnN0YXRTeW5jKGZpbGUucGF0aClcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0YXQnLCBzdGF0LnNpemUpO1xuICAgICAgICBsZXQgdG90YWxMZW5ndGggPSAwIC8v5YiG5Z2X5pWw5o2uXG4gICAgICAgIC8v6K+75Y+W5pWw5o2u55qE55uR5ZCsXG4gICAgICAgIHJlYWRTdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgICAgICAgIC8vIGNodW5rIOavj+asoeWPkemAgeeahOWMuuWdl+aVsOaNrlxuICAgICAgICAgICAgdG90YWxMZW5ndGggKz0gY2h1bmsubGVuZ3RoXG4gICAgICAgICAgICBpZiAodXBTdHJlYW0ud3JpdGUoY2h1bmspID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlYWRTdHJlYW0ucGF1c2UoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAvL+e8k+WtmOWMuuWFhea7oeW5tuiiq+WGmeWFpeWujOaIkO+8jOWkhOS6jua4heepuueKtuaAgeaXtuinpuWPkVxuICAgICAgICByZWFkU3RyZWFtLm9uKCdkcmFpbicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWFkU3RyZWFtIGRyYWluJyk7XG4gICAgICAgICAgICByZWFkU3RyZWFtLnJlc3VtZSgpIC8v57un57ut6K+75Y+WXG4gICAgICAgIH0pXG4gICAgICAgIC8vIOivu+WPlue7k+adn1xuICAgICAgICByZWFkU3RyZWFtLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVhZFN0cmVhbSBlbmQnKTtcbiAgICAgICAgICAgIHVwU3RyZWFtLmVuZCgpIC8v5YWz6Zet5YaZ5YWl5rWBXG4gICAgICAgIH0pXG4gICAgICAgIC8vIOivu+WPluWPkeeUn+mUmeivr1xuICAgICAgICByZWFkU3RyZWFtLm9uKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWFkU3RyZWFtIGVycm9yJyk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBtc2c6IFwi5Zu+54mH5LiK5Lyg5oiQ5YqfXCIsXG4gICAgICAgICAgICBkYXRhOiBmaWxlUGF0aFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5re75Yqg5paw5biWXG4gICAgYXN5bmMgYWRkUG9zdChjdHgpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYm9keVxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcbiAgICAgICAgY29uc3Qgc2lkID0gYm9keS5zaWRcbiAgICAgICAgY29uc3QgY29kZSA9IGJvZHkuY29kZVxuICAgICAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHnmoTml7bmlYjmgKfjgIHmraPnoa7mgKdcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgICAgICAgICAvLyDliKTmlq3nlKjmiLfnmoTnp6/liIbmlbDmmK/lkKYgPiBmYXbvvIzlkKbliJnvvIzmj5DnpLrnlKjmiLfnp6/liIbkuI3otrPlj5HotLRcbiAgICAgICAgICAgIC8vIOeUqOaIt+enr+WIhui2s+Wkn+eahOaXtuWAme+8jOaWsOW7ulBvc3TvvIzlh4/pmaTnlKjmiLflr7nlupTnmoTnp6/liIZcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlEKHtcbiAgICAgICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZiAodXNlci5mYXZzIDwgYm9keS5mYXYpIHtcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNTAxLFxuICAgICAgICAgICAgICAgICAgICBtc2c6ICfnp6/liIbkuI3otrMnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7XG4gICAgICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgJGluYzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmF2czogLWJvZHkuZmF2XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3UG9zdCA9IG5ldyBQb3N0KGJvZHkpXG4gICAgICAgICAgICBuZXdQb3N0LnVpZCA9IG9iai5faWRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5ld1Bvc3Quc2F2ZSgpXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn5oiQ5Yqf55qE5L+d5a2Y55qE5paH56ugJyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIOWbvueJh+mqjOivgeeggemqjOivgeWksei0pVxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggemqjOivgeWksei0pSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIC8vIOabtOaWsOW4luWtkFxuICAgIC8vIGFzeW5jIHVwZGF0ZVBvc3QoY3R4KSB7XG4gICAgLy8gICAgIGNvbnN0IHtcbiAgICAvLyAgICAgICAgIGJvZHlcbiAgICAvLyAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgLy8gICAgIGNvbnN0IHNpZCA9IGJvZHkuc2lkXG4gICAgLy8gICAgIGNvbnN0IGNvZGUgPSBib2R5LmNvZGVcbiAgICAvLyAgICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CB55qE5pe25pWI5oCn44CB5q2j56Gu5oCnXG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXG4gICAgLy8gICAgIGlmIChyZXN1bHQpIHtcbiAgICAvLyAgICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgIC8vICAgICAgICAgLy8g5Yik5pat5biW5a2Q5L2c6ICF5piv5ZCm5Li65pys5Lq6XG4gICAgLy8gICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHtcbiAgICAvLyAgICAgICAgICAgICBfaWQ6IGJvZHkudGlkXG4gICAgLy8gICAgICAgICB9KVxuICAgIC8vICAgICAgICAgLy8g5Yik5pat5biW5a2Q5piv5ZCm57uT6LS0XG4gICAgLy8gICAgICAgICBpZiAocG9zdC51aWQgPT09IG9iai5faWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XG4gICAgLy8gICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoe1xuICAgIC8vICAgICAgICAgICAgICAgICBfaWQ6IGJvZHkudGlkXG4gICAgLy8gICAgICAgICAgICAgfSwgYm9keSlcbiAgICAvLyAgICAgICAgICAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgbXNnOiAn5pu05paw5biW5a2Q5oiQ5YqfJ1xuICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBtc2c6ICfnvJbovpHluJblrZDvvIzmm7TmlrDlpLHotKUnXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgLy8gICAgICAgICAgICAgICAgIG1zZzogJ+ayoeacieaTjeS9nOeahOadg+mZkCdcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAvLyDlm77niYfpqozor4HnoIHpqozor4HlpLHotKVcbiAgICAvLyAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAvLyAgICAgICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHpqozor4HlpLHotKUnXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBhc3luYyB1cGRhdGVQb3N0QnlUaWQoY3R4KSB7XG4gICAgLy8gICAgIGNvbnN0IHtcbiAgICAvLyAgICAgICAgIGJvZHlcbiAgICAvLyAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHtcbiAgICAvLyAgICAgICAgIF9pZDogYm9keS5faWRcbiAgICAvLyAgICAgfSwgYm9keSlcbiAgICAvLyAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgIC8vICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICAgICAgY29kZTogMjAwLFxuICAgIC8vICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAvLyAgICAgICAgICAgICBtc2c6ICfmm7TmlrDluJblrZDmiJDlip8nXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgLy8gICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgIC8vICAgICAgICAgICAgIG1zZzogJ+e8lui+keW4luWtkO+8jOabtOaWsOWksei0pSdcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIOiOt+WPluaWh+eroOivpuaDhVxuICAgIGFzeW5jIGdldFBvc3REZXRhaWwoY3R4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgICAgICBpZiAoIXBhcmFtcy50aWQpIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgICAgICBtc2c6ICfmlofnq6BpZOS4uuepuidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeVRpZChwYXJhbXMudGlkKVxuICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICBtc2c6ICfmn6Xor6Lmlofnq6Dor6bmg4XmiJDlip8nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsZXQgaXNGYXYgPSAwXG4gICAgICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpuS8oOmAkkF1dGhvcml6YXRpb27nmoTmlbDmja7vvIzljbPmmK/lkKbnmbvlvZVcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbiAhPT0gJydcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAgICAgICAgIGNvbnN0IHVzZXJDb2xsZWN0ID0gYXdhaXQgVXNlckNvbGxlY3QuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgdWlkOiBvYmouX2lkLFxuICAgICAgICAgICAgICAgIHRpZDogcGFyYW1zLnRpZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGlmICh1c2VyQ29sbGVjdCAmJiB1c2VyQ29sbGVjdC50aWQpIHtcbiAgICAgICAgICAgICAgICBpc0ZhdiA9IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdQb3N0ID0gcG9zdC50b0pTT04oKVxuICAgICAgICBuZXdQb3N0LmlzRmF2ID0gaXNGYXZcbiAgICAgICAgLy8g5pu05paw5paH56ug6ZiF6K+76K6w5pWwXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHtcbiAgICAgICAgICAgIF9pZDogcGFyYW1zLnRpZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAkaW5jOiB7XG4gICAgICAgICAgICAgICAgcmVhZHM6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHBvc3QuX2lkICYmIHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IG5ld1Bvc3QsXG4gICAgICAgICAgICAgICAgbXNnOiAn5p+l6K+i5paH56ug6K+m5oOF5oiQ5YqfJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+iOt+WPluaWh+eroOivpuaDheWksei0pSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHsgX2lkOiBwYXJhbXMudGlkIH0pXG4gICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IHJlbmFtZShwb3N0LnRvSlNPTigpLCAndWlkJywgJ3VzZXInKVxuICAgIH1cblxuICAgIC8vIC8vIOiOt+WPlueUqOaIt+WPkei0tOiusOW9lVxuICAgIC8vIGFzeW5jIGdldFBvc3RCeVVpZChjdHgpIHtcbiAgICAvLyAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgLy8gICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVHBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgIC8vICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldExpc3RCeVVpZChcbiAgICAvLyAgICAgICAgIG9iai5faWQsXG4gICAgLy8gICAgICAgICBwYXJhbXMucGFnZSxcbiAgICAvLyAgICAgICAgIHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxuICAgIC8vICAgICApXG4gICAgLy8gICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdC5jb3VudEJ5VWlkKG9iai5faWQpXG4gICAgLy8gICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgIC8vICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICAgICAgY29kZTogMjAwLFxuICAgIC8vICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAvLyAgICAgICAgICAgICB0b3RhbCxcbiAgICAvLyAgICAgICAgICAgICBtc2c6ICfmn6Xor6LliJfooajmiJDlip8nXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgLy8gICAgICAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5aSx6LSlJ1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gLy8g6I635Y+W55So5oi35Y+R6LS06K6w5b2VXG4gICAgLy8gYXN5bmMgZ2V0UG9zdFB1YmxpYyhjdHgpIHtcbiAgICAvLyAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0TGlzdEJ5VWlkKFxuICAgIC8vICAgICAgICAgcGFyYW1zLnVpZCxcbiAgICAvLyAgICAgICAgIHBhcmFtcy5wYWdlLFxuICAgIC8vICAgICAgICAgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG4gICAgLy8gICAgIClcbiAgICAvLyAgICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0LmNvdW50QnlVaWQocGFyYW1zLnVpZClcbiAgICAvLyAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgLy8gICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgLy8gICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgIC8vICAgICAgICAgICAgIHRvdGFsLFxuICAgIC8vICAgICAgICAgICAgIG1zZzogJ+afpeivouWIl+ihqOaIkOWKnydcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAvLyAgICAgICAgICAgICBtc2c6ICfmn6Xor6LliJfooajlpLHotKUnXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyAvLyDliKDpmaTlj5HotLTorrDlvZVcbiAgICAvLyBhc3luYyBkZWxldGVQb3N0QnlVaWQoY3R4KSB7XG4gICAgLy8gICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgIC8vICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAvLyAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7XG4gICAgLy8gICAgICAgICB1aWQ6IG9iai5faWQsXG4gICAgLy8gICAgICAgICBfaWQ6IHBhcmFtcy50aWRcbiAgICAvLyAgICAgfSlcbiAgICAvLyAgICAgaWYgKHBvc3QuaWQgPT09IHBhcmFtcy50aWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XG4gICAgLy8gICAgICAgICBhd2FpdCBDb250ZW50Q29udHJvbGxlci5wcm90b3R5cGUuZGVsZXRlUG9zdChjdHgpXG4gICAgLy8gICAgICAgICAvLyBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmRlbGV0ZU9uZSh7IF9pZDogcGFyYW1zLnRpZCB9KVxuICAgIC8vICAgICAgICAgLy8gaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgIC8vICAgICAgICAgLy8gICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgIC8vICAgICBjb2RlOiAyMDAsXG4gICAgLy8gICAgICAgICAvLyAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJ1xuICAgIC8vICAgICAgICAgLy8gICB9XG4gICAgLy8gICAgICAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgLy8gICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgIC8vICAgICBjb2RlOiA1MDAsXG4gICAgLy8gICAgICAgICAvLyAgICAgbXNnOiAn5omn6KGM5Yig6Zmk5aSx6LSl77yBJ1xuICAgIC8vICAgICAgICAgLy8gICB9XG4gICAgLy8gICAgICAgICAvLyB9XG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgLy8gICAgICAgICAgICAgbXNnOiAn5Yig6Zmk5aSx6LSl77yM5peg5p2D6ZmQ77yBJ1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gYXN5bmMgZGVsZXRlUG9zdChjdHgpIHtcbiAgICAvLyAgICAgY29uc3Qge1xuICAgIC8vICAgICAgICAgYm9keVxuICAgIC8vICAgICB9ID0gY3R4LnJlcXVlc3RcbiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5kZWxldGVNYW55KHtcbiAgICAvLyAgICAgICAgIF9pZDoge1xuICAgIC8vICAgICAgICAgICAgICRpbjogYm9keS5pZHNcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSlcbiAgICAvLyAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgIC8vICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICAgICAgY29kZTogMjAwLFxuICAgIC8vICAgICAgICAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnydcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAvLyAgICAgICAgICAgICBtc2c6ICfmiafooYzliKDpmaTlpLHotKXvvIEnXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyAvLyDmt7vliqDmoIfnrb5cbiAgICAvLyBhc3luYyBhZGRUYWcoY3R4KSB7XG4gICAgLy8gICAgIGNvbnN0IHtcbiAgICAvLyAgICAgICAgIGJvZHlcbiAgICAvLyAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgLy8gICAgIGNvbnN0IHRhZyA9IG5ldyBQb3N0VGFncyhib2R5KVxuICAgIC8vICAgICBhd2FpdCB0YWcuc2F2ZSgpXG4gICAgLy8gICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgY29kZTogMjAwLFxuICAgIC8vICAgICAgICAgbXNnOiAn5qCH562+5L+d5a2Y5oiQ5YqfJ1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gLy8g5re75Yqg5qCH562+XG4gICAgLy8gYXN5bmMgZ2V0VGFncyhjdHgpIHtcbiAgICAvLyAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgLy8gICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcnNlSW50KHBhcmFtcy5wYWdlKSA6IDBcbiAgICAvLyAgICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMTBcbiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MuZ2V0TGlzdCh7fSwgcGFnZSwgbGltaXQpXG4gICAgLy8gICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdFRhZ3MuY291bnRMaXN0KHt9KVxuICAgIC8vICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAvLyAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAvLyAgICAgICAgIHRvdGFsLFxuICAgIC8vICAgICAgICAgbXNnOiAn5p+l6K+idGFnc+aIkOWKn++8gSdcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIC8vIOWIoOmZpOagh+etvlxuICAgIC8vIGFzeW5jIHJlbW92ZVRhZyhjdHgpIHtcbiAgICAvLyAgICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3RUYWdzLmRlbGV0ZU9uZSh7XG4gICAgLy8gICAgICAgICBpZDogcGFyYW1zLnB0aWRcbiAgICAvLyAgICAgfSlcblxuICAgIC8vICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAvLyAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAvLyAgICAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnydcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIC8vIOWIoOmZpOagh+etvlxuICAgIC8vIGFzeW5jIHVwZGF0ZVRhZyhjdHgpIHtcbiAgICAvLyAgICAgY29uc3Qge1xuICAgIC8vICAgICAgICAgYm9keVxuICAgIC8vICAgICB9ID0gY3R4LnJlcXVlc3RcbiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MudXBkYXRlT25lKHtcbiAgICAvLyAgICAgICAgICAgICBfaWQ6IGJvZHkuX2lkXG4gICAgLy8gICAgICAgICB9LFxuICAgIC8vICAgICAgICAgYm9keVxuICAgIC8vICAgICApXG5cbiAgICAvLyAgICAgY3R4LmJvZHkgPSB7XG4gICAgLy8gICAgICAgICBjb2RlOiAyMDAsXG4gICAgLy8gICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgLy8gICAgICAgICBtc2c6ICfmm7TmlrDmiJDlip8nXG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBhc3luYyB1cGRhdGVQb3N0QmF0Y2goY3R4KSB7XG4gICAgLy8gICAgIGNvbnN0IHtcbiAgICAvLyAgICAgICAgIGJvZHlcbiAgICAvLyAgICAgfSA9IGN0eC5yZXF1ZXN0XG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlTWFueSh7XG4gICAgLy8gICAgICAgICBfaWQ6IHtcbiAgICAvLyAgICAgICAgICAgICAkaW46IGJvZHkuaWRzXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0sIHtcbiAgICAvLyAgICAgICAgICRzZXQ6IHtcbiAgICAvLyAgICAgICAgICAgICAuLi5ib2R5LnNldHRpbmdzXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pXG4gICAgLy8gICAgIGN0eC5ib2R5ID0ge1xuICAgIC8vICAgICAgICAgY29kZTogMjAwLFxuICAgIC8vICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDb250ZW50Q29udHJvbGxlcigpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/ContentController.js\n");

/***/ }),

/***/ "./src/api/LoginController.js":
/*!************************************!*\
  !*** ./src/api/LoginController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"./src/config/index.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/model/user */ \"./src/model/user.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/model/SignRecord */ \"./src/model/SignRecord.js\");\n\n\n\n\n\n\n\n\n\nclass LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n\n    try {\n      let result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_0__[\"SendEmail\"])({\n        user: 'Sunny',\n        code: '123',\n        email: body.username,\n        expire: moment__WEBPACK_IMPORTED_MODULE_1___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss')\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮件已经发送成功'\n      };\n    } catch (error) {\n      console.log(\"Send Emaild error\", error);\n    }\n  }\n\n  async login(ctx) {\n    // let token = jsonwebtoken.sign({\n    //     _id: name,\n    //     exp: Math.floor(Date.now() / 1000) + 60 * 60 * 24 // 过期时间1天\n    // }, config.JWT_SECRET)\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; // console.log(body.name);\n    //验证验证码得正确与否\n\n    let AuthCode = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n\n    if (AuthCode) {\n      let Auth = false;\n      let user = await _model_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        username: body.username\n      }); // // 静态方法去过滤\n      // let findstatic = await User.findByName(body.username)\n\n      let userObj = user.toJSON(); //mongoose提供方法只取数据\n\n      const arr = ['password', 'username', 'roles'];\n      arr.map(item => {\n        delete userObj[item];\n      });\n\n      if (user != null && (await bcrypt__WEBPACK_IMPORTED_MODULE_6___default.a.compare(body.password, user.password))) {\n        Auth = true;\n      }\n\n      if (Auth) {\n        let token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.sign({\n          _id: userObj._id\n        }, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].JWT_SECRET, {\n          expiresIn: '1d' //1天\n\n        }); //加入签到属性\n\n        const signRecord = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByUid(userObj._id);\n        console.log(signRecord);\n\n        if (signRecord !== null) {\n          if (moment__WEBPACK_IMPORTED_MODULE_1___default()(signRecord.created).format('YYYY-MM-DD') === moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD')) {\n            userObj.isSign = true;\n          } else {\n            userObj.isSign = false;\n          }\n\n          userObj.lastSign = signRecord.created;\n        }\n\n        ctx.body = {\n          code: 200,\n          // data: {\n          //     ...findstatic\n          // },\n          data: { // ...user   直接扩展user存放的数据会在_doc里，但是mongoose可以通过toJSON直接取到数据\n            ...userObj\n          },\n          token: token\n        };\n      } else {\n        ctx.body = {\n          code: 404,\n          msg: '用户名，密码错误，请检查'\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 401,\n        msg: '图片验证码不正确，请检查'\n      };\n    }\n  }\n\n  async register(ctx) {\n    // let token = jsonwebtoken.sign({\n    //     _id: name,\n    //     exp: Math.floor(Date.now() / 1000) + 60 * 60 * 24 // 过期时间1天\n    // }, config.JWT_SECRET)\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; //验证验证码得正确与否\n\n    let AuthCode = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n    let noAuth = true;\n    let msg = {};\n\n    if (AuthCode) {\n      let isUsername = await _model_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        username: body.username\n      });\n      console.log(isUsername);\n      let isname = await _model_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        name: body.name\n      });\n\n      if (isUsername !== null && typeof isUsername !== 'undefined') {\n        msg.username = ['邮箱已经被注册,请重新填写新邮箱！'];\n        noAuth = false;\n      }\n\n      if (isname !== null && typeof isname !== 'undefined') {\n        msg.name = ['昵称已经被注册,请重写！'];\n        noAuth = false;\n      }\n\n      if (noAuth) {\n        body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_6___default.a.hash(body.password, 5);\n        let newuser = new _model_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n          username: body.username,\n          name: body.name,\n          password: body.password,\n          created: moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss')\n        });\n        let result = await newuser.save();\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: \"用户注册成功\"\n        };\n        return;\n      }\n    } else {\n      msg.code = ['图片验证码已失效，请重新获取'];\n    }\n\n    ctx.body = {\n      code: 500,\n      msg\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new LoginController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcz85NTA3Il0sIm5hbWVzIjpbIkxvZ2luQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiZm9yZ2V0IiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJyZXN1bHQiLCJTZW5kRW1haWwiLCJ1c2VyIiwiY29kZSIsImVtYWlsIiwidXNlcm5hbWUiLCJleHBpcmUiLCJtb21lbnQiLCJhZGQiLCJmb3JtYXQiLCJkYXRhIiwibXNnIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibG9naW4iLCJzaWQiLCJBdXRoQ29kZSIsImNoZWNrQ29kZSIsIkF1dGgiLCJVc2VyIiwiZmluZE9uZSIsInVzZXJPYmoiLCJ0b0pTT04iLCJhcnIiLCJtYXAiLCJpdGVtIiwiYmNyeXB0IiwiY29tcGFyZSIsInBhc3N3b3JkIiwidG9rZW4iLCJqc29ud2VidG9rZW4iLCJzaWduIiwiX2lkIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInNpZ25SZWNvcmQiLCJTaWduUmVjb3JkIiwiZmluZEJ5VWlkIiwiY3JlYXRlZCIsImlzU2lnbiIsImxhc3RTaWduIiwicmVnaXN0ZXIiLCJub0F1dGgiLCJpc1VzZXJuYW1lIiwiaXNuYW1lIiwibmFtZSIsImhhc2giLCJuZXd1c2VyIiwic2F2ZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTs7QUFHQSxNQUFNQSxlQUFOLENBQXNCO0FBQ2xCQyxhQUFXLEdBQUcsQ0FBRTs7QUFFaEIsUUFBTUMsTUFBTixDQUFhQyxHQUFiLEVBQWtCO0FBQ2QsVUFBTTtBQUNGQztBQURFLFFBRUZELEdBQUcsQ0FBQ0UsT0FGUjs7QUFHQSxRQUFJO0FBQ0EsVUFBSUMsTUFBTSxHQUFHLE1BQU1DLG9FQUFTLENBQUM7QUFDekJDLFlBQUksRUFBRSxPQURtQjtBQUV6QkMsWUFBSSxFQUFFLEtBRm1CO0FBR3pCQyxhQUFLLEVBQUVOLElBQUksQ0FBQ08sUUFIYTtBQUl6QkMsY0FBTSxFQUFFQyw2Q0FBTSxHQUFHQyxHQUFULENBQWEsRUFBYixFQUFpQixTQUFqQixFQUE0QkMsTUFBNUIsQ0FBbUMscUJBQW5DO0FBSmlCLE9BQUQsQ0FBNUI7QUFNQVosU0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDUEssWUFBSSxFQUFFLEdBREM7QUFFUE8sWUFBSSxFQUFFVixNQUZDO0FBR1BXLFdBQUcsRUFBRTtBQUhFLE9BQVg7QUFLSCxLQVpELENBWUUsT0FBT0MsS0FBUCxFQUFjO0FBQ1pDLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLG1CQUFaLEVBQWlDRixLQUFqQztBQUVIO0FBQ0o7O0FBRUQsUUFBTUcsS0FBTixDQUFZbEIsR0FBWixFQUFpQjtBQUViO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTTtBQUNGQztBQURFLFFBRUZELEdBQUcsQ0FBQ0UsT0FGUjtBQUdBLFFBQUlpQixHQUFHLEdBQUdsQixJQUFJLENBQUNrQixHQUFmO0FBQ0EsUUFBSWIsSUFBSSxHQUFHTCxJQUFJLENBQUNLLElBQWhCLENBWGEsQ0FhYjtBQUVBOztBQUNBLFFBQUljLFFBQVEsR0FBRyxNQUFNQywrREFBUyxDQUFDRixHQUFELEVBQU1iLElBQU4sQ0FBOUI7O0FBQ0EsUUFBSWMsUUFBSixFQUFjO0FBQ1YsVUFBSUUsSUFBSSxHQUFHLEtBQVg7QUFDQSxVQUFJakIsSUFBSSxHQUFHLE1BQU1rQixtREFBSSxDQUFDQyxPQUFMLENBQWE7QUFDMUJoQixnQkFBUSxFQUFFUCxJQUFJLENBQUNPO0FBRFcsT0FBYixDQUFqQixDQUZVLENBS1Y7QUFDQTs7QUFDQSxVQUFJaUIsT0FBTyxHQUFHcEIsSUFBSSxDQUFDcUIsTUFBTCxFQUFkLENBUFUsQ0FPa0I7O0FBQzVCLFlBQU1DLEdBQUcsR0FBRyxDQUFDLFVBQUQsRUFBYSxVQUFiLEVBQXlCLE9BQXpCLENBQVo7QUFDQUEsU0FBRyxDQUFDQyxHQUFKLENBQVFDLElBQUksSUFBSTtBQUNaLGVBQU9KLE9BQU8sQ0FBQ0ksSUFBRCxDQUFkO0FBQ0gsT0FGRDs7QUFJQSxVQUFJeEIsSUFBSSxJQUFJLElBQVIsS0FBZ0IsTUFBTXlCLDZDQUFNLENBQUNDLE9BQVAsQ0FBZTlCLElBQUksQ0FBQytCLFFBQXBCLEVBQThCM0IsSUFBSSxDQUFDMkIsUUFBbkMsQ0FBdEIsQ0FBSixFQUF3RTtBQUNwRVYsWUFBSSxHQUFHLElBQVA7QUFDSDs7QUFFRCxVQUFJQSxJQUFKLEVBQVU7QUFDTixZQUFJVyxLQUFLLEdBQUdDLG1EQUFZLENBQUNDLElBQWIsQ0FBa0I7QUFDMUJDLGFBQUcsRUFBRVgsT0FBTyxDQUFDVztBQURhLFNBQWxCLEVBRVRDLCtDQUFNLENBQUNDLFVBRkUsRUFFVTtBQUNsQkMsbUJBQVMsRUFBRSxJQURPLENBQ0Y7O0FBREUsU0FGVixDQUFaLENBRE0sQ0FNTjs7QUFDQSxjQUFNQyxVQUFVLEdBQUcsTUFBTUMseURBQVUsQ0FBQ0MsU0FBWCxDQUFxQmpCLE9BQU8sQ0FBQ1csR0FBN0IsQ0FBekI7QUFDQXBCLGVBQU8sQ0FBQ0MsR0FBUixDQUFZdUIsVUFBWjs7QUFFQSxZQUFJQSxVQUFVLEtBQUssSUFBbkIsRUFBeUI7QUFDckIsY0FBSTlCLDZDQUFNLENBQUM4QixVQUFVLENBQUNHLE9BQVosQ0FBTixDQUEyQi9CLE1BQTNCLENBQWtDLFlBQWxDLE1BQ0FGLDZDQUFNLEdBQUdFLE1BQVQsQ0FBZ0IsWUFBaEIsQ0FESixFQUVFO0FBQ0VhLG1CQUFPLENBQUNtQixNQUFSLEdBQWlCLElBQWpCO0FBQ0gsV0FKRCxNQUlPO0FBQ0huQixtQkFBTyxDQUFDbUIsTUFBUixHQUFpQixLQUFqQjtBQUNIOztBQUNEbkIsaUJBQU8sQ0FBQ29CLFFBQVIsR0FBbUJMLFVBQVUsQ0FBQ0csT0FBOUI7QUFFSDs7QUFFRDNDLFdBQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BLLGNBQUksRUFBRSxHQURDO0FBRVA7QUFDQTtBQUNBO0FBQ0FPLGNBQUksRUFBRSxFQUNGO0FBQ0EsZUFBR1k7QUFGRCxXQUxDO0FBU1BRLGVBQUssRUFBRUE7QUFUQSxTQUFYO0FBV0gsT0FqQ0QsTUFpQ087QUFDSGpDLFdBQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BLLGNBQUksRUFBRSxHQURDO0FBRVBRLGFBQUcsRUFBRTtBQUZFLFNBQVg7QUFJSDtBQUNKLEtBeERELE1Bd0RPO0FBQ0hkLFNBQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BLLFlBQUksRUFBRSxHQURDO0FBRVBRLFdBQUcsRUFBRTtBQUZFLE9BQVg7QUFJSDtBQUlKOztBQUNELFFBQU1nQyxRQUFOLENBQWU5QyxHQUFmLEVBQW9CO0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTTtBQUNGQztBQURFLFFBRUZELEdBQUcsQ0FBQ0UsT0FGUjtBQUdBLFFBQUlpQixHQUFHLEdBQUdsQixJQUFJLENBQUNrQixHQUFmO0FBQ0EsUUFBSWIsSUFBSSxHQUFHTCxJQUFJLENBQUNLLElBQWhCLENBWGdCLENBWWhCOztBQUNBLFFBQUljLFFBQVEsR0FBRyxNQUFNQywrREFBUyxDQUFDRixHQUFELEVBQU1iLElBQU4sQ0FBOUI7QUFDQSxRQUFJeUMsTUFBTSxHQUFHLElBQWI7QUFDQSxRQUFJakMsR0FBRyxHQUFHLEVBQVY7O0FBRUEsUUFBSU0sUUFBSixFQUFjO0FBQ1YsVUFBSTRCLFVBQVUsR0FBRyxNQUFNekIsbURBQUksQ0FBQ0MsT0FBTCxDQUFhO0FBQ2hDaEIsZ0JBQVEsRUFBRVAsSUFBSSxDQUFDTztBQURpQixPQUFiLENBQXZCO0FBR0FRLGFBQU8sQ0FBQ0MsR0FBUixDQUFZK0IsVUFBWjtBQUVBLFVBQUlDLE1BQU0sR0FBRyxNQUFNMUIsbURBQUksQ0FBQ0MsT0FBTCxDQUFhO0FBQzVCMEIsWUFBSSxFQUFFakQsSUFBSSxDQUFDaUQ7QUFEaUIsT0FBYixDQUFuQjs7QUFHQSxVQUFJRixVQUFVLEtBQUssSUFBZixJQUF1QixPQUFPQSxVQUFQLEtBQXNCLFdBQWpELEVBQThEO0FBQzFEbEMsV0FBRyxDQUFDTixRQUFKLEdBQWUsQ0FBQyxtQkFBRCxDQUFmO0FBQ0F1QyxjQUFNLEdBQUcsS0FBVDtBQUNIOztBQUNELFVBQUlFLE1BQU0sS0FBSyxJQUFYLElBQW1CLE9BQU9BLE1BQVAsS0FBa0IsV0FBekMsRUFBc0Q7QUFDbERuQyxXQUFHLENBQUNvQyxJQUFKLEdBQVcsQ0FBQyxjQUFELENBQVg7QUFDQUgsY0FBTSxHQUFHLEtBQVQ7QUFDSDs7QUFFRCxVQUFJQSxNQUFKLEVBQVk7QUFFUjlDLFlBQUksQ0FBQytCLFFBQUwsR0FBZ0IsTUFBTUYsNkNBQU0sQ0FBQ3FCLElBQVAsQ0FBWWxELElBQUksQ0FBQytCLFFBQWpCLEVBQTJCLENBQTNCLENBQXRCO0FBRUEsWUFBSW9CLE9BQU8sR0FBRyxJQUFJN0IsbURBQUosQ0FBUztBQUNuQmYsa0JBQVEsRUFBRVAsSUFBSSxDQUFDTyxRQURJO0FBRW5CMEMsY0FBSSxFQUFFakQsSUFBSSxDQUFDaUQsSUFGUTtBQUduQmxCLGtCQUFRLEVBQUUvQixJQUFJLENBQUMrQixRQUhJO0FBSW5CVyxpQkFBTyxFQUFFakMsNkNBQU0sR0FBR0UsTUFBVCxDQUFnQixxQkFBaEI7QUFKVSxTQUFULENBQWQ7QUFNQSxZQUFJVCxNQUFNLEdBQUcsTUFBTWlELE9BQU8sQ0FBQ0MsSUFBUixFQUFuQjtBQUNBckQsV0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDUEssY0FBSSxFQUFFLEdBREM7QUFFUE8sY0FBSSxFQUFFVixNQUZDO0FBR1BXLGFBQUcsRUFBRTtBQUhFLFNBQVg7QUFLQTtBQUNIO0FBRUosS0FyQ0QsTUFxQ087QUFDSEEsU0FBRyxDQUFDUixJQUFKLEdBQVcsQ0FBQyxnQkFBRCxDQUFYO0FBQ0g7O0FBRUROLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BLLFVBQUksRUFBRSxHQURDO0FBRVBRO0FBRk8sS0FBWDtBQU9IOztBQTdLaUI7O0FBa0xQLG1FQUFJakIsZUFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Mb2dpbkNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgU2VuZEVtYWlsXHJcbn0gZnJvbSAnLi4vY29uZmlnL01haWxDb25maWcnXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xyXG5pbXBvcnQganNvbndlYnRva2VuIGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnO1xyXG5pbXBvcnQge1xyXG4gICAgY2hlY2tDb2RlXHJcbn0gZnJvbSAnQC9jb21tb24vdXRpbHMnXHJcbmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWwvdXNlcidcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnXHJcbmltcG9ydCBTaWduUmVjb3JkIGZyb20gJ0AvbW9kZWwvU2lnblJlY29yZCc7XHJcblxyXG5cclxuY2xhc3MgTG9naW5Db250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgICBhc3luYyBmb3JnZXQoY3R4KSB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBTZW5kRW1haWwoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogJ1N1bm55JyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICcxMjMnLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IGJvZHkudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBleHBpcmU6IG1vbWVudCgpLmFkZCgzMCwgJ21pbnV0ZXMnKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+mCruS7tuW3sue7j+WPkemAgeaIkOWKnydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZCBFbWFpbGQgZXJyb3JcIiwgZXJyb3IpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbG9naW4oY3R4KSB7XHJcblxyXG4gICAgICAgIC8vIGxldCB0b2tlbiA9IGpzb253ZWJ0b2tlbi5zaWduKHtcclxuICAgICAgICAvLyAgICAgX2lkOiBuYW1lLFxyXG4gICAgICAgIC8vICAgICBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCAqIDI0IC8vIOi/h+acn+aXtumXtDHlpKlcclxuICAgICAgICAvLyB9LCBjb25maWcuSldUX1NFQ1JFVClcclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICAgICAgbGV0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICAgICAgbGV0IGNvZGUgPSBib2R5LmNvZGVcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYm9keS5uYW1lKTtcclxuXHJcbiAgICAgICAgLy/pqozor4Hpqozor4HnoIHlvpfmraPnoa7kuI7lkKZcclxuICAgICAgICBsZXQgQXV0aENvZGUgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgICAgIGlmIChBdXRoQ29kZSkge1xyXG4gICAgICAgICAgICBsZXQgQXV0aCA9IGZhbHNlXHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vIC8vIOmdmeaAgeaWueazleWOu+i/h+a7pFxyXG4gICAgICAgICAgICAvLyBsZXQgZmluZHN0YXRpYyA9IGF3YWl0IFVzZXIuZmluZEJ5TmFtZShib2R5LnVzZXJuYW1lKVxyXG4gICAgICAgICAgICBsZXQgdXNlck9iaiA9IHVzZXIudG9KU09OKCkgLy9tb25nb29zZeaPkOS+m+aWueazleWPquWPluaVsOaNrlxyXG4gICAgICAgICAgICBjb25zdCBhcnIgPSBbJ3Bhc3N3b3JkJywgJ3VzZXJuYW1lJywgJ3JvbGVzJ11cclxuICAgICAgICAgICAgYXJyLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB1c2VyT2JqW2l0ZW1dXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBpZiAodXNlciAhPSBudWxsICYmIGF3YWl0IGJjcnlwdC5jb21wYXJlKGJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgICAgICBBdXRoID0gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoQXV0aCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRva2VuID0ganNvbndlYnRva2VuLnNpZ24oe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdXNlck9iai5faWQsXHJcbiAgICAgICAgICAgICAgICB9LCBjb25maWcuSldUX1NFQ1JFVCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogJzFkJyAvLzHlpKlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvL+WKoOWFpeetvuWIsOWxnuaAp1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnblJlY29yZCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZEJ5VWlkKHVzZXJPYmouX2lkKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2lnblJlY29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNpZ25SZWNvcmQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9tZW50KHNpZ25SZWNvcmQuY3JlYXRlZCkuZm9ybWF0KCdZWVlZLU1NLUREJykgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJPYmouaXNTaWduID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJPYmouaXNTaWduID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlck9iai5sYXN0U2lnbiA9IHNpZ25SZWNvcmQuY3JlYXRlZFxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAuLi5maW5kc3RhdGljXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLnVzZXIgICDnm7TmjqXmianlsZV1c2Vy5a2Y5pS+55qE5pWw5o2u5Lya5ZyoX2RvY+mHjO+8jOS9huaYr21vbmdvb3Nl5Y+v5Lul6YCa6L+HdG9KU09O55u05o6l5Y+W5Yiw5pWw5o2uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnVzZXJPYmpcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDA0LFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogJ+eUqOaIt+WQje+8jOWvhueggemUmeivr++8jOivt+ajgOafpSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgICAgICAgICAgbXNnOiAn5Zu+54mH6aqM6K+B56CB5LiN5q2j56Gu77yM6K+35qOA5p+lJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgfVxyXG4gICAgYXN5bmMgcmVnaXN0ZXIoY3R4KSB7XHJcblxyXG4gICAgICAgIC8vIGxldCB0b2tlbiA9IGpzb253ZWJ0b2tlbi5zaWduKHtcclxuICAgICAgICAvLyAgICAgX2lkOiBuYW1lLFxyXG4gICAgICAgIC8vICAgICBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCAqIDI0IC8vIOi/h+acn+aXtumXtDHlpKlcclxuICAgICAgICAvLyB9LCBjb25maWcuSldUX1NFQ1JFVClcclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICAgICAgbGV0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICAgICAgbGV0IGNvZGUgPSBib2R5LmNvZGVcclxuICAgICAgICAvL+mqjOivgemqjOivgeeggeW+l+ato+ehruS4juWQplxyXG4gICAgICAgIGxldCBBdXRoQ29kZSA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXHJcbiAgICAgICAgbGV0IG5vQXV0aCA9IHRydWVcclxuICAgICAgICBsZXQgbXNnID0ge31cclxuXHJcbiAgICAgICAgaWYgKEF1dGhDb2RlKSB7XHJcbiAgICAgICAgICAgIGxldCBpc1VzZXJuYW1lID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlzVXNlcm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGlzbmFtZSA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBib2R5Lm5hbWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYgKGlzVXNlcm5hbWUgIT09IG51bGwgJiYgdHlwZW9mIGlzVXNlcm5hbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBtc2cudXNlcm5hbWUgPSBbJ+mCrueuseW3sue7j+iiq+azqOWGjCzor7fph43mlrDloavlhpnmlrDpgq7nrrHvvIEnXVxyXG4gICAgICAgICAgICAgICAgbm9BdXRoID0gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNuYW1lICE9PSBudWxsICYmIHR5cGVvZiBpc25hbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBtc2cubmFtZSA9IFsn5pi156ew5bey57uP6KKr5rOo5YaMLOivt+mHjeWGme+8gSddXHJcbiAgICAgICAgICAgICAgICBub0F1dGggPSBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobm9BdXRoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKGJvZHkucGFzc3dvcmQsIDUpXHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG5ld3VzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IGJvZHkudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYm9keS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBib2R5LnBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG5ld3VzZXIuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogXCLnlKjmiLfms6jlhozmiJDlip9cIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbXNnLmNvZGUgPSBbJ+WbvueJh+mqjOivgeeggeW3suWkseaViO+8jOivt+mHjeaWsOiOt+WPliddXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICBtc2dcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IExvZ2luQ29udHJvbGxlcigpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/LoginController.js\n");

/***/ }),

/***/ "./src/api/PublicController.js":
/*!*************************************!*\
  !*** ./src/api/PublicController.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-captcha */ \"svg-captcha\");\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_captcha__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n // import {\n//     getValue,\n//     setValue,\n// } from '../config/RedisConfig'\n\n/**\n * 需要通过webpack转移\n * webpack 添加配置 watch npm run watch 启动实时监听文件，实时打包\n * 添加 debug 配置使用nodemon运行webpack打包后的文件  npm run debug 启动\n */\n\n\n\nclass PublicController {\n  constructor() {}\n\n  async getCaptcha(ctx) {\n    const body = ctx.request.query;\n    var captcha = svg_captcha__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n      size: 4,\n      ignoreChars: 'o0li1',\n      //过滤出现o0这样的干扰\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 38\n    }); // console.log(captcha);\n    // 保存图片验证码数据 ， 设置超时时间 ，单位：秒\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"setValue\"])(body.sid, captcha.text, 10 * 60); // getValue(body.sid).then(res => {\n    //     console.log(res);\n    // })\n\n    ctx.body = {\n      code: 200,\n      data: captcha.data\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new PublicController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanM/NjhhZSJdLCJuYW1lcyI6WyJQdWJsaWNDb250cm9sbGVyIiwiY29uc3RydWN0b3IiLCJnZXRDYXB0Y2hhIiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJxdWVyeSIsImNhcHRjaGEiLCJzdmdDYXB0Y2hhIiwiY3JlYXRlIiwic2l6ZSIsImlnbm9yZUNoYXJzIiwiY29sb3IiLCJub2lzZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0VmFsdWUiLCJzaWQiLCJ0ZXh0IiwiY29kZSIsImRhdGEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0NBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7Ozs7OztBQUtBOztBQUtBLE1BQU1BLGdCQUFOLENBQXVCO0FBQ25CQyxhQUFXLEdBQUcsQ0FBRTs7QUFDaEIsUUFBTUMsVUFBTixDQUFpQkMsR0FBakIsRUFBc0I7QUFDbEIsVUFBTUMsSUFBSSxHQUFHRCxHQUFHLENBQUNFLE9BQUosQ0FBWUMsS0FBekI7QUFDQSxRQUFJQyxPQUFPLEdBQUdDLGtEQUFVLENBQUNDLE1BQVgsQ0FBa0I7QUFDNUJDLFVBQUksRUFBRSxDQURzQjtBQUU1QkMsaUJBQVcsRUFBRSxPQUZlO0FBRU47QUFDdEJDLFdBQUssRUFBRSxJQUhxQjtBQUk1QkMsV0FBSyxFQUFFQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCLENBQTNCLENBSnFCO0FBSzVCQyxXQUFLLEVBQUUsR0FMcUI7QUFNNUJDLFlBQU0sRUFBRTtBQU5vQixLQUFsQixDQUFkLENBRmtCLENBVWxCO0FBQ0E7O0FBQ0FDLHdFQUFRLENBQUNmLElBQUksQ0FBQ2dCLEdBQU4sRUFBV2IsT0FBTyxDQUFDYyxJQUFuQixFQUF5QixLQUFLLEVBQTlCLENBQVIsQ0Faa0IsQ0FhbEI7QUFDQTtBQUNBOztBQUNBbEIsT0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDUGtCLFVBQUksRUFBRSxHQURDO0FBRVBDLFVBQUksRUFBRWhCLE9BQU8sQ0FBQ2dCO0FBRlAsS0FBWDtBQUlIOztBQXRCa0I7O0FBeUJSLG1FQUFJdkIsZ0JBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvUHVibGljQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdmdDYXB0Y2hhIGZyb20gJ3N2Zy1jYXB0Y2hhJztcbi8vIGltcG9ydCB7XG4vLyAgICAgZ2V0VmFsdWUsXG4vLyAgICAgc2V0VmFsdWUsXG4vLyB9IGZyb20gJy4uL2NvbmZpZy9SZWRpc0NvbmZpZydcbi8qKlxuICog6ZyA6KaB6YCa6L+Hd2VicGFja+i9rOenu1xuICogd2VicGFjayDmt7vliqDphY3nva4gd2F0Y2ggbnBtIHJ1biB3YXRjaCDlkK/liqjlrp7ml7bnm5HlkKzmlofku7bvvIzlrp7ml7bmiZPljIVcbiAqIOa3u+WKoCBkZWJ1ZyDphY3nva7kvb/nlKhub2RlbW9u6L+Q6KGMd2VicGFja+aJk+WMheWQjueahOaWh+S7tiAgbnBtIHJ1biBkZWJ1ZyDlkK/liqhcbiAqL1xuaW1wb3J0IHtcbiAgICBnZXRWYWx1ZSxcbiAgICBzZXRWYWx1ZSxcbn0gZnJvbSAnQC9jb25maWcvUmVkaXNDb25maWcnXG5cbmNsYXNzIFB1YmxpY0NvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge31cbiAgICBhc3luYyBnZXRDYXB0Y2hhKGN0eCkge1xuICAgICAgICBjb25zdCBib2R5ID0gY3R4LnJlcXVlc3QucXVlcnlcbiAgICAgICAgdmFyIGNhcHRjaGEgPSBzdmdDYXB0Y2hhLmNyZWF0ZSh7XG4gICAgICAgICAgICBzaXplOiA0LFxuICAgICAgICAgICAgaWdub3JlQ2hhcnM6ICdvMGxpMScsIC8v6L+H5ruk5Ye6546wbzDov5nmoLfnmoTlubLmibBcbiAgICAgICAgICAgIGNvbG9yOiB0cnVlLFxuICAgICAgICAgICAgbm9pc2U6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpLFxuICAgICAgICAgICAgd2lkdGg6IDE1MCxcbiAgICAgICAgICAgIGhlaWdodDogMzhcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNhcHRjaGEpO1xuICAgICAgICAvLyDkv53lrZjlm77niYfpqozor4HnoIHmlbDmja4g77yMIOiuvue9rui2heaXtuaXtumXtCDvvIzljZXkvY3vvJrnp5JcbiAgICAgICAgc2V0VmFsdWUoYm9keS5zaWQsIGNhcHRjaGEudGV4dCwgMTAgKiA2MClcbiAgICAgICAgLy8gZ2V0VmFsdWUoYm9keS5zaWQpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgIC8vIH0pXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogY2FwdGNoYS5kYXRhLFxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUHVibGljQ29udHJvbGxlcigpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/PublicController.js\n");

/***/ }),

/***/ "./src/api/UserController.js":
/*!***********************************!*\
  !*** ./src/api/UserController.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/user */ \"./src/model/user.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid/dist/v4 */ \"uuid/dist/v4\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n //版本要求较高\n\nclass UserController {\n  //用户签到接口\n  async userSign(ctx) {\n    //获取用户id\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization); //查询用户上一次签到记录\n\n    let user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n    const record = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByUid(obj._id);\n    let result = {};\n    let newRecord = {}; // 签到逻辑\n\n    if (record !== null) {\n      //有历史的签到记录\n      // 有历史的签到数据\n      // 判断用户上一次签到记录的created时间是否与今天相同\n      // 如果当前时间的日期与用户上一次的签到日期相同，说明用户已经签到\n      if (dayjs__WEBPACK_IMPORTED_MODULE_3___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_3___default()().format('YYYY-MM-DD')) {\n        ctx.body = {\n          code: 500,\n          favs: user.favs,\n          count: user.count,\n          lastSign: record.created,\n          msg: '用户已经签到'\n        };\n        return;\n      } else {\n        // 有上一次的签到记录，并且不与今天相同，进行连续签到的判断\n        // 如果相同，代表用户是在连续签到\n        let count = user.count;\n        let fav = 0; // 判断签到时间 用户上一次的签到时间等于，当前时间的前一天，说明，用户在连续签到\n        // 第n+1天签到的时候，需要与第n的天created比较\n\n        if (dayjs__WEBPACK_IMPORTED_MODULE_3___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_3___default()().subtract(1, 'days').format('YYYY-MM-DD')) {\n          count += 1;\n\n          if (count < 5) {\n            fav = 5;\n          } else if (count >= 5 && count < 15) {\n            fav = 10;\n          } else if (count >= 15 && count < 30) {\n            fav = 15;\n          } else if (count >= 30 && count < 100) {\n            fav = 20;\n          } else if (count >= 100 && count < 365) {\n            fav = 30;\n          } else if (count >= 365) {\n            fav = 50;\n          }\n\n          await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            // user.favs += fav\n            // user.count += 1\n            $inc: {\n              favs: fav,\n              count: 1\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: user.count + 1\n          };\n        } else {\n          //用户中断了签到\n          fav = 5;\n          await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            $set: {\n              count: 1\n            },\n            $inc: {\n              favs: fav\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: 1\n          };\n        } //更新签到记录\n\n\n        newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n          uid: obj._id,\n          favs: 5 // lastSign: record.created\n\n        });\n        await newRecord.save();\n      }\n    } else {\n      //无签到数据\n      //保存用户的签到记录 ， 签到计数 、 积分数据\n      await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          count: 1\n        },\n        // set 设置\n        $inc: {\n          favs: 5\n        } //increas增加\n\n      });\n      newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        uid: obj._id,\n        favs: 5 // lastSign: moment().format('YYYY-MM-DD HH:mm:ss')\n\n      });\n      newRecord.save();\n      result = {\n        favs: user.favs + 5,\n        count: 1\n      };\n    }\n\n    ctx.body = {\n      code: 200,\n      msg: '签到请求成功',\n      ...result,\n      lastSign: newRecord.created\n    };\n  } //更新用户基本信息接口\n\n\n  async updateUserInfo(ctx) {\n    const {\n      body\n    } = ctx.request;\n    let msg = '';\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization); //判断用户是否修改了邮箱\n\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n\n    if (body.username && body.username !== user.username) {\n      //用户修改了邮箱\n      // 发送reset邮件\n      //判断用户得新邮箱是否已经有人注册\n      const OwnUser = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (OwnUser && OwnUser.password) {\n        ctx.body = {\n          code: 501,\n          msg: \"邮箱已经注册\"\n        };\n        return;\n      }\n\n      const key = uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5___default()();\n      Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_8__[\"setValue\"])(key, jsonwebtoken__WEBPACK_IMPORTED_MODULE_6___default.a.sign({\n        _id: obj._id\n      }, _config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].JWT_SECRET, {\n        expiresIn: '30m'\n      }));\n      const result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_4__[\"SendEmail\"])({\n        type: 'email',\n        user: user.name,\n        code: '',\n        email: user.username,\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        data: {\n          key: key,\n          username: body.username\n        }\n      }); // ctx.body = {\n      //     code: 200,\n      //     msg: '已成功发送验证邮箱，请点击链接确认修改邮箱账号'\n      // }\n\n      msg = '更新基本资料成功，账号修改需要邮件验证，已成功发送验证邮箱，请查收';\n    } //修改了其它信息\n\n\n    const ellipsis_data = ['username', 'mobile', 'password'];\n    ellipsis_data.map(item => {\n      delete body[item];\n    });\n    const result = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: obj._id\n    }, body);\n\n    if (result.n === 1 && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: msg === '' ? '用户信息更新成功' : msg\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '用户信息更新失败'\n      };\n    }\n  } //更新用户名\n\n\n  async updateUsername(ctx) {\n    const body = ctx.query;\n\n    if (body.key) {\n      const token = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_8__[\"getValue\"])(body.key);\n      const obj = Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])('Bearer ' + token);\n      await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        username: body.username\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新用户名成功'\n      };\n    }\n  }\n\n  async changePasswd(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTpayload\"])(ctx.header.authorization);\n    const user = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    }); // 密码比较比较 前面是未加密的值 ， 后面是加密的hash\n\n    if (await bcrypt__WEBPACK_IMPORTED_MODULE_9___default.a.compare(body.oldpwd, user.password)) {\n      const newpasswd = await bcrypt__WEBPACK_IMPORTED_MODULE_9___default.a.hash(body.newpwd, 5);\n      const result = await _model_user__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          password: newpasswd\n        }\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新密码成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新密码错误，请检查当前密码是否输入正确？'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new UserController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzP2I5YWYiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJ1c2VyU2lnbiIsImN0eCIsIm9iaiIsImdldEpXVHBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwidXNlciIsIlVzZXIiLCJmaW5kQnlJRCIsIl9pZCIsInJlY29yZCIsIlNpZ25SZWNvcmQiLCJmaW5kQnlVaWQiLCJyZXN1bHQiLCJuZXdSZWNvcmQiLCJtb21lbnQiLCJjcmVhdGVkIiwiZm9ybWF0IiwiYm9keSIsImNvZGUiLCJmYXZzIiwiY291bnQiLCJsYXN0U2lnbiIsIm1zZyIsImZhdiIsInN1YnRyYWN0IiwidXBkYXRlT25lIiwiJGluYyIsIiRzZXQiLCJ1aWQiLCJzYXZlIiwidXBkYXRlVXNlckluZm8iLCJyZXF1ZXN0IiwiZmluZE9uZSIsInVzZXJuYW1lIiwiT3duVXNlciIsInBhc3N3b3JkIiwia2V5IiwidXVpZCIsInNldFZhbHVlIiwiand0Iiwic2lnbiIsImNvbmZpZyIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJTZW5kRW1haWwiLCJ0eXBlIiwibmFtZSIsImVtYWlsIiwiZXhwaXJlIiwiYWRkIiwiZGF0YSIsImVsbGlwc2lzX2RhdGEiLCJtYXAiLCJpdGVtIiwibiIsIm9rIiwidXBkYXRlVXNlcm5hbWUiLCJxdWVyeSIsInRva2VuIiwiZ2V0VmFsdWUiLCJjaGFuZ2VQYXNzd2QiLCJiY3J5cHQiLCJjb21wYXJlIiwib2xkcHdkIiwibmV3cGFzc3dkIiwiaGFzaCIsIm5ld3B3ZCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0NBSTRCOztBQUU1QixNQUFNQSxjQUFOLENBQXFCO0FBQ2pCO0FBQ0Es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QXNEO0FBQ2xELFlBQU02QixTQUFTLEdBQUcsTUFBTUgsNkNBQU0sQ0FBQ0ksSUFBUCxDQUFZaEQsSUFBSSxDQUFDaUQsTUFBakIsRUFBeUIsQ0FBekIsQ0FBeEI7QUFDQSxZQUFNdEQsTUFBTSxHQUFHLE1BQU1OLG1EQUFJLENBQUNtQixTQUFMLENBQWU7QUFDaENqQixXQUFHLEVBQUVQLEdBQUcsQ0FBQ087QUFEdUIsT0FBZixFQUVsQjtBQUNDbUIsWUFBSSxFQUFFO0FBQ0ZRLGtCQUFRLEVBQUU2QjtBQURSO0FBRFAsT0FGa0IsQ0FBckI7QUFPQWhFLFNBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNQQyxZQUFJLEVBQUUsR0FEQztBQUVQSSxXQUFHLEVBQUU7QUFGRSxPQUFYO0FBSUgsS0FiRCxNQWFPO0FBQ0h0QixTQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDUEMsWUFBSSxFQUFFLEdBREM7QUFFUEksV0FBRyxFQUFFO0FBRkUsT0FBWDtBQUlIO0FBSUo7O0FBeFBnQjs7QUE0UE4sbUVBQUl4QixjQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpZ25SZWNvcmQgZnJvbSAnLi4vbW9kZWwvU2lnblJlY29yZCdcbmltcG9ydCB7XG4gICAgZ2V0SldUcGF5bG9hZFxufSBmcm9tICcuLi9jb21tb24vdXRpbHMnXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC91c2VyJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcbmltcG9ydCB7XG4gICAgU2VuZEVtYWlsXG59IGZyb20gJy4uL2NvbmZpZy9NYWlsQ29uZmlnJ1xuaW1wb3J0IHV1aWQgZnJvbSAndXVpZC9kaXN0L3Y0J1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5pbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnJztcbmltcG9ydCB7XG4gICAgZ2V0VmFsdWUsXG4gICAgc2V0VmFsdWVcbn0gZnJvbSAnQC9jb25maWcvUmVkaXNDb25maWcnXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCcgLy/niYjmnKzopoHmsYLovoPpq5hcblxuY2xhc3MgVXNlckNvbnRyb2xsZXIge1xuICAgIC8v55So5oi3562+5Yiw5o6l5Y+jXG4gICAgYXN5bmMgdXNlclNpZ24oY3R4KSB7XG4gICAgICAgIC8v6I635Y+W55So5oi3aWRcbiAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG5cbiAgICAgICAgLy/mn6Xor6LnlKjmiLfkuIrkuIDmrKHnrb7liLDorrDlvZVcbiAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlEKG9iai5faWQpXG4gICAgICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZEJ5VWlkKG9iai5faWQpXG4gICAgICAgIGxldCByZXN1bHQgPSB7fVxuICAgICAgICBsZXQgbmV3UmVjb3JkID0ge31cbiAgICAgICAgLy8g562+5Yiw6YC76L6RXG4gICAgICAgIGlmIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8v5pyJ5Y6G5Y+y55qE562+5Yiw6K6w5b2VXG4gICAgICAgICAgICAvLyDmnInljoblj7LnmoTnrb7liLDmlbDmja5cbiAgICAgICAgICAgIC8vIOWIpOaWreeUqOaIt+S4iuS4gOasoeetvuWIsOiusOW9leeahGNyZWF0ZWTml7bpl7TmmK/lkKbkuI7ku4rlpKnnm7jlkIxcbiAgICAgICAgICAgIC8vIOWmguaenOW9k+WJjeaXtumXtOeahOaXpeacn+S4jueUqOaIt+S4iuS4gOasoeeahOetvuWIsOaXpeacn+ebuOWQjO+8jOivtOaYjueUqOaIt+W3sue7j+etvuWIsFxuICAgICAgICAgICAgaWYgKG1vbWVudChyZWNvcmQuY3JlYXRlZCkuZm9ybWF0KCdZWVlZLU1NLUREJykgPT09XG4gICAgICAgICAgICAgICAgbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgIGZhdnM6IHVzZXIuZmF2cyxcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IHVzZXIuY291bnQsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTaWduOiByZWNvcmQuY3JlYXRlZCxcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAn55So5oi35bey57uP562+5YiwJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8g5pyJ5LiK5LiA5qyh55qE562+5Yiw6K6w5b2V77yM5bm25LiU5LiN5LiO5LuK5aSp55u45ZCM77yM6L+b6KGM6L+e57ut562+5Yiw55qE5Yik5patXG4gICAgICAgICAgICAgICAgLy8g5aaC5p6c55u45ZCM77yM5Luj6KGo55So5oi35piv5Zyo6L+e57ut562+5YiwXG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gdXNlci5jb3VudFxuICAgICAgICAgICAgICAgIGxldCBmYXYgPSAwXG4gICAgICAgICAgICAgICAgLy8g5Yik5pat562+5Yiw5pe26Ze0IOeUqOaIt+S4iuS4gOasoeeahOetvuWIsOaXtumXtOetieS6ju+8jOW9k+WJjeaXtumXtOeahOWJjeS4gOWkqe+8jOivtOaYju+8jOeUqOaIt+WcqOi/nue7reetvuWIsFxuICAgICAgICAgICAgICAgIC8vIOesrG4rMeWkqeetvuWIsOeahOaXtuWAme+8jOmcgOimgeS4juesrG7nmoTlpKljcmVhdGVk5q+U6L6DXG4gICAgICAgICAgICAgICAgaWYgKG1vbWVudChyZWNvcmQuY3JlYXRlZCkuZm9ybWF0KCdZWVlZLU1NLUREJykgPT09IG1vbWVudCgpLnN1YnRyYWN0KDEsICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gMVxuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYXYgPSA1XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gNSAmJiBjb3VudCA8IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYXYgPSAxMFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDE1ICYmIGNvdW50IDwgMzApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdiA9IDE1XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMzAgJiYgY291bnQgPCAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdiA9IDIwXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMTAwICYmIGNvdW50IDwgMzY1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYXYgPSAzMFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDM2NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmF2ID0gNTBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlci5mYXZzICs9IGZhdlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlci5jb3VudCArPSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5jOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmF2czogZmF2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdnM6IHVzZXIuZmF2cyArIGZhdixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiB1c2VyLmNvdW50ICsgMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy/nlKjmiLfkuK3mlq3kuobnrb7liLBcbiAgICAgICAgICAgICAgICAgICAgZmF2ID0gNVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJGluYzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhdnM6IGZhdlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMgKyBmYXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8v5pu05paw562+5Yiw6K6w5b2VXG4gICAgICAgICAgICAgICAgbmV3UmVjb3JkID0gbmV3IFNpZ25SZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICB1aWQ6IG9iai5faWQsXG4gICAgICAgICAgICAgICAgICAgIGZhdnM6IDUsXG4gICAgICAgICAgICAgICAgICAgIC8vIGxhc3RTaWduOiByZWNvcmQuY3JlYXRlZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3UmVjb3JkLnNhdmUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy/ml6Dnrb7liLDmlbDmja5cbiAgICAgICAgICAgIC8v5L+d5a2Y55So5oi355qE562+5Yiw6K6w5b2VIO+8jCDnrb7liLDorqHmlbAg44CBIOenr+WIhuaVsOaNrlxuICAgICAgICAgICAgYXdhaXQgVXNlci51cGRhdGVPbmUoe1xuICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IDFcbiAgICAgICAgICAgICAgICB9LCAvLyBzZXQg6K6+572uXG4gICAgICAgICAgICAgICAgJGluYzoge1xuICAgICAgICAgICAgICAgICAgICBmYXZzOiA1XG4gICAgICAgICAgICAgICAgfSwgLy9pbmNyZWFz5aKe5YqgXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbmV3UmVjb3JkID0gbmV3IFNpZ25SZWNvcmQoe1xuICAgICAgICAgICAgICAgIHVpZDogb2JqLl9pZCxcbiAgICAgICAgICAgICAgICBmYXZzOiA1LFxuICAgICAgICAgICAgICAgIC8vIGxhc3RTaWduOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIG5ld1JlY29yZC5zYXZlKClcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMgKyA1LFxuICAgICAgICAgICAgICAgIGNvdW50OiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBtc2c6ICfnrb7liLDor7fmsYLmiJDlip8nLFxuICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgbGFzdFNpZ246IG5ld1JlY29yZC5jcmVhdGVkXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL+abtOaWsOeUqOaIt+WfuuacrOS/oeaBr+aOpeWPo1xuICAgIGFzeW5jIHVwZGF0ZVVzZXJJbmZvKGN0eCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBib2R5XG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxuICAgICAgICBsZXQgbXNnID0gJydcbiAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUcGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgICAgIC8v5Yik5pat55So5oi35piv5ZCm5L+u5pS55LqG6YKu566xXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBvYmouX2lkXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChib2R5LnVzZXJuYW1lICYmIGJvZHkudXNlcm5hbWUgIT09IHVzZXIudXNlcm5hbWUpIHtcbiAgICAgICAgICAgIC8v55So5oi35L+u5pS55LqG6YKu566xXG4gICAgICAgICAgICAvLyDlj5HpgIFyZXNldOmCruS7tlxuICAgICAgICAgICAgLy/liKTmlq3nlKjmiLflvpfmlrDpgq7nrrHmmK/lkKblt7Lnu4/mnInkurrms6jlhoxcblxuICAgICAgICAgICAgY29uc3QgT3duVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IGJvZHkudXNlcm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZiAoT3duVXNlciAmJiBPd25Vc2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDUwMSxcbiAgICAgICAgICAgICAgICAgICAgbXNnOiBcIumCrueuseW3sue7j+azqOWGjFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB1dWlkKClcbiAgICAgICAgICAgIHNldFZhbHVlKFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBqd3Quc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxuICAgICAgICAgICAgICAgIH0sIGNvbmZpZy5KV1RfU0VDUkVULCB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogJzMwbSdcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU2VuZEVtYWlsKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZW1haWwnLFxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgICAgICAgICBlbWFpbDogdXNlci51c2VybmFtZSxcbiAgICAgICAgICAgICAgICBleHBpcmU6IG1vbWVudCgpLmFkZCgzMCwgJ21pbnV0ZXMnKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIC8vIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgLy8gICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIC8vICAgICBtc2c6ICflt7LmiJDlip/lj5HpgIHpqozor4Hpgq7nrrHvvIzor7fngrnlh7vpk77mjqXnoa7orqTkv67mlLnpgq7nrrHotKblj7cnXG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBtc2cgPSAn5pu05paw5Z+65pys6LWE5paZ5oiQ5Yqf77yM6LSm5Y+35L+u5pS56ZyA6KaB6YKu5Lu26aqM6K+B77yM5bey5oiQ5Yqf5Y+R6YCB6aqM6K+B6YKu566x77yM6K+35p+l5pS2J1xuXG4gICAgICAgIH1cbiAgICAgICAgLy/kv67mlLnkuoblhbblroPkv6Hmga9cbiAgICAgICAgY29uc3QgZWxsaXBzaXNfZGF0YSA9IFsndXNlcm5hbWUnLCAnbW9iaWxlJywgJ3Bhc3N3b3JkJ11cbiAgICAgICAgZWxsaXBzaXNfZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgYm9keVtpdGVtXVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7XG4gICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgfSwgYm9keSlcbiAgICAgICAgaWYgKHJlc3VsdC5uID09PSAxICYmIHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIG1zZzogbXNnID09PSAnJyA/ICfnlKjmiLfkv6Hmga/mm7TmlrDmiJDlip8nIDogbXNnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn55So5oi35L+h5oGv5pu05paw5aSx6LSlJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy/mm7TmlrDnlKjmiLflkI1cbiAgICBhc3luYyB1cGRhdGVVc2VybmFtZShjdHgpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IGN0eC5xdWVyeVxuICAgICAgICBpZiAoYm9keS5rZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VmFsdWUoYm9keS5rZXkpXG4gICAgICAgICAgICBjb25zdCBvYmogPSBnZXRKV1RwYXlsb2FkKCdCZWFyZXIgJyArIHRva2VuKVxuXG4gICAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7XG4gICAgICAgICAgICAgICAgX2lkOiBvYmouX2lkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IGJvZHkudXNlcm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgbXNnOiAn5pu05paw55So5oi35ZCN5oiQ5YqfJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgY2hhbmdlUGFzc3dkKGN0eCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBib2R5XG4gICAgICAgIH0gPSBjdHgucmVxdWVzdFxuICAgICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RwYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgfSlcbiAgICAgICAgLy8g5a+G56CB5q+U6L6D5q+U6L6DIOWJjemdouaYr+acquWKoOWvhueahOWAvCDvvIwg5ZCO6Z2i5piv5Yqg5a+G55qEaGFzaFxuICAgICAgICBpZiAoYXdhaXQgYmNyeXB0LmNvbXBhcmUoYm9keS5vbGRwd2QsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdwYXNzd2QgPSBhd2FpdCBiY3J5cHQuaGFzaChib2R5Lm5ld3B3ZCwgNSlcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIudXBkYXRlT25lKHtcbiAgICAgICAgICAgICAgICBfaWQ6IG9iai5faWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBuZXdwYXNzd2RcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIG1zZzogJ+abtOaWsOWvhueggeaIkOWKnydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgICAgICBtc2c6ICfmm7TmlrDlr4bnoIHplJnor6/vvIzor7fmo4Dmn6XlvZPliY3lr4bnoIHmmK/lkKbovpPlhaXmraPnoa7vvJ8nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG5cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFVzZXJDb250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/UserController.js\n");

/***/ }),

/***/ "./src/common/ErrorHandle.js":
/*!***********************************!*\
  !*** ./src/common/ErrorHandle.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ((ctx, next) => {\n  return next().catch(err => {\n    if (401 == err.status) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        msg: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      // throw err; //错误信息存储再stack里\n      ctx.status = err.status || 500;\n      ctx.body = Object.assign({\n        code: 500,\n        msg: err.message\n      },  true ? {\n        stack: err.stack\n      } : undefined);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOlsiY3R4IiwibmV4dCIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiYm9keSIsImNvZGUiLCJtc2ciLCJPYmplY3QiLCJhc3NpZ24iLCJtZXNzYWdlIiwicHJvY2VzcyIsInN0YWNrIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFlLGdFQUFDQSxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUMxQixTQUFPQSxJQUFJLEdBQUdDLEtBQVAsQ0FBY0MsR0FBRCxJQUFTO0FBQ3pCLFFBQUksT0FBT0EsR0FBRyxDQUFDQyxNQUFmLEVBQXVCO0FBQ25CSixTQUFHLENBQUNJLE1BQUosR0FBYSxHQUFiO0FBQ0FKLFNBQUcsQ0FBQ0ssSUFBSixHQUFXO0FBQ1BDLFlBQUksRUFBRSxHQURDO0FBRVBDLFdBQUcsRUFBRTtBQUZFLE9BQVg7QUFJSCxLQU5ELE1BTU87QUFDSDtBQUNBUCxTQUFHLENBQUNJLE1BQUosR0FBYUQsR0FBRyxDQUFDQyxNQUFKLElBQWMsR0FBM0I7QUFDQUosU0FBRyxDQUFDSyxJQUFKLEdBQVdHLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQ3JCSCxZQUFJLEVBQUUsR0FEZTtBQUVyQkMsV0FBRyxFQUFFSixHQUFHLENBQUNPO0FBRlksT0FBZCxFQUdSQyxLQUFBLEdBQXlDO0FBQ3hDQyxhQUFLLEVBQUVULEdBQUcsQ0FBQ1M7QUFENkIsT0FBekMsR0FFQyxTQUxPLENBQVg7QUFNSDtBQUNKLEdBakJNLENBQVA7QUFrQkgsQ0FuQkQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKGN0eCwgbmV4dCkgPT4ge1xyXG4gICAgcmV0dXJuIG5leHQoKS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgaWYgKDQwMSA9PSBlcnIuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGN0eC5zdGF0dXMgPSA0MDE7XHJcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgICAgICAgICAgbXNnOiAnUHJvdGVjdGVkIHJlc291cmNlLCB1c2UgQXV0aG9yaXphdGlvbiBoZWFkZXIgdG8gZ2V0IGFjY2Vzc1xcbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRocm93IGVycjsgLy/plJnor6/kv6Hmga/lrZjlgqjlho1zdGFja+mHjFxyXG4gICAgICAgICAgICBjdHguc3RhdHVzID0gZXJyLnN0YXR1cyB8fCA1MDBcclxuICAgICAgICAgICAgY3R4LmJvZHkgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIG1zZzogZXJyLm1lc3NhZ2VcclxuICAgICAgICAgICAgfSwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB7XHJcbiAgICAgICAgICAgICAgICBzdGFjazogZXJyLnN0YWNrXHJcbiAgICAgICAgICAgIH0gOiB7fSlcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/ErrorHandle.js\n");

/***/ }),

/***/ "./src/common/utils.js":
/*!*****************************!*\
  !*** ./src/common/utils.js ***!
  \*****************************/
/*! exports provided: checkCode, getJWTpayload, dirExists */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCode\", function() { return checkCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getJWTpayload\", function() { return getJWTpayload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dirExists\", function() { return dirExists; });\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n //获取token的payload\n\nconst getJWTpayload = token => {\n  // console.log(token);\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.verify(token.split(' ')[1], _config_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].JWT_SECRET);\n}; //验证码的验证\n\n\nconst checkCode = async (key, value) => {\n  const redisData = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__[\"getValue\"])(key);\n\n  if (redisData != null) {\n    if (redisData.toLowerCase() === value.toLowerCase()) {\n      //转换小写，排除大小写得影响\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}; //验证文件是否存在 ，node自身fs库提供判断的方法\n// https://nodejs.org/docs/latest-v10.x/api/fs.html#fs_class_fs_stats\n\n\nconst dirExists = async dir => {\n  // 路径的判断\n  const isExists = await getStats(dir);\n  console.log('isExists', isExists); //如果该路径存在且不是文件，返回true\n\n  if (isExists && isExists.isDirectory()) {\n    return true;\n  } else if (isExists) {\n    // 路径存在，但是是false\n    return false;\n  } //如果该路径不存在\n\n\n  const tempDir = path__WEBPACK_IMPORTED_MODULE_4___default.a.parse(dir).dir;\n  console.log('tempDir', tempDir); // 循环遍历，递归判断如果上级目录不存在，则产生上级目录\n\n  const status = await dirExists(tempDir);\n  console.log('testatusmpDir', status);\n\n  if (status) {\n    const result = await mkdir(dir);\n    console.log('result', result);\n    return result;\n  } else {\n    return false;\n  }\n};\n\nconst getStats = async path => {\n  return new Promise(resolve => {\n    // fs.stats(path, (err, stats) => {\n    //     if (err) {\n    //         resolve(err)\n    //     } else {\n    //         resolve(stats)\n    //     }\n    // })\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.stat(path, (err, stats) => err ? resolve(false) : resolve(stats));\n  });\n};\n\nconst mkdir = async dir => {\n  return new Promise(resolve => {\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.mkdir(dir, err => err ? resolve(false) : resolve(true));\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3V0aWxzLmpzPzkwYjkiXSwibmFtZXMiOlsiZ2V0SldUcGF5bG9hZCIsInRva2VuIiwiand0IiwidmVyaWZ5Iiwic3BsaXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiY2hlY2tDb2RlIiwia2V5IiwidmFsdWUiLCJyZWRpc0RhdGEiLCJnZXRWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZGlyRXhpc3RzIiwiZGlyIiwiaXNFeGlzdHMiLCJnZXRTdGF0cyIsImNvbnNvbGUiLCJsb2ciLCJpc0RpcmVjdG9yeSIsInRlbXBEaXIiLCJwYXRoIiwicGFyc2UiLCJzdGF0dXMiLCJyZXN1bHQiLCJta2RpciIsIlByb21pc2UiLCJyZXNvbHZlIiwiZnMiLCJzdGF0IiwiZXJyIiwic3RhdHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0NBR0E7O0FBQ0EsTUFBTUEsYUFBYSxHQUFHQyxLQUFLLElBQUk7QUFDM0I7QUFDQSxTQUFPQyxtREFBRyxDQUFDQyxNQUFKLENBQVdGLEtBQUssQ0FBQ0csS0FBTixDQUFZLEdBQVosRUFBaUIsQ0FBakIsQ0FBWCxFQUFnQ0MscURBQU0sQ0FBQ0MsVUFBdkMsQ0FBUDtBQUNILENBSEQsQyxDQUtBOzs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxLQUFaLEtBQXNCO0FBQ3BDLFFBQU1DLFNBQVMsR0FBRyxNQUFNQyxvRUFBUSxDQUFDSCxHQUFELENBQWhDOztBQUNBLE1BQUlFLFNBQVMsSUFBSSxJQUFqQixFQUF1QjtBQUNuQixRQUFJQSxTQUFTLENBQUNFLFdBQVYsT0FBNEJILEtBQUssQ0FBQ0csV0FBTixFQUFoQyxFQUFxRDtBQUFFO0FBQ25ELGFBQU8sSUFBUDtBQUNILEtBRkQsTUFFTztBQUNILGFBQU8sS0FBUDtBQUNIO0FBQ0osR0FORCxNQU1PO0FBQ0gsV0FBTyxLQUFQO0FBQ0g7QUFDSixDQVhELEMsQ0FhQTtBQUNBOzs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0FBQzdCO0FBQ0EsUUFBTUMsUUFBUSxHQUFHLE1BQU1DLFFBQVEsQ0FBQ0YsR0FBRCxDQUEvQjtBQUNBRyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaLEVBQXdCSCxRQUF4QixFQUg2QixDQUs3Qjs7QUFDQSxNQUFJQSxRQUFRLElBQUlBLFFBQVEsQ0FBQ0ksV0FBVCxFQUFoQixFQUF3QztBQUNwQyxXQUFPLElBQVA7QUFDSCxHQUZELE1BRU8sSUFBSUosUUFBSixFQUFjO0FBQ2pCO0FBQ0EsV0FBTyxLQUFQO0FBQ0gsR0FYNEIsQ0FZN0I7OztBQUNBLFFBQU1LLE9BQU8sR0FBR0MsMkNBQUksQ0FBQ0MsS0FBTCxDQUFXUixHQUFYLEVBQWdCQSxHQUFoQztBQUNBRyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxTQUFaLEVBQXVCRSxPQUF2QixFQWQ2QixDQWdCN0I7O0FBQ0EsUUFBTUcsTUFBTSxHQUFHLE1BQU1WLFNBQVMsQ0FBQ08sT0FBRCxDQUE5QjtBQUNBSCxTQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaLEVBQTZCSyxNQUE3Qjs7QUFFQSxNQUFJQSxNQUFKLEVBQVk7QUFDUixVQUFNQyxNQUFNLEdBQUcsTUFBTUMsS0FBSyxDQUFDWCxHQUFELENBQTFCO0FBQ0FHLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBc0JNLE1BQXRCO0FBQ0EsV0FBT0EsTUFBUDtBQUNILEdBSkQsTUFJTztBQUNILFdBQU8sS0FBUDtBQUNIO0FBQ0osQ0EzQkQ7O0FBNEJBLE1BQU1SLFFBQVEsR0FBRyxNQUFPSyxJQUFQLElBQWdCO0FBQzdCLFNBQU8sSUFBSUssT0FBSixDQUFZQyxPQUFPLElBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUMsNkNBQUUsQ0FBQ0MsSUFBSCxDQUFRUixJQUFSLEVBQWMsQ0FBQ1MsR0FBRCxFQUFNQyxLQUFOLEtBQWdCRCxHQUFHLEdBQUdILE9BQU8sQ0FBQyxLQUFELENBQVYsR0FBb0JBLE9BQU8sQ0FBQ0ksS0FBRCxDQUE1RDtBQUNILEdBVE0sQ0FBUDtBQVVILENBWEQ7O0FBWUEsTUFBTU4sS0FBSyxHQUFHLE1BQU9YLEdBQVAsSUFBZTtBQUN6QixTQUFPLElBQUlZLE9BQUosQ0FBWUMsT0FBTyxJQUFJO0FBQzFCQyw2Q0FBRSxDQUFDSCxLQUFILENBQVNYLEdBQVQsRUFBY2dCLEdBQUcsSUFBSUEsR0FBRyxHQUFHSCxPQUFPLENBQUMsS0FBRCxDQUFWLEdBQW9CQSxPQUFPLENBQUMsSUFBRCxDQUFuRDtBQUNILEdBRk0sQ0FBUDtBQUdILENBSkQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIGdldFZhbHVlLFxyXG59IGZyb20gJ0AvY29uZmlnL1JlZGlzQ29uZmlnJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZy9pbmRleCdcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuXHJcbi8v6I635Y+WdG9rZW7nmoRwYXlsb2FkXHJcbmNvbnN0IGdldEpXVHBheWxvYWQgPSB0b2tlbiA9PiB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0b2tlbik7XHJcbiAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbi5zcGxpdCgnICcpWzFdLCBjb25maWcuSldUX1NFQ1JFVClcclxufVxyXG5cclxuLy/pqozor4HnoIHnmoTpqozor4FcclxuY29uc3QgY2hlY2tDb2RlID0gYXN5bmMgKGtleSwgdmFsdWUpID0+IHtcclxuICAgIGNvbnN0IHJlZGlzRGF0YSA9IGF3YWl0IGdldFZhbHVlKGtleSlcclxuICAgIGlmIChyZWRpc0RhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChyZWRpc0RhdGEudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKSkgeyAvL+i9rOaNouWwj+WGme+8jOaOkumZpOWkp+Wwj+WGmeW+l+W9seWTjVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbn1cclxuXHJcbi8v6aqM6K+B5paH5Lu25piv5ZCm5a2Y5ZyoIO+8jG5vZGXoh6rouqtmc+W6k+aPkOS+m+WIpOaWreeahOaWueazlVxyXG4vLyBodHRwczovL25vZGVqcy5vcmcvZG9jcy9sYXRlc3QtdjEwLngvYXBpL2ZzLmh0bWwjZnNfY2xhc3NfZnNfc3RhdHNcclxuY29uc3QgZGlyRXhpc3RzID0gYXN5bmMgKGRpcikgPT4ge1xyXG4gICAgLy8g6Lev5b6E55qE5Yik5patXHJcbiAgICBjb25zdCBpc0V4aXN0cyA9IGF3YWl0IGdldFN0YXRzKGRpcilcclxuICAgIGNvbnNvbGUubG9nKCdpc0V4aXN0cycsIGlzRXhpc3RzKTtcclxuXHJcbiAgICAvL+WmguaenOivpei3r+W+hOWtmOWcqOS4lOS4jeaYr+aWh+S7tu+8jOi/lOWbnnRydWVcclxuICAgIGlmIChpc0V4aXN0cyAmJiBpc0V4aXN0cy5pc0RpcmVjdG9yeSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gZWxzZSBpZiAoaXNFeGlzdHMpIHtcclxuICAgICAgICAvLyDot6/lvoTlrZjlnKjvvIzkvYbmmK/mmK9mYWxzZVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgLy/lpoLmnpzor6Xot6/lvoTkuI3lrZjlnKhcclxuICAgIGNvbnN0IHRlbXBEaXIgPSBwYXRoLnBhcnNlKGRpcikuZGlyXHJcbiAgICBjb25zb2xlLmxvZygndGVtcERpcicsIHRlbXBEaXIpO1xyXG5cclxuICAgIC8vIOW+queOr+mBjeWOhu+8jOmAkuW9kuWIpOaWreWmguaenOS4iue6p+ebruW9leS4jeWtmOWcqO+8jOWImeS6p+eUn+S4iue6p+ebruW9lVxyXG4gICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgZGlyRXhpc3RzKHRlbXBEaXIpXHJcbiAgICBjb25zb2xlLmxvZygndGVzdGF0dXNtcERpcicsIHN0YXR1cyk7XHJcblxyXG4gICAgaWYgKHN0YXR1cykge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1rZGlyKGRpcilcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGdldFN0YXRzID0gYXN5bmMgKHBhdGgpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAvLyBmcy5zdGF0cyhwYXRoLCAoZXJyLCBzdGF0cykgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXNvbHZlKGVycilcclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIHJlc29sdmUoc3RhdHMpXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KVxyXG4gICAgICAgIGZzLnN0YXQocGF0aCwgKGVyciwgc3RhdHMpID0+IGVyciA/IHJlc29sdmUoZmFsc2UpIDogcmVzb2x2ZShzdGF0cykpXHJcbiAgICB9KVxyXG59XHJcbmNvbnN0IG1rZGlyID0gYXN5bmMgKGRpcikgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIGZzLm1rZGlyKGRpciwgZXJyID0+IGVyciA/IHJlc29sdmUoZmFsc2UpIDogcmVzb2x2ZSh0cnVlKSlcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBjaGVja0NvZGUsXHJcbiAgICBnZXRKV1RwYXlsb2FkLFxyXG4gICAgZGlyRXhpc3RzXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/utils.js\n");

/***/ }),

/***/ "./src/config/DBHelpler.js":
/*!*********************************!*\
  !*** ./src/config/DBHelpler.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect(_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true //数据库字段中创建索引5.x版本以上调用的是ensureIndex()函数，开启使用createIndex()函数\n\n}); //连接成功\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('connected', () => {\n  console.log('Mongoose is Connection open to ' + _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL);\n}); // 连接异常\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('error', error => {\n  console.log('Mongoose is Connection error to ' + error);\n}); // 断开连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('disconnected', () => {\n  console.log('Mongoose is DisConnection error to ');\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (mongoose__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcz9lNjg0Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdCIsImNvbmZpZyIsIkRCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwiY29ubmVjdGlvbiIsIm9uIiwiY29uc29sZSIsImxvZyIsImVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQUEsK0NBQVEsQ0FBQ0MsT0FBVCxDQUFpQkMsOENBQU0sQ0FBQ0MsTUFBeEIsRUFBZ0M7QUFDNUJDLGlCQUFlLEVBQUUsSUFEVztBQUU1QkMsb0JBQWtCLEVBQUUsSUFGUTtBQUc1QkMsZ0JBQWMsRUFBRSxJQUhZLENBR1A7O0FBSE8sQ0FBaEMsRSxDQU1BOztBQUNBTiwrQ0FBUSxDQUFDTyxVQUFULENBQW9CQyxFQUFwQixDQUF1QixXQUF2QixFQUFvQyxNQUFNO0FBQ3RDQyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxvQ0FBb0NSLDhDQUFNLENBQUNDLE1BQXZEO0FBQ0gsQ0FGRCxFLENBR0E7O0FBQ0FILCtDQUFRLENBQUNPLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQWlDRyxLQUFELElBQVc7QUFDdkNGLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLHFDQUFxQ0MsS0FBakQ7QUFDSCxDQUZELEUsQ0FHQTs7QUFDQVgsK0NBQVEsQ0FBQ08sVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsY0FBdkIsRUFBdUMsTUFBTTtBQUN6Q0MsU0FBTyxDQUFDQyxHQUFSLENBQVkscUNBQVo7QUFDSCxDQUZEO0FBSWVWLDhHQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9EQkhlbHBsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9pbmRleCdcclxuXHJcbm1vbmdvb3NlLmNvbm5lY3QoY29uZmlnLkRCX1VSTCwge1xyXG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxyXG4gICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUgLy/mlbDmja7lupPlrZfmrrXkuK3liJvlu7rntKLlvJU1LnjniYjmnKzku6XkuIrosIPnlKjnmoTmmK9lbnN1cmVJbmRleCgp5Ye95pWw77yM5byA5ZCv5L2/55SoY3JlYXRlSW5kZXgoKeWHveaVsFxyXG59KVxyXG5cclxuLy/ov57mjqXmiJDlip9cclxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ01vbmdvb3NlIGlzIENvbm5lY3Rpb24gb3BlbiB0byAnICsgY29uZmlnLkRCX1VSTCk7XHJcbn0pXHJcbi8vIOi/nuaOpeW8guW4uFxyXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ01vbmdvb3NlIGlzIENvbm5lY3Rpb24gZXJyb3IgdG8gJyArIGVycm9yKTtcclxufSlcclxuLy8g5pat5byA6L+e5o6lXHJcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Rpc2Nvbm5lY3RlZCcsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdNb25nb29zZSBpcyBEaXNDb25uZWN0aW9uIGVycm9yIHRvICcpO1xyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/DBHelpler.js\n");

/***/ }),

/***/ "./src/config/MailConfig.js":
/*!**********************************!*\
  !*** ./src/config/MailConfig.js ***!
  \**********************************/
/*! exports provided: SendEmail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendEmail\", function() { return SendEmail; });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n // async..await is not allowed in global scope, must use a wrapper\n\nasync function SendEmail(sendInfo) {\n  console.log(sendInfo); // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  // 有真正得邮箱就省略\n  //   let testAccount = await nodemailer.createTestAccount();\n  // create reusable transporter object using the default SMTP transport\n\n  let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n    host: \"smtp.qq.com\",\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: '1641250803@qq.com',\n      // generated ethereal user  //配置了SMTP服务得邮箱\n      pass: 'otnwvaqcxpcgdbde' // generated ethereal password\n\n    }\n  });\n  /**\r\n   * 自定义配置\r\n   */\n  // let sendInfo = {\n  //     email: '1641250803@qq.com',\n  //     code: '123',\n  //     user: 'Sunnny',\n  //     expire: '2019-08-15'\n  // }\n\n  const baseUrl = _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].baseUrl;\n  const route = sendInfo.type === 'email' ? '/confirm' : '/reset';\n  let url = `${baseUrl}/#${route}?` + qs__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(sendInfo.data); // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    from: '\"认证邮件Fred Foo 👻\" <1641250803@qq.com>',\n    // sender address\n    to: sendInfo.email,\n    // list of receivers\n    subject: sendInfo.user !== '' && sendInfo.type !== 'email' ? `${sendInfo.user}您好，您正在注册Sunny社区,请及时注册` : '您好，您正在修改Sunny社区注册邮箱,请及谨慎',\n    // Subject line\n    text: `您在Sunny验证码为${sendInfo.code}，过期时间${sendInfo.expire}`,\n    // plain text body\n    html: `\n        <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">Sunny社区——欢迎来到官方社区</div>\n        <div style=\"padding: 25px\">\n          <div>您好，${sendInfo.user}童鞋，重置链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：</div>\n          <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">立即重置密码</a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n    </div>\n        ` // html body\n\n  });\n  return \"Message sent: %s\", info.messageId; // console.log(\"Message sent: %s\", info.messageId);\n  // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n  // Preview only available when sending through an Ethereal account\n  // console.log(\"Preview URL: %s\", nodemailer.getTestMessageUrl(info));\n  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n} // SendEmail().catch(console.error);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL01haWxDb25maWcuanM/MmRiMSJdLCJuYW1lcyI6WyJTZW5kRW1haWwiLCJzZW5kSW5mbyIsImNvbnNvbGUiLCJsb2ciLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsImJhc2VVcmwiLCJjb25maWciLCJyb3V0ZSIsInR5cGUiLCJ1cmwiLCJxcyIsInN0cmluZ2lmeSIsImRhdGEiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJ0ZXh0IiwiY29kZSIsImV4cGlyZSIsImh0bWwiLCJtZXNzYWdlSWQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtDQUVBOztBQUNBLGVBQWVBLFNBQWYsQ0FBeUJDLFFBQXpCLEVBQW1DO0FBQy9CQyxTQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBWixFQUQrQixDQUcvQjtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBLE1BQUlHLFdBQVcsR0FBR0MsaURBQVUsQ0FBQ0MsZUFBWCxDQUEyQjtBQUN6Q0MsUUFBSSxFQUFFLGFBRG1DO0FBRXpDQyxRQUFJLEVBQUUsR0FGbUM7QUFHekNDLFVBQU0sRUFBRSxLQUhpQztBQUcxQjtBQUNmQyxRQUFJLEVBQUU7QUFDRkMsVUFBSSxFQUFFLG1CQURKO0FBQ3lCO0FBQzNCQyxVQUFJLEVBQUUsa0JBRkosQ0FFd0I7O0FBRnhCO0FBSm1DLEdBQTNCLENBQWxCO0FBVUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxRQUFNQyxPQUFPLEdBQUdDLDhDQUFNLENBQUNELE9BQXZCO0FBQ0EsUUFBTUUsS0FBSyxHQUFHZCxRQUFRLENBQUNlLElBQVQsS0FBa0IsT0FBbEIsR0FBNEIsVUFBNUIsR0FBeUMsUUFBdkQ7QUFDQSxNQUFJQyxHQUFHLEdBQUksR0FBRUosT0FBUSxLQUFJRSxLQUFNLEdBQXJCLEdBQTBCRyx5Q0FBRSxDQUFDQyxTQUFILENBQWFsQixRQUFRLENBQUNtQixJQUF0QixDQUFwQyxDQTlCK0IsQ0FnQy9COztBQUNBLE1BQUlDLElBQUksR0FBRyxNQUFNakIsV0FBVyxDQUFDa0IsUUFBWixDQUFxQjtBQUNsQ0MsUUFBSSxFQUFFLHVDQUQ0QjtBQUNhO0FBQy9DQyxNQUFFLEVBQUV2QixRQUFRLENBQUN3QixLQUZxQjtBQUVkO0FBQ3BCQyxXQUFPLEVBQUV6QixRQUFRLENBQUNVLElBQVQsS0FBa0IsRUFBbEIsSUFBd0JWLFFBQVEsQ0FBQ2UsSUFBVCxLQUFrQixPQUExQyxHQUFxRCxHQUFHZixRQUFRLENBQUNVLElBQUssdUJBQXRFLEdBQStGLDBCQUh0RTtBQUdrRztBQUNwSWdCLFFBQUksRUFBRyxjQUFhMUIsUUFBUSxDQUFDMkIsSUFBSyxRQUFPM0IsUUFBUSxDQUFDNEIsTUFBTyxFQUp2QjtBQUkwQjtBQUM1REMsUUFBSSxFQUFHOzs7O29CQUlLN0IsUUFBUSxDQUFDVSxJQUFLLHFCQUFvQlYsUUFBUSxDQUFDNEIsTUFBTztxQkFDakRaLEdBQUk7Ozs7O1NBVmlCLENBZS9COztBQWYrQixHQUFyQixDQUFqQjtBQW1CQSxTQUFPLG9CQUFvQkksSUFBSSxDQUFDVSxTQUFoQyxDQXBEK0IsQ0FzRC9CO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDSCxDLENBRUQiLCJmaWxlIjoiLi9zcmMvY29uZmlnL01haWxDb25maWcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tIFwibm9kZW1haWxlclwiXHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vaW5kZXhcIjtcclxuaW1wb3J0IHFzIGZyb20gJ3FzJ1xyXG4vLyBhc3luYy4uYXdhaXQgaXMgbm90IGFsbG93ZWQgaW4gZ2xvYmFsIHNjb3BlLCBtdXN0IHVzZSBhIHdyYXBwZXJcclxuYXN5bmMgZnVuY3Rpb24gU2VuZEVtYWlsKHNlbmRJbmZvKSB7XHJcbiAgICBjb25zb2xlLmxvZyhzZW5kSW5mbyk7XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgdGVzdCBTTVRQIHNlcnZpY2UgYWNjb3VudCBmcm9tIGV0aGVyZWFsLmVtYWlsXHJcbiAgICAvLyBPbmx5IG5lZWRlZCBpZiB5b3UgZG9uJ3QgaGF2ZSBhIHJlYWwgbWFpbCBhY2NvdW50IGZvciB0ZXN0aW5nXHJcbiAgICAvLyDmnInnnJ/mraPlvpfpgq7nrrHlsLHnnIHnlaVcclxuICAgIC8vICAgbGV0IHRlc3RBY2NvdW50ID0gYXdhaXQgbm9kZW1haWxlci5jcmVhdGVUZXN0QWNjb3VudCgpO1xyXG5cclxuICAgIC8vIGNyZWF0ZSByZXVzYWJsZSB0cmFuc3BvcnRlciBvYmplY3QgdXNpbmcgdGhlIGRlZmF1bHQgU01UUCB0cmFuc3BvcnRcclxuICAgIGxldCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICAgICAgICBob3N0OiBcInNtdHAucXEuY29tXCIsXHJcbiAgICAgICAgcG9ydDogNTg3LFxyXG4gICAgICAgIHNlY3VyZTogZmFsc2UsIC8vIHRydWUgZm9yIDQ2NSwgZmFsc2UgZm9yIG90aGVyIHBvcnRzXHJcbiAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICB1c2VyOiAnMTY0MTI1MDgwM0BxcS5jb20nLCAvLyBnZW5lcmF0ZWQgZXRoZXJlYWwgdXNlciAgLy/phY3nva7kuoZTTVRQ5pyN5Yqh5b6X6YKu566xXHJcbiAgICAgICAgICAgIHBhc3M6ICdvdG53dmFxY3hwY2dkYmRlJywgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHBhc3N3b3JkXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Ieq5a6a5LmJ6YWN572uXHJcbiAgICAgKi9cclxuICAgIC8vIGxldCBzZW5kSW5mbyA9IHtcclxuICAgIC8vICAgICBlbWFpbDogJzE2NDEyNTA4MDNAcXEuY29tJyxcclxuICAgIC8vICAgICBjb2RlOiAnMTIzJyxcclxuICAgIC8vICAgICB1c2VyOiAnU3Vubm55JyxcclxuICAgIC8vICAgICBleHBpcmU6ICcyMDE5LTA4LTE1J1xyXG4gICAgLy8gfVxyXG4gICAgY29uc3QgYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsXHJcbiAgICBjb25zdCByb3V0ZSA9IHNlbmRJbmZvLnR5cGUgPT09ICdlbWFpbCcgPyAnL2NvbmZpcm0nIDogJy9yZXNldCdcclxuICAgIGxldCB1cmwgPSBgJHtiYXNlVXJsfS8jJHtyb3V0ZX0/YCArIHFzLnN0cmluZ2lmeShzZW5kSW5mby5kYXRhKVxyXG5cclxuICAgIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxyXG4gICAgbGV0IGluZm8gPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XHJcbiAgICAgICAgZnJvbTogJ1wi6K6k6K+B6YKu5Lu2RnJlZCBGb28g8J+Ru1wiIDwxNjQxMjUwODAzQHFxLmNvbT4nLCAvLyBzZW5kZXIgYWRkcmVzc1xyXG4gICAgICAgIHRvOiBzZW5kSW5mby5lbWFpbCwgLy8gbGlzdCBvZiByZWNlaXZlcnNcclxuICAgICAgICBzdWJqZWN0OiBzZW5kSW5mby51c2VyICE9PSAnJyAmJiBzZW5kSW5mby50eXBlICE9PSAnZW1haWwnID8gYCR7IHNlbmRJbmZvLnVzZXJ95oKo5aW977yM5oKo5q2j5Zyo5rOo5YaMU3VubnnnpL7ljLos6K+35Y+K5pe25rOo5YaMYCA6ICfmgqjlpb3vvIzmgqjmraPlnKjkv67mlLlTdW5ueeekvuWMuuazqOWGjOmCrueusSzor7flj4rosKjmhY4nLCAvLyBTdWJqZWN0IGxpbmVcclxuICAgICAgICB0ZXh0OiBg5oKo5ZyoU3Vubnnpqozor4HnoIHkuLoke3NlbmRJbmZvLmNvZGV977yM6L+H5pyf5pe26Ze0JHtzZW5kSW5mby5leHBpcmV9YCwgLy8gcGxhaW4gdGV4dCBib2R5XHJcbiAgICAgICAgaHRtbDogYFxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjO2NvbG9yOiAjNjc2NzY3O3dpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmctYm90dG9tOiA1MHB4O3Bvc2l0aW9uOiByZWxhdGl2ZTtcIj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiA2MHB4OyBiYWNrZ3JvdW5kOiAjMzkzZDQ5OyBsaW5lLWhlaWdodDogNjBweDsgY29sb3I6ICM1OGEzNmY7IGZvbnQtc2l6ZTogMThweDtwYWRkaW5nLWxlZnQ6IDEwcHg7XCI+U3VubnnnpL7ljLrigJTigJTmrKLov47mnaXliLDlrpjmlrnnpL7ljLo8L2Rpdj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMjVweFwiPlxyXG4gICAgICAgICAgPGRpdj7mgqjlpb3vvIwke3NlbmRJbmZvLnVzZXJ956ul6Z6L77yM6YeN572u6ZO+5o6l5pyJ5pWI5pe26Ze0MzDliIbpkp/vvIzor7flnKgke3NlbmRJbmZvLmV4cGlyZX3kuYvliY3ph43nva7mgqjnmoTlr4bnoIHvvJo8L2Rpdj5cclxuICAgICAgICAgIDxhIGhyZWY9XCIke3VybH1cIiBzdHlsZT1cInBhZGRpbmc6IDEwcHggMjBweDsgY29sb3I6ICNmZmY7IGJhY2tncm91bmQ6ICMwMDllOTQ7IGRpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW46IDE1cHggMDtcIj7nq4vljbPph43nva7lr4bnoIE8L2E+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogNXB4OyBiYWNrZ3JvdW5kOiAjZjJmMmYyO1wiPuWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAgjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmFmYWZhOyBjb2xvcjogI2I0YjRiNDt0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiA0NXB4OyBoZWlnaHQ6IDQ1cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgYm90dG9tOiAwO3dpZHRoOiAxMDAlO1wiPuezu+e7n+mCruS7tu+8jOivt+WLv+ebtOaOpeWbnuWkjTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICAgICAgYCwgLy8gaHRtbCBib2R5XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgcmV0dXJuIFwiTWVzc2FnZSBzZW50OiAlc1wiLCBpbmZvLm1lc3NhZ2VJZFxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKFwiTWVzc2FnZSBzZW50OiAlc1wiLCBpbmZvLm1lc3NhZ2VJZCk7XHJcbiAgICAvLyBNZXNzYWdlIHNlbnQ6IDxiNjU4ZjhjYS02Mjk2LWNjZjQtODMwNi04N2Q1N2EwYjQzMjFAZXhhbXBsZS5jb20+XHJcblxyXG4gICAgLy8gUHJldmlldyBvbmx5IGF2YWlsYWJsZSB3aGVuIHNlbmRpbmcgdGhyb3VnaCBhbiBFdGhlcmVhbCBhY2NvdW50XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIlByZXZpZXcgVVJMOiAlc1wiLCBub2RlbWFpbGVyLmdldFRlc3RNZXNzYWdlVXJsKGluZm8pKTtcclxuICAgIC8vIFByZXZpZXcgVVJMOiBodHRwczovL2V0aGVyZWFsLmVtYWlsL21lc3NhZ2UvV2FRS01nS2RkeFFEb291Li4uXHJcbn1cclxuXHJcbi8vIFNlbmRFbWFpbCgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIFNlbmRFbWFpbFxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/MailConfig.js\n");

/***/ }),

/***/ "./src/config/RedisConfig.js":
/*!***********************************!*\
  !*** ./src/config/RedisConfig.js ***!
  \***********************************/
/*! exports provided: client, getValue, getHvalue, setValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"client\", function() { return client; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValue\", function() { return getValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHvalue\", function() { return getHvalue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setValue\", function() { return setValue; });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n/* harmony import */ var tls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tls */ \"tls\");\n/* harmony import */ var tls__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tls__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst options = { // host: '192.168.10.133',\n  // port: 6379,\n  // password: 'root',\n  ..._index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].REDIS,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === \"ECONNREFUSED\") {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error(\"The server refused the connection\");\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error(\"Retry time exhausted\");\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n};\nconst client = redis__WEBPACK_IMPORTED_MODULE_0___default.a.createClient(options);\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value === null || value === '') {\n    return;\n  }\n\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      return client.set(key, value, 'EX', time);\n    } else {\n      return client.set(key, value);\n    }\n  } else if (typeof value === 'object') {\n    Object.keys(value).forEach(item => {\n      return client.hset(key, item, value[item], redis__WEBPACK_IMPORTED_MODULE_0___default.a.print);\n    });\n  }\n};\n\nconst {\n  promisify\n} = __webpack_require__(/*! util */ \"util\");\n\nconst getAsync = promisify(client.get).bind(client); // getAsync.then(console.log).catch(console.error);\n\nconst getValue = key => {\n  return getAsync(key);\n};\n\nconst getHvalue = key => {\n  return promisify(client.hgetall).bind(client)(key);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzP2I3ODkiXSwibmFtZXMiOlsib3B0aW9ucyIsImNvbmZpZyIsIlJFRElTIiwiZGV0ZWN0X2J1ZmZlcnMiLCJyZXRyeV9zdHJhdGVneSIsImVycm9yIiwiY29kZSIsIkVycm9yIiwidG90YWxfcmV0cnlfdGltZSIsImF0dGVtcHQiLCJ1bmRlZmluZWQiLCJNYXRoIiwibWluIiwiY2xpZW50IiwicmVkaXMiLCJjcmVhdGVDbGllbnQiLCJzZXRWYWx1ZSIsImtleSIsInZhbHVlIiwidGltZSIsInNldCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiaXRlbSIsImhzZXQiLCJwcmludCIsInByb21pc2lmeSIsInJlcXVpcmUiLCJnZXRBc3luYyIsImdldCIsImJpbmQiLCJnZXRWYWx1ZSIsImdldEh2YWx1ZSIsImhnZXRhbGwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBSUEsTUFBTUEsT0FBTyxHQUFHLEVBQ1o7QUFDQTtBQUNBO0FBQ0EsS0FBR0MsOENBQU0sQ0FBQ0MsS0FKRTtBQUtaQyxnQkFBYyxFQUFFLElBTEo7QUFNWkMsZ0JBQWMsRUFBRSxVQUFVSixPQUFWLEVBQW1CO0FBQy9CLFFBQUlBLE9BQU8sQ0FBQ0ssS0FBUixJQUFpQkwsT0FBTyxDQUFDSyxLQUFSLENBQWNDLElBQWQsS0FBdUIsY0FBNUMsRUFBNEQ7QUFDeEQ7QUFDQTtBQUNBLGFBQU8sSUFBSUMsS0FBSixDQUFVLG1DQUFWLENBQVA7QUFDSDs7QUFDRCxRQUFJUCxPQUFPLENBQUNRLGdCQUFSLEdBQTJCLE9BQU8sRUFBUCxHQUFZLEVBQTNDLEVBQStDO0FBQzNDO0FBQ0E7QUFDQSxhQUFPLElBQUlELEtBQUosQ0FBVSxzQkFBVixDQUFQO0FBQ0g7O0FBQ0QsUUFBSVAsT0FBTyxDQUFDUyxPQUFSLEdBQWtCLEVBQXRCLEVBQTBCO0FBQ3RCO0FBQ0EsYUFBT0MsU0FBUDtBQUNILEtBZDhCLENBZS9COzs7QUFDQSxXQUFPQyxJQUFJLENBQUNDLEdBQUwsQ0FBU1osT0FBTyxDQUFDUyxPQUFSLEdBQWtCLEdBQTNCLEVBQWdDLElBQWhDLENBQVA7QUFDSDtBQXZCVyxDQUFoQjtBQTBCQSxNQUFNSSxNQUFNLEdBQUdDLDRDQUFLLENBQUNDLFlBQU4sQ0FBbUJmLE9BQW5CLENBQWY7O0FBRUEsTUFBTWdCLFFBQVEsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEtBQU4sRUFBYUMsSUFBYixLQUFzQjtBQUNuQyxNQUFJLE9BQU9ELEtBQVAsS0FBaUIsV0FBakIsSUFBZ0NBLEtBQUssS0FBSyxJQUExQyxJQUFrREEsS0FBSyxLQUFLLEVBQWhFLEVBQW9FO0FBQ2hFO0FBQ0g7O0FBQ0QsTUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQzNCLFFBQUksT0FBT0MsSUFBUCxLQUFnQixXQUFwQixFQUFpQztBQUM3QixhQUFPTixNQUFNLENBQUNPLEdBQVAsQ0FBV0gsR0FBWCxFQUFnQkMsS0FBaEIsRUFBdUIsSUFBdkIsRUFBNkJDLElBQTdCLENBQVA7QUFDSCxLQUZELE1BRU87QUFDSCxhQUFPTixNQUFNLENBQUNPLEdBQVAsQ0FBV0gsR0FBWCxFQUFnQkMsS0FBaEIsQ0FBUDtBQUNIO0FBQ0osR0FORCxNQU1PLElBQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUNsQ0csVUFBTSxDQUFDQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE9BQW5CLENBQTJCQyxJQUFJLElBQUk7QUFDL0IsYUFBT1gsTUFBTSxDQUFDWSxJQUFQLENBQVlSLEdBQVosRUFBaUJPLElBQWpCLEVBQXVCTixLQUFLLENBQUNNLElBQUQsQ0FBNUIsRUFBb0NWLDRDQUFLLENBQUNZLEtBQTFDLENBQVA7QUFDSCxLQUZEO0FBR0g7QUFDSixDQWZEOztBQWlCQSxNQUFNO0FBQ0ZDO0FBREUsSUFFRkMsbUJBQU8sQ0FBQyxrQkFBRCxDQUZYOztBQUdBLE1BQU1DLFFBQVEsR0FBR0YsU0FBUyxDQUFDZCxNQUFNLENBQUNpQixHQUFSLENBQVQsQ0FBc0JDLElBQXRCLENBQTJCbEIsTUFBM0IsQ0FBakIsQyxDQUVBOztBQUNBLE1BQU1tQixRQUFRLEdBQUlmLEdBQUQsSUFBUztBQUN0QixTQUFPWSxRQUFRLENBQUNaLEdBQUQsQ0FBZjtBQUNILENBRkQ7O0FBSUEsTUFBTWdCLFNBQVMsR0FBSWhCLEdBQUQsSUFBUztBQUN2QixTQUFPVSxTQUFTLENBQUNkLE1BQU0sQ0FBQ3FCLE9BQVIsQ0FBVCxDQUEwQkgsSUFBMUIsQ0FBK0JsQixNQUEvQixFQUF1Q0ksR0FBdkMsQ0FBUDtBQUNILENBRkQiLCJmaWxlIjoiLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzIGZyb20gJ3JlZGlzJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vaW5kZXgnXHJcbmltcG9ydCB7XHJcbiAgICByb290Q2VydGlmaWNhdGVzXHJcbn0gZnJvbSAndGxzJztcclxuXHJcbmNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAvLyBob3N0OiAnMTkyLjE2OC4xMC4xMzMnLFxyXG4gICAgLy8gcG9ydDogNjM3OSxcclxuICAgIC8vIHBhc3N3b3JkOiAncm9vdCcsXHJcbiAgICAuLi5jb25maWcuUkVESVMsXHJcbiAgICBkZXRlY3RfYnVmZmVyczogdHJ1ZSxcclxuICAgIHJldHJ5X3N0cmF0ZWd5OiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zLmVycm9yICYmIG9wdGlvbnMuZXJyb3IuY29kZSA9PT0gXCJFQ09OTlJFRlVTRURcIikge1xyXG4gICAgICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIG9uIGEgc3BlY2lmaWMgZXJyb3IgYW5kIGZsdXNoIGFsbCBjb21tYW5kcyB3aXRoXHJcbiAgICAgICAgICAgIC8vIGEgaW5kaXZpZHVhbCBlcnJvclxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiVGhlIHNlcnZlciByZWZ1c2VkIHRoZSBjb25uZWN0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy50b3RhbF9yZXRyeV90aW1lID4gMTAwMCAqIDYwICogNjApIHtcclxuICAgICAgICAgICAgLy8gRW5kIHJlY29ubmVjdGluZyBhZnRlciBhIHNwZWNpZmljIHRpbWVvdXQgYW5kIGZsdXNoIGFsbCBjb21tYW5kc1xyXG4gICAgICAgICAgICAvLyB3aXRoIGEgaW5kaXZpZHVhbCBlcnJvclxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiUmV0cnkgdGltZSBleGhhdXN0ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLmF0dGVtcHQgPiAxMCkge1xyXG4gICAgICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIHdpdGggYnVpbHQgaW4gZXJyb3JcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVjb25uZWN0IGFmdGVyXHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKG9wdGlvbnMuYXR0ZW1wdCAqIDEwMCwgMzAwMCk7XHJcbiAgICB9LFxyXG59XHJcblxyXG5jb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucylcclxuXHJcbmNvbnN0IHNldFZhbHVlID0gKGtleSwgdmFsdWUsIHRpbWUpID0+IHtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRpbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQuc2V0KGtleSwgdmFsdWUsICdFWCcsIHRpbWUpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5zZXQoa2V5LCB2YWx1ZSlcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5oc2V0KGtleSwgaXRlbSwgdmFsdWVbaXRlbV0sIHJlZGlzLnByaW50KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHtcclxuICAgIHByb21pc2lmeVxyXG59ID0gcmVxdWlyZShcInV0aWxcIik7XHJcbmNvbnN0IGdldEFzeW5jID0gcHJvbWlzaWZ5KGNsaWVudC5nZXQpLmJpbmQoY2xpZW50KTtcclxuXHJcbi8vIGdldEFzeW5jLnRoZW4oY29uc29sZS5sb2cpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5jb25zdCBnZXRWYWx1ZSA9IChrZXkpID0+IHtcclxuICAgIHJldHVybiBnZXRBc3luYyhrZXkpXHJcbn1cclxuXHJcbmNvbnN0IGdldEh2YWx1ZSA9IChrZXkpID0+IHtcclxuICAgIHJldHVybiBwcm9taXNpZnkoY2xpZW50LmhnZXRhbGwpLmJpbmQoY2xpZW50KShrZXkpXHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBjbGllbnQsXHJcbiAgICBnZXRWYWx1ZSxcclxuICAgIGdldEh2YWx1ZSxcclxuICAgIHNldFZhbHVlLFxyXG5cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/RedisConfig.js\n");

/***/ }),

/***/ "./src/config/index.js":
/*!*****************************!*\
  !*** ./src/config/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DB_URL = 'mongodb://admin:admin@192.168.10.133/Sunny_forum';\nconst REDIS = {\n  host: \"192.168.10.133\",\n  port: 6379,\n  password: 'root'\n  /**\r\n   * 对于SECRET 可以选择以 mongodb 用户id + slat (盐) 再用 md5 等方式加密 最终形成一个密钥 md5(id+slat)\r\n   */\n\n};\nconst JWT_SECRET = 'Sunny-forum-secret';\nconst baseUrl =  false ? undefined : 'http://localhost:8080';\nconst uploadPath =  false ? undefined : path__WEBPACK_IMPORTED_MODULE_0___default.a.join(path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname), '../../public');\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  DB_URL,\n  REDIS,\n  JWT_SECRET,\n  baseUrl,\n  uploadPath\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\\\\config\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOlsiREJfVVJMIiwiUkVESVMiLCJob3N0IiwicG9ydCIsInBhc3N3b3JkIiwiSldUX1NFQ1JFVCIsImJhc2VVcmwiLCJwcm9jZXNzIiwidXBsb2FkUGF0aCIsInBhdGgiLCJqb2luIiwicmVzb2x2ZSIsIl9fZGlybmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxNQUFNQSxNQUFNLEdBQUcsa0RBQWY7QUFFQSxNQUFNQyxLQUFLLEdBQUc7QUFDVkMsTUFBSSxFQUFFLGdCQURJO0FBRVZDLE1BQUksRUFBRSxJQUZJO0FBR1ZDLFVBQVEsRUFBRTtBQUdkOzs7O0FBTmMsQ0FBZDtBQVNBLE1BQU1DLFVBQVUsR0FBRyxvQkFBbkI7QUFDQSxNQUFNQyxPQUFPLEdBQUdDLE1BQUEsR0FBd0MsU0FBeEMsR0FBdUUsdUJBQXZGO0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxNQUFBLEdBQXdDLFNBQXhDLEdBQXdERSwyQ0FBSSxDQUFDQyxJQUFMLENBQVVELDJDQUFJLENBQUNFLE9BQUwsQ0FBYUMsU0FBYixDQUFWLEVBQW1DLGNBQW5DLENBQTNFO0FBRWU7QUFDWFosUUFEVztBQUVYQyxPQUZXO0FBR1hJLFlBSFc7QUFJWEMsU0FKVztBQUtYRTtBQUxXLENBQWYsRSIsImZpbGUiOiIuL3NyYy9jb25maWcvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5jb25zdCBEQl9VUkwgPSAnbW9uZ29kYjovL2FkbWluOmFkbWluQDE5Mi4xNjguMTAuMTMzL1N1bm55X2ZvcnVtJ1xyXG5cclxuY29uc3QgUkVESVMgPSB7XHJcbiAgICBob3N0OiBcIjE5Mi4xNjguMTAuMTMzXCIsXHJcbiAgICBwb3J0OiA2Mzc5LFxyXG4gICAgcGFzc3dvcmQ6ICdyb290J1xyXG59XHJcblxyXG4vKipcclxuICog5a+55LqOU0VDUkVUIOWPr+S7pemAieaLqeS7pSBtb25nb2RiIOeUqOaIt2lkICsgc2xhdCAo55uQKSDlho3nlKggbWQ1IOetieaWueW8j+WKoOWvhiDmnIDnu4jlvaLmiJDkuIDkuKrlr4bpkqUgbWQ1KGlkK3NsYXQpXHJcbiAqL1xyXG5jb25zdCBKV1RfU0VDUkVUID0gJ1N1bm55LWZvcnVtLXNlY3JldCdcclxuY29uc3QgYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnaHR0cDovL3d3dy5zdW5ueV9mb3J1bS5jb20nIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCdcclxuY29uc3QgdXBsb2FkUGF0aCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnL2FwcC9wdWJsaWMnIDogcGF0aC5qb2luKHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUpLCAnLi4vLi4vcHVibGljJylcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIERCX1VSTCxcclxuICAgIFJFRElTLFxyXG4gICAgSldUX1NFQ1JFVCxcclxuICAgIGJhc2VVcmwsXHJcbiAgICB1cGxvYWRQYXRoXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/index.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa */ \"koa\");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! koa-helmet */ \"koa-helmet\");\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! koa-static */ \"koa-static\");\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routes/routes */ \"./src/routes/routes.js\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! koa-body */ \"koa-body\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! koa-json */ \"koa-json\");\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @koa/cors */ \"@koa/cors\");\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! koa-compose */ \"koa-compose\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! koa-compress */ \"koa-compress\");\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! koa-jwt */ \"koa-jwt\");\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./common/ErrorHandle */ \"./src/common/ErrorHandle.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a();\nconst isDevMode =  false ? undefined : true;\n/**\n * 定义鉴权路径\n */\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_10___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /^\\/login/]\n});\n/**\n * 使用koa-compose 集成中间件\n */\n\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_8___default()([koa_body__WEBPACK_IMPORTED_MODULE_5___default()({\n  multipart: true,\n  // encoding: \"utf-8\",\n  formidable: {\n    keepExtensions: true,\n    maxFieldsSize: 5 * 1024 * 1024\n  },\n  patchKoa: true,\n  onError: err => {\n    console.log('koabody TCL: err', err);\n  }\n}), koa_static__WEBPACK_IMPORTED_MODULE_3___default()(path__WEBPACK_IMPORTED_MODULE_1___default.a.join(__dirname, '../public')), _koa_cors__WEBPACK_IMPORTED_MODULE_7___default()(), koa_json__WEBPACK_IMPORTED_MODULE_6___default()({\n  pretty: false,\n  param: 'pretty'\n}), koa_helmet__WEBPACK_IMPORTED_MODULE_2___default()(), _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__[\"default\"], jwt]);\n\nif (!isDevMode) {\n  app.use(koa_compress__WEBPACK_IMPORTED_MODULE_9___default()());\n}\n\napp.use(middleware);\napp.use(Object(_routes_routes__WEBPACK_IMPORTED_MODULE_4__[\"default\"])());\napp.listen(3000);\n/* WEBPACK VAR INJECTION */}.call(this, \"src\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJhcHAiLCJrb2EiLCJpc0Rldk1vZGUiLCJwcm9jZXNzIiwiand0IiwiSnd0Iiwic2VjcmV0IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInVubGVzcyIsInBhdGgiLCJtaWRkbGV3YXJlIiwiY29tcG9zZSIsImtvYUJvZHkiLCJtdWx0aXBhcnQiLCJmb3JtaWRhYmxlIiwia2VlcEV4dGVuc2lvbnMiLCJtYXhGaWVsZHNTaXplIiwicGF0Y2hLb2EiLCJvbkVycm9yIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInN0YXRpY3MiLCJqb2luIiwiX19kaXJuYW1lIiwiY29ycyIsImpzb251dGlsIiwicHJldHR5IiwicGFyYW0iLCJoZWxtZXQiLCJFcnJvckhhbmRsZSIsInVzZSIsImNvbXByZXNzIiwicm91dGVyIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1BLEdBQUcsR0FBRyxJQUFJQywwQ0FBSixFQUFaO0FBRUEsTUFBTUMsU0FBUyxHQUFHQyxNQUFBLEdBQXdDLFNBQXhDLEdBQWdELElBQWxFO0FBRUE7Ozs7QUFHQSxNQUFNQyxHQUFHLEdBQUdDLCtDQUFHLENBQUM7QUFDWkMsUUFBTSxFQUFFQyxzREFBTSxDQUFDQztBQURILENBQUQsQ0FBSCxDQUVUQyxNQUZTLENBRUY7QUFDTkMsTUFBSSxFQUFFLENBQUMsV0FBRCxFQUFjLFVBQWQ7QUFEQSxDQUZFLENBQVo7QUFNQTs7OztBQUdBLE1BQU1DLFVBQVUsR0FBR0Msa0RBQU8sQ0FBQyxDQUN2QkMsK0NBQU8sQ0FBQztBQUNKQyxXQUFTLEVBQUUsSUFEUDtBQUVKO0FBQ0FDLFlBQVUsRUFBRTtBQUNSQyxrQkFBYyxFQUFFLElBRFI7QUFFUkMsaUJBQWEsRUFBRSxJQUFJLElBQUosR0FBVztBQUZsQixHQUhSO0FBT0pDLFVBQVEsRUFBRSxJQVBOO0FBUUpDLFNBQU8sRUFBRUMsR0FBRyxJQUFJO0FBQ1pDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaLEVBQWdDRixHQUFoQztBQUNIO0FBVkcsQ0FBRCxDQURnQixFQWF2QkcsaURBQU8sQ0FBQ2IsMkNBQUksQ0FBQ2MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFdBQXJCLENBQUQsQ0FiZ0IsRUFjdkJDLGdEQUFJLEVBZG1CLEVBZXZCQywrQ0FBUSxDQUFDO0FBQ0xDLFFBQU0sRUFBRSxLQURIO0FBRUxDLE9BQUssRUFBRTtBQUZGLENBQUQsQ0FmZSxFQW1CdkJDLGlEQUFNLEVBbkJpQixFQW9CdkJDLDREQXBCdUIsRUFxQnZCM0IsR0FyQnVCLENBQUQsQ0FBMUI7O0FBd0JBLElBQUksQ0FBQ0YsU0FBTCxFQUFnQjtBQUNaRixLQUFHLENBQUNnQyxHQUFKLENBQVFDLG1EQUFRLEVBQWhCO0FBQ0g7O0FBRURqQyxHQUFHLENBQUNnQyxHQUFKLENBQVFyQixVQUFSO0FBQ0FYLEdBQUcsQ0FBQ2dDLEdBQUosQ0FBUUUsOERBQU0sRUFBZDtBQUVBbEMsR0FBRyxDQUFDbUMsTUFBSixDQUFXLElBQVgsRSIsImZpbGUiOiIuL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBrb2EgZnJvbSAna29hJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBoZWxtZXQgZnJvbSAna29hLWhlbG1ldCdcbmltcG9ydCBzdGF0aWNzIGZyb20gJ2tvYS1zdGF0aWMnXG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVzL3JvdXRlcydcbmltcG9ydCBrb2FCb2R5IGZyb20gJ2tvYS1ib2R5J1xuaW1wb3J0IGpzb251dGlsIGZyb20gJ2tvYS1qc29uJ1xuaW1wb3J0IGNvcnMgZnJvbSAnQGtvYS9jb3JzJ1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAna29hLWNvbXBvc2UnXG5pbXBvcnQgY29tcHJlc3MgZnJvbSAna29hLWNvbXByZXNzJ1xuaW1wb3J0IEp3dCBmcm9tICdrb2Etand0J1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy9pbmRleCdcbmltcG9ydCBFcnJvckhhbmRsZSBmcm9tICcuL2NvbW1vbi9FcnJvckhhbmRsZSdcbmNvbnN0IGFwcCA9IG5ldyBrb2EoKVxuXG5jb25zdCBpc0Rldk1vZGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gZmFsc2UgOiB0cnVlXG5cbi8qKlxuICog5a6a5LmJ6Ym05p2D6Lev5b6EXG4gKi9cbmNvbnN0IGp3dCA9IEp3dCh7XG4gICAgc2VjcmV0OiBjb25maWcuSldUX1NFQ1JFVFxufSkudW5sZXNzKHtcbiAgICBwYXRoOiBbL15cXC9wdWJsaWMvLCAvXlxcL2xvZ2luL11cbn0pXG5cbi8qKlxuICog5L2/55Soa29hLWNvbXBvc2Ug6ZuG5oiQ5Lit6Ze05Lu2XG4gKi9cbmNvbnN0IG1pZGRsZXdhcmUgPSBjb21wb3NlKFtcbiAgICBrb2FCb2R5KHtcbiAgICAgICAgbXVsdGlwYXJ0OiB0cnVlLFxuICAgICAgICAvLyBlbmNvZGluZzogXCJ1dGYtOFwiLFxuICAgICAgICBmb3JtaWRhYmxlOiB7XG4gICAgICAgICAgICBrZWVwRXh0ZW5zaW9uczogdHJ1ZSxcbiAgICAgICAgICAgIG1heEZpZWxkc1NpemU6IDUgKiAxMDI0ICogMTAyNFxuICAgICAgICB9LFxuICAgICAgICBwYXRjaEtvYTogdHJ1ZSxcbiAgICAgICAgb25FcnJvcjogZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdrb2Fib2R5IFRDTDogZXJyJywgZXJyKVxuICAgICAgICB9XG4gICAgfSksXG4gICAgc3RhdGljcyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vcHVibGljJykpLFxuICAgIGNvcnMoKSxcbiAgICBqc29udXRpbCh7XG4gICAgICAgIHByZXR0eTogZmFsc2UsXG4gICAgICAgIHBhcmFtOiAncHJldHR5J1xuICAgIH0pLFxuICAgIGhlbG1ldCgpLFxuICAgIEVycm9ySGFuZGxlLFxuICAgIGp3dFxuXSlcblxuaWYgKCFpc0Rldk1vZGUpIHtcbiAgICBhcHAudXNlKGNvbXByZXNzKCkpXG59XG5cbmFwcC51c2UobWlkZGxld2FyZSlcbmFwcC51c2Uocm91dGVyKCkpXG5cbmFwcC5saXN0ZW4oMzAwMCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/model/Links.js":
/*!****************************!*\
  !*** ./src/model/Links.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst LinksSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'link'\n  },\n  created: {\n    type: Date\n  },\n  isTop: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: ''\n  }\n});\nLinksSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('links', LinksSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTGlua3MuanM/ZTMxMiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkxpbmtzU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwiZGVmYXVsdCIsImxpbmsiLCJjcmVhdGVkIiwiRGF0ZSIsImlzVG9wIiwic29ydCIsInByZSIsIm5leHQiLCJMaW5rcyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUM3QkcsT0FBSyxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBRHNCO0FBRTdCQyxNQUFJLEVBQUU7QUFBRUgsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FGdUI7QUFHN0JGLE1BQUksRUFBRTtBQUFFQSxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUh1QjtBQUk3QkUsU0FBTyxFQUFFO0FBQUVKLFFBQUksRUFBRUs7QUFBUixHQUpvQjtBQUs3QkMsT0FBSyxFQUFFO0FBQUVOLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBTHNCO0FBTTdCSyxNQUFJLEVBQUU7QUFBRVAsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekI7QUFOdUIsQ0FBWCxDQUFwQjtBQVNBSixXQUFXLENBQUNVLEdBQVosQ0FBZ0IsTUFBaEIsRUFBd0IsVUFBVUMsSUFBVixFQUFnQjtBQUN0QyxPQUFLTCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FJLE1BQUk7QUFDTCxDQUhEO0FBS0EsTUFBTUMsS0FBSyxHQUFHYix5REFBUSxDQUFDYyxLQUFULENBQWUsT0FBZixFQUF3QmIsV0FBeEIsQ0FBZDtBQUVlWSxvRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9MaW5rcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdAL2NvbmZpZy9EQkhlbHBsZXInXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBMaW5rc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxpbms6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2xpbmsnIH0sXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9LFxuICBpc1RvcDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHNvcnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9XG59KVxuXG5MaW5rc1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXG4gIG5leHQoKVxufSlcblxuY29uc3QgTGlua3MgPSBtb25nb29zZS5tb2RlbCgnbGlua3MnLCBMaW5rc1NjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgTGlua3NcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Links.js\n");

/***/ }),

/***/ "./src/model/Post.js":
/*!***************************!*\
  !*** ./src/model/Post.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  catalog: {\n    type: String\n  },\n  fav: {\n    type: String\n  },\n  isEnd: {\n    type: String,\n    default: '0'\n  },\n  reads: {\n    type: Number,\n    default: 0\n  },\n  answer: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  isTop: {\n    type: String,\n    default: '0'\n  },\n  sort: {\n    type: String,\n    default: 100\n  },\n  tags: {\n    type: Array,\n    default: [// {\n      //   name: '',\n      //   class: ''\n      // }\n    ]\n  }\n});\nPostSchema.virtual('user', {\n  ref: 'users',\n  localField: 'uid',\n  foreignField: '_id'\n});\nPostSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostSchema.statics = {\n  /**\n   * 获取文章列表数据\n   * @param {Object} options 筛选条件\n   * @param {String} sort 排序方式\n   * @param {Number} page 分页页数\n   * @param {Number} limit 分页条数\n   */\n  getList: function (options, sort, page, limit) {\n    return this.find(options).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit).populate({\n      path: 'uid',\n      select: 'name isVip pic'\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  },\n  getTopWeek: function () {\n    return this.find({\n      created: {\n        $gte: dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(7, 'days')\n      }\n    }, {\n      answer: 1,\n      title: 1\n    }).sort({\n      answer: -1\n    }).limit(15);\n  },\n  findByTid: function (id) {\n    return this.findOne({\n      _id: id\n    }).populate({\n      path: 'uid',\n      select: 'name pic isVip _id'\n    });\n  },\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  },\n  getHotPost: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).skip(limit * page).limit(limit).sort({\n      answer: -1\n    });\n  },\n  getHotPostCount: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).countDocuments();\n  }\n};\nconst PostModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post', PostSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (PostModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdC5qcz81OWM1Il0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiUG9zdFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJ0aXRsZSIsImNvbnRlbnQiLCJjcmVhdGVkIiwiRGF0ZSIsImNhdGFsb2ciLCJmYXYiLCJpc0VuZCIsImRlZmF1bHQiLCJyZWFkcyIsIk51bWJlciIsImFuc3dlciIsInN0YXR1cyIsImlzVG9wIiwic29ydCIsInRhZ3MiLCJBcnJheSIsInZpcnR1YWwiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwicHJlIiwibmV4dCIsInN0YXRpY3MiLCJnZXRMaXN0Iiwib3B0aW9ucyIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0IiwiY291bnRMaXN0IiwiY291bnREb2N1bWVudHMiLCJnZXRUb3BXZWVrIiwiJGd0ZSIsIm1vbWVudCIsInN1YnRyYWN0IiwiZmluZEJ5VGlkIiwiaWQiLCJmaW5kT25lIiwiX2lkIiwiZ2V0TGlzdEJ5VWlkIiwiY291bnRCeVVpZCIsImdldEhvdFBvc3QiLCJzdGFydCIsImVuZCIsInF1ZXJ5IiwiJGx0IiwiZ2V0SG90UG9zdENvdW50IiwiUG9zdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzVCRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FEdUI7QUFFNUJDLE9BQUssRUFBRTtBQUFFSCxRQUFJLEVBQUVDO0FBQVIsR0FGcUI7QUFHNUJHLFNBQU8sRUFBRTtBQUFFSixRQUFJLEVBQUVDO0FBQVIsR0FIbUI7QUFJNUJJLFNB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QUc7QUFBRTVDLGVBQU8sRUFBRTtBQUFFZ0MsY0FBSSxFQUFFVSxLQUFSO0FBQWVHLGFBQUcsRUFBRUY7QUFBcEI7QUFBWCxPQUFSO0FBQ0Q7O0FBQ0QsV0FBTyxLQUFLbkIsSUFBTCxDQUFVb0IsS0FBVixFQUFpQmQsY0FBakIsRUFBUDtBQUNEO0FBL0RrQixDQUFyQjtBQWtFQSxNQUFNaUIsU0FBUyxHQUFHdkQseURBQVEsQ0FBQ3dELEtBQVQsQ0FBZSxNQUFmLEVBQXVCdkQsVUFBdkIsQ0FBbEI7QUFFZXNELHdFQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL1Bvc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnQC9jb25maWcvREJIZWxwbGVyJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFBvc3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sXG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZyB9LFxuICBjb250ZW50OiB7IHR5cGU6IFN0cmluZyB9LFxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfSxcbiAgY2F0YWxvZzogeyB0eXBlOiBTdHJpbmcgfSxcbiAgZmF2OiB7IHR5cGU6IFN0cmluZyB9LFxuICBpc0VuZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LFxuICByZWFkczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcbiAgYW5zd2VyOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcbiAgaXNUb3A6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcbiAgc29ydDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IDEwMCB9LFxuICB0YWdzOiB7XG4gICAgdHlwZTogQXJyYXksXG4gICAgZGVmYXVsdDogW1xuICAgICAgLy8ge1xuICAgICAgLy8gICBuYW1lOiAnJyxcbiAgICAgIC8vICAgY2xhc3M6ICcnXG4gICAgICAvLyB9XG4gICAgXVxuICB9XG59KVxuXG5Qb3N0U2NoZW1hLnZpcnR1YWwoJ3VzZXInLCB7XG4gIHJlZjogJ3VzZXJzJyxcbiAgbG9jYWxGaWVsZDogJ3VpZCcsXG4gIGZvcmVpZ25GaWVsZDogJ19pZCdcbn0pXG5cblBvc3RTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgdGhpcy5jcmVhdGVkID0gbmV3IERhdGUoKVxuICBuZXh0KClcbn0pXG5cblBvc3RTY2hlbWEuc3RhdGljcyA9IHtcbiAgLyoqXG4gICAqIOiOt+WPluaWh+eroOWIl+ihqOaVsOaNrlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyDnrZvpgInmnaHku7ZcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNvcnQg5o6S5bqP5pa55byPXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlIOWIhumhtemhteaVsFxuICAgKiBAcGFyYW0ge051bWJlcn0gbGltaXQg5YiG6aG15p2h5pWwXG4gICAqL1xuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpXG4gICAgICAuc29ydCh7IFtzb3J0XTogLTEgfSlcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcbiAgICAgIC5saW1pdChsaW1pdClcbiAgICAgIC5wb3B1bGF0ZSh7XG4gICAgICAgIHBhdGg6ICd1aWQnLFxuICAgICAgICBzZWxlY3Q6ICduYW1lIGlzVmlwIHBpYydcbiAgICAgIH0pXG4gIH0sXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpLmNvdW50RG9jdW1lbnRzKClcbiAgfSxcbiAgZ2V0VG9wV2VlazogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoe1xuICAgICAgY3JlYXRlZDoge1xuICAgICAgICAkZ3RlOiBtb21lbnQoKS5zdWJ0cmFjdCg3LCAnZGF5cycpXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgYW5zd2VyOiAxLFxuICAgICAgdGl0bGU6IDFcbiAgICB9KS5zb3J0KHsgYW5zd2VyOiAtMSB9KVxuICAgICAgLmxpbWl0KDE1KVxuICB9LFxuICBmaW5kQnlUaWQ6IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiB0aGlzLmZpbmRPbmUoeyBfaWQ6IGlkIH0pLnBvcHVsYXRlKHtcbiAgICAgIHBhdGg6ICd1aWQnLFxuICAgICAgc2VsZWN0OiAnbmFtZSBwaWMgaXNWaXAgX2lkJ1xuICAgIH0pXG4gIH0sXG4gIGdldExpc3RCeVVpZDogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAubGltaXQobGltaXQpXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXG4gIH0sXG4gIGNvdW50QnlVaWQ6IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pLmNvdW50RG9jdW1lbnRzKClcbiAgfSxcbiAgZ2V0SG90UG9zdDogZnVuY3Rpb24gKHBhZ2UsIGxpbWl0LCBzdGFydCwgZW5kKSB7XG4gICAgbGV0IHF1ZXJ5ID0ge31cbiAgICBpZiAoc3RhcnQgIT09ICcnICYmIGVuZCAhPT0gJycpIHtcbiAgICAgIHF1ZXJ5ID0geyBjcmVhdGVkOiB7ICRndGU6IHN0YXJ0LCAkbHQ6IGVuZCB9IH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmluZChxdWVyeSlcbiAgICAgIC5za2lwKGxpbWl0ICogcGFnZSlcbiAgICAgIC5saW1pdChsaW1pdClcbiAgICAgIC5zb3J0KHsgYW5zd2VyOiAtMSB9KVxuICB9LFxuICBnZXRIb3RQb3N0Q291bnQ6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCwgc3RhcnQsIGVuZCkge1xuICAgIGxldCBxdWVyeSA9IHt9XG4gICAgaWYgKHN0YXJ0ICE9PSAnJyAmJiBlbmQgIT09ICcnKSB7XG4gICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBzdGFydCwgJGx0OiBlbmQgfSB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZpbmQocXVlcnkpLmNvdW50RG9jdW1lbnRzKClcbiAgfVxufVxuXG5jb25zdCBQb3N0TW9kZWwgPSBtb25nb29zZS5tb2RlbCgncG9zdCcsIFBvc3RTY2hlbWEpXG5cbmV4cG9ydCBkZWZhdWx0IFBvc3RNb2RlbFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/Post.js\n");

/***/ }),

/***/ "./src/model/PostTags.js":
/*!*******************************!*\
  !*** ./src/model/PostTags.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostTagsSchema = new Schema({\n  tagName: {\n    type: String,\n    default: ''\n  },\n  tagClass: {\n    type: String,\n    default: ''\n  }\n});\nPostTagsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostTagsSchema.statics = {\n  getList: function (options, page, limit) {\n    return this.find(options).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  }\n};\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post_tags', PostTagsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdFRhZ3MuanM/Y2ZjZiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlBvc3RUYWdzU2NoZW1hIiwidGFnTmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwidGFnQ2xhc3MiLCJwcmUiLCJuZXh0IiwiY3JlYXRlZCIsIkRhdGUiLCJzdGF0aWNzIiwiZ2V0TGlzdCIsIm9wdGlvbnMiLCJwYWdlIiwibGltaXQiLCJmaW5kIiwic2tpcCIsInNvcnQiLCJjb3VudExpc3QiLCJjb3VudERvY3VtZW50cyIsIkxpbmtzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxTQUFPLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FEdUI7QUFFaENDLFVBQVEsRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QjtBQUZzQixDQUFYLENBQXZCO0FBS0FKLGNBQWMsQ0FBQ00sR0FBZixDQUFtQixNQUFuQixFQUEyQixVQUFVQyxJQUFWLEVBQWdCO0FBQ3pDLE9BQUtDLE9BQUwsR0FBZSxJQUFJQyxJQUFKLEVBQWY7QUFDQUYsTUFBSTtBQUNMLENBSEQ7QUFLQVAsY0FBYyxDQUFDVSxPQUFmLEdBQXlCO0FBQ3ZCQyxTQUFPLEVBQUUsVUFBVUMsT0FBVixFQUFtQkMsSUFBbkIsRUFBeUJDLEtBQXpCLEVBQWdDO0FBQ3ZDLFdBQU8sS0FBS0MsSUFBTCxDQUFVSCxPQUFWLEVBQ0pJLElBREksQ0FDQ0gsSUFBSSxHQUFHQyxLQURSLEVBRUpBLEtBRkksQ0FFRUEsS0FGRixFQUdKRyxJQUhJLENBR0M7QUFBRVQsYUFBTyxFQUFFLENBQUM7QUFBWixLQUhELENBQVA7QUFJRCxHQU5zQjtBQU92QlUsV0FBUyxFQUFFLFVBQVVOLE9BQVYsRUFBbUI7QUFDNUIsV0FBTyxLQUFLRyxJQUFMLENBQVVILE9BQVYsRUFBbUJPLGNBQW5CLEVBQVA7QUFDRDtBQVRzQixDQUF6QjtBQVlBLE1BQU1DLEtBQUssR0FBR3JCLHlEQUFRLENBQUNzQixLQUFULENBQWUsV0FBZixFQUE0QnJCLGNBQTVCLENBQWQ7QUFFZW9CLG9FQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL1Bvc3RUYWdzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ0AvY29uZmlnL0RCSGVscGxlcidcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFBvc3RUYWdzU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHRhZ05hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICB0YWdDbGFzczogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH1cbn0pXG5cblBvc3RUYWdzU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgbmV4dCgpXG59KVxuXG5Qb3N0VGFnc1NjaGVtYS5zdGF0aWNzID0ge1xuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgcGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAubGltaXQobGltaXQpXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXG4gIH0sXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpLmNvdW50RG9jdW1lbnRzKClcbiAgfVxufVxuXG5jb25zdCBMaW5rcyA9IG1vbmdvb3NlLm1vZGVsKCdwb3N0X3RhZ3MnLCBQb3N0VGFnc1NjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgTGlua3NcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/PostTags.js\n");

/***/ }),

/***/ "./src/model/SignRecord.js":
/*!*********************************!*\
  !*** ./src/model/SignRecord.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst SignRecordSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  // ref 与users表对应\n  created: {\n    type: Date\n  },\n  favs: {\n    type: Number\n  } // no need\n  // lastSign: {\n  //     type: Date\n  // }\n\n});\nSignRecordSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nSignRecordSchema.statics = {\n  findByUid: function (uid) {\n    return this.findOne({\n      uid: uid\n    }).sort({\n      created: -1\n    });\n  }\n};\nconst SignRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('sign_record', SignRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SignRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcz83YzliIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiU2lnblJlY29yZFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJjcmVhdGVkIiwiRGF0ZSIsImZhdnMiLCJOdW1iZXIiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0Iiwic3RhdGljcyIsImZpbmRCeVVpZCIsImZpbmRPbmUiLCJzb3J0IiwiU2lnblJlY29yZCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsZ0JBQWdCLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxLQUFHLEVBQUU7QUFDREMsUUFBSSxFQUFFQyxNQURMO0FBRURDLE9BQUcsRUFBRTtBQUZKLEdBRDJCO0FBSTdCO0FBQ0hDLFNBQU8sRUFBRTtBQUNMSCxRQUFJLEVBQUVJO0FBREQsR0FMdUI7QUFRaENDLE1BQUksRUFBRTtBQUNGTCxRQUFJLEVBQUVNO0FBREosR0FSMEIsQ0FXaEM7QUFDQTtBQUNBO0FBQ0E7O0FBZGdDLENBQVgsQ0FBekI7QUFpQkFSLGdCQUFnQixDQUFDUyxHQUFqQixDQUFxQixNQUFyQixFQUE2QixVQUFVQyxJQUFWLEVBQWdCO0FBQ3pDLE9BQUtMLE9BQUwsR0FBZU0sNENBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ1AsQ0FIRDtBQU1BVixnQkFBZ0IsQ0FBQ2EsT0FBakIsR0FBMkI7QUFDdkJDLFdBQVMsRUFBRSxVQUFVYixHQUFWLEVBQWU7QUFDdEIsV0FBTyxLQUFLYyxPQUFMLENBQWE7QUFDaEJkLFNBQUcsRUFBRUE7QUFEVyxLQUFiLEVBRUplLElBRkksQ0FFQztBQUNKWCxhQUFPLEVBQUUsQ0FBQztBQUROLEtBRkQsQ0FBUDtBQUtIO0FBUHNCLENBQTNCO0FBV0EsTUFBTVksVUFBVSxHQUFHbEIseURBQVEsQ0FBQ21CLEtBQVQsQ0FBZSxhQUFmLEVBQThCbEIsZ0JBQTlCLENBQW5CO0FBRWVpQix5RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9TaWduUmVjb3JkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IFNpZ25SZWNvcmRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVpZDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZWY6ICd1c2VycydcclxuICAgIH0sIC8vIHJlZiDkuI51c2Vyc+ihqOWvueW6lFxyXG4gICAgY3JlYXRlZDoge1xyXG4gICAgICAgIHR5cGU6IERhdGVcclxuICAgIH0sXHJcbiAgICBmYXZzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyXHJcbiAgICB9LFxyXG4gICAgLy8gbm8gbmVlZFxyXG4gICAgLy8gbGFzdFNpZ246IHtcclxuICAgIC8vICAgICB0eXBlOiBEYXRlXHJcbiAgICAvLyB9XHJcbn0pXHJcblxyXG5TaWduUmVjb3JkU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgbmV4dCgpXHJcbn0pXHJcblxyXG5cclxuU2lnblJlY29yZFNjaGVtYS5zdGF0aWNzID0ge1xyXG4gICAgZmluZEJ5VWlkOiBmdW5jdGlvbiAodWlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIHVpZDogdWlkXHJcbiAgICAgICAgfSkuc29ydCh7XHJcbiAgICAgICAgICAgIGNyZWF0ZWQ6IC0xXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNvbnN0IFNpZ25SZWNvcmQgPSBtb25nb29zZS5tb2RlbCgnc2lnbl9yZWNvcmQnLCBTaWduUmVjb3JkU2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2lnblJlY29yZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/SignRecord.js\n");

/***/ }),

/***/ "./src/model/UserCollect.js":
/*!**********************************!*\
  !*** ./src/model/UserCollect.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserCollectSchema = new Schema({\n  uid: {\n    type: String\n  },\n  tid: {\n    type: String\n  },\n  title: {\n    type: String\n  },\n  created: {\n    type: Date\n  }\n});\nUserCollectSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nUserCollectSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nUserCollectSchema.statics = {\n  // 查询特定用户的收藏数据\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  // 查询总数\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  }\n};\nconst UserCollect = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('user_collect', UserCollectSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserCollect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanM/ODE5OCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb29nb29zZSIsIlVzZXJDb2xsZWN0U2NoZW1hIiwidWlkIiwidHlwZSIsIlN0cmluZyIsInRpZCIsInRpdGxlIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJnZXRMaXN0QnlVaWQiLCJpZCIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNvdW50QnlVaWQiLCJjb3VudERvY3VtZW50cyIsIlVzZXJDb2xsZWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxpQkFBaUIsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDakNHLEtBQUcsRUFBRTtBQUNEQyxRQUFJLEVBQUVDO0FBREwsR0FENEI7QUFJakNDLEtBQUcsRUFBRTtBQUNERixRQUFJLEVBQUVDO0FBREwsR0FKNEI7QUFPakNFLE9BQUssRUFBRTtBQUNISCxRQUFJLEVBQUVDO0FBREgsR0FQMEI7QUFVakNHLFNBQU8sRUFBRTtBQUNMSixRQUFJLEVBQUVLO0FBREQ7QUFWd0IsQ0FBWCxDQUExQjtBQWVBUCxpQkFBaUIsQ0FBQ1EsR0FBbEIsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVUMsSUFBVixFQUFnQjtBQUMxQyxPQUFLSCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FFLE1BQUk7QUFDUCxDQUhEO0FBS0FULGlCQUFpQixDQUFDVSxJQUFsQixDQUF1QixNQUF2QixFQUErQixVQUFVQyxLQUFWLEVBQWlCQyxHQUFqQixFQUFzQkgsSUFBdEIsRUFBNEI7QUFDdkQsTUFBSUUsS0FBSyxDQUFDRSxJQUFOLEtBQWUsWUFBZixJQUErQkYsS0FBSyxDQUFDRyxJQUFOLEtBQWUsS0FBbEQsRUFBeUQ7QUFDckRMLFFBQUksQ0FBQyxJQUFJTSxLQUFKLENBQVUsaUNBQVYsQ0FBRCxDQUFKO0FBQ0gsR0FGRCxNQUVPO0FBQ0hOLFFBQUksQ0FBQ0UsS0FBRCxDQUFKO0FBQ0g7QUFDSixDQU5EO0FBUUFYLGlCQUFpQixDQUFDZ0IsT0FBbEIsR0FBNEI7QUFDeEI7QUFDQUMsY0FBWSxFQUFFLFVBQVVDLEVBQVYsRUFBY0MsSUFBZCxFQUFvQkMsS0FBcEIsRUFBMkI7QUFDckMsV0FBTyxLQUFLQyxJQUFMLENBQVU7QUFDVHBCLFNBQUcsRUFBRWlCO0FBREksS0FBVixFQUdGSSxJQUhFLENBR0dGLEtBQUssR0FBR0QsSUFIWCxFQUlGQyxLQUpFLENBSUlBLEtBSkosRUFLRkcsSUFMRSxDQUtHO0FBQ0ZqQixhQUFPLEVBQUUsQ0FBQztBQURSLEtBTEgsQ0FBUDtBQVFILEdBWHVCO0FBWXhCO0FBQ0FrQixZQUFVLEVBQUUsVUFBVU4sRUFBVixFQUFjO0FBQ3RCLFdBQU8sS0FBS0csSUFBTCxDQUFVO0FBQ2JwQixTQUFHLEVBQUVpQjtBQURRLEtBQVYsRUFFSk8sY0FGSSxFQUFQO0FBR0g7QUFqQnVCLENBQTVCO0FBb0JBLE1BQU1DLFdBQVcsR0FBRzNCLHlEQUFRLENBQUM0QixLQUFULENBQWUsY0FBZixFQUErQjNCLGlCQUEvQixDQUFwQjtBQUVlMEIsMEVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcblxuY29uc3QgU2NoZW1hID0gbW9vZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFVzZXJDb2xsZWN0U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdWlkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgdGlkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjcmVhdGVkOiB7XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICB9XG59KVxuXG5Vc2VyQ29sbGVjdFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICAgIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgICBuZXh0KClcbn0pXG5cblVzZXJDb2xsZWN0U2NoZW1hLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xuICAgIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcbiAgICAgICAgbmV4dChuZXcgRXJyb3IoJ1RoZXJlIHdhcyBhIGR1cGxpY2F0ZSBrZXkgZXJyb3InKSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0KGVycm9yKVxuICAgIH1cbn0pXG5cblVzZXJDb2xsZWN0U2NoZW1hLnN0YXRpY3MgPSB7XG4gICAgLy8g5p+l6K+i54m55a6a55So5oi355qE5pS26JeP5pWw5o2uXG4gICAgZ2V0TGlzdEJ5VWlkOiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQoe1xuICAgICAgICAgICAgICAgIHVpZDogaWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2tpcChsaW1pdCAqIHBhZ2UpXG4gICAgICAgICAgICAubGltaXQobGltaXQpXG4gICAgICAgICAgICAuc29ydCh7XG4gICAgICAgICAgICAgICAgY3JlYXRlZDogLTFcbiAgICAgICAgICAgIH0pXG4gICAgfSxcbiAgICAvLyDmn6Xor6LmgLvmlbBcbiAgICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZCh7XG4gICAgICAgICAgICB1aWQ6IGlkXG4gICAgICAgIH0pLmNvdW50RG9jdW1lbnRzKClcbiAgICB9XG59XG5cbmNvbnN0IFVzZXJDb2xsZWN0ID0gbW9vZ29vc2UubW9kZWwoJ3VzZXJfY29sbGVjdCcsIFVzZXJDb2xsZWN0U2NoZW1hKVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyQ29sbGVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/UserCollect.js\n");

/***/ }),

/***/ "./src/model/user.js":
/*!***************************!*\
  !*** ./src/model/user.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n// Mongooseæµ‹è¯•\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserSchema = new Schema({\n  username: {\n    type: String,\n    index: {\n      unique: true\n    },\n    sparse: true\n  },\n  password: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  updated: {\n    type: Date\n  },\n  favs: {\n    type: Number,\n    default: 100\n  },\n  gender: {\n    type: String,\n    default: ''\n  },\n  roles: {\n    type: Array,\n    default: ['user']\n  },\n  pic: {\n    type: String,\n    default: '/img/header.jpg'\n  },\n  mobile: {\n    type: String,\n    match: /^1[3-9](\\d{9})$/,\n    default: ''\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  regmark: {\n    type: String,\n    default: ''\n  },\n  location: {\n    type: String,\n    default: ''\n  },\n  isVip: {\n    type: String,\n    default: '0'\n  },\n  count: {\n    type: Number,\n    default: 0\n  }\n}); // pre 前置的钩子 post 后置的钩子\n\nUserSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nUserSchema.post('save', function (error, doc, next) {\n  console.log('UserSchema.post(save) Error', error);\n\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('Error:Mongoose has a duplicate key'));\n  } else {\n    next(error);\n  }\n});\nUserSchema.pre('update', function (next) {\n  this.update = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n}); // 向由该 schema 编译生成的 Model 添加静态类方法\n// 本例中第二个参数为查询出的数据过滤信息 0为不查询\n\nUserSchema.statics = {\n  findByID: function (id) {\n    return this.findOne({\n      _id: id\n    }, {\n      password: 0,\n      username: 0,\n      mobile: 0\n    });\n  },\n  findByName: function (username, callback) {\n    return this.findOne({\n      username: username\n    }, {\n      password: 0 // 0 代表过滤掉该属性返回\n\n    });\n  }\n};\nconst UserModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('users', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvdXNlci5qcz83YmVlIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsImluZGV4IiwidW5pcXVlIiwic3BhcnNlIiwicGFzc3dvcmQiLCJuYW1lIiwiY3JlYXRlZCIsIkRhdGUiLCJ1cGRhdGVkIiwiZmF2cyIsIk51bWJlciIsImRlZmF1bHQiLCJnZW5kZXIiLCJyb2xlcyIsIkFycmF5IiwicGljIiwibW9iaWxlIiwibWF0Y2giLCJzdGF0dXMiLCJyZWdtYXJrIiwibG9jYXRpb24iLCJpc1ZpcCIsImNvdW50IiwicHJlIiwibmV4dCIsIm1vbWVudCIsImZvcm1hdCIsInBvc3QiLCJlcnJvciIsImRvYyIsImNvbnNvbGUiLCJsb2ciLCJjb2RlIiwiRXJyb3IiLCJ1cGRhdGUiLCJzdGF0aWNzIiwiZmluZEJ5SUQiLCJpZCIsImZpbmRPbmUiLCJfaWQiLCJmaW5kQnlOYW1lIiwiY2FsbGJhY2siLCJVc2VyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBR0EsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUMxQkcsVUFBUSxFQUFFO0FBQ05DLFFBQUksRUFBRUMsTUFEQTtBQUVOQyxTQUFLLEVBQUU7QUFDSEMsWUFBTSxFQUFFO0FBREwsS0FGRDtBQUtOQyxVQUFNLEVBQUU7QUFMRixHQURnQjtBQVExQkMsVUFBUSxFQUFFO0FBQ05MLFFBQUksRUFBRUM7QUFEQSxHQVJnQjtBQVcxQkssTUFBSSxFQUFFO0FBQ0ZOLFFBQUksRUFBRUM7QUFESixHQVhvQjtBQWMxQk0sU0FBTyxFQUFFO0FBQ0xQLFFBQUksRUFBRVE7QUFERCxHQWRpQjtBQWlCMUJDLFNBQU8sRUFBRTtBQUNMVCxRQUFJLEVBQUVRO0FBREQsR0FqQmlCO0FBb0IxQkUsTUFBSSxFQUFFO0FBQ0ZWLFFBQUksRUFBRVcsTUFESjtBQUVGQyxXQUFPLEVBQUU7QUFGUCxHQXBCb0I7QUF3QjFCQyxRQUFNLEVBQUU7QUFDSmIsUUFBSSxFQUFFQyxNQURGO0FBRUpXLFdBQU8sRUFBRTtBQUZMLEdBeEJrQjtBQTRCMUJFLE9BQUssRUFBRTtBQUNIZCxRQUFJLEVBQUVlLEtBREg7QUFFSEgsV0FBTyxFQUFFLENBQUMsTUFBRDtBQUZOLEdBNUJtQjtBQWdDMUJJLEtBQUcsRUFBRTtBQUNEaEIsUUFBSSxFQUFFQyxNQURMO0FBRURXLFdBQU8sRUFBRTtBQUZSLEdBaENxQjtBQW9DMUJLLFFBQU0sRUFBRTtBQUNKakIsUUFBSSxFQUFFQyxNQURGO0FBRUppQixTQUFLLEVBQUUsaUJBRkg7QUFHSk4sV0FBTyxFQUFFO0FBSEwsR0FwQ2tCO0FBeUMxQk8sUUFBTSxFQUFFO0FBQ0puQixRQUFJLEVBQUVDLE1BREY7QUFFSlcsV0FBTyxFQUFFO0FBRkwsR0F6Q2tCO0FBNkMxQlEsU0FBTyxFQUFFO0FBQ0xwQixRQUFJLEVBQUVDLE1BREQ7QUFFTFcsV0FBTyxFQUFFO0FBRkosR0E3Q2lCO0FBaUQxQlMsVUFBUSxFQUFFO0FBQ05yQixRQUFJLEVBQUVDLE1BREE7QUFFTlcsV0FBTyxFQUFFO0FBRkgsR0FqRGdCO0FBcUQxQlUsT0FBSyxFQUFFO0FBQ0h0QixRQUFJLEVBQUVDLE1BREg7QUFFSFcsV0FBTyxFQUFFO0FBRk4sR0FyRG1CO0FBeUQxQlcsT0FBSyxFQUFFO0FBQ0h2QixRQUFJLEVBQUVXLE1BREg7QUFFSEMsV0FBTyxFQUFFO0FBRk47QUF6RG1CLENBQVgsQ0FBbkIsQyxDQStEQTs7QUFDQWQsVUFBVSxDQUFDMEIsR0FBWCxDQUFlLE1BQWYsRUFBdUIsVUFBVUMsSUFBVixFQUFnQjtBQUNuQyxPQUFLbEIsT0FBTCxHQUFlbUIsNENBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ1AsQ0FIRDtBQUlBM0IsVUFBVSxDQUFDOEIsSUFBWCxDQUFnQixNQUFoQixFQUF3QixVQUFVQyxLQUFWLEVBQWlCQyxHQUFqQixFQUFzQkwsSUFBdEIsRUFBNEI7QUFDaERNLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLDZCQUFaLEVBQTJDSCxLQUEzQzs7QUFFQSxNQUFJQSxLQUFLLENBQUN2QixJQUFOLEtBQWUsWUFBZixJQUErQnVCLEtBQUssQ0FBQ0ksSUFBTixLQUFlLEtBQWxELEVBQXlEO0FBQ3JEUixRQUFJLENBQUMsSUFBSVMsS0FBSixDQUFVLG9DQUFWLENBQUQsQ0FBSjtBQUNILEdBRkQsTUFFTztBQUNIVCxRQUFJLENBQUNJLEtBQUQsQ0FBSjtBQUNIO0FBQ0osQ0FSRDtBQVNBL0IsVUFBVSxDQUFDMEIsR0FBWCxDQUFlLFFBQWYsRUFBeUIsVUFBVUMsSUFBVixFQUFnQjtBQUNyQyxPQUFLVSxNQUFMLEdBQWNULDRDQUFNLEdBQUdDLE1BQVQsQ0FBZ0IscUJBQWhCLENBQWQ7QUFDQUYsTUFBSTtBQUNQLENBSEQsRSxDQUtBO0FBQ0E7O0FBQ0EzQixVQUFVLENBQUNzQyxPQUFYLEdBQXFCO0FBQ2pCQyxVQUFRLEVBQUUsVUFBVUMsRUFBVixFQUFjO0FBQ3BCLFdBQU8sS0FBS0MsT0FBTCxDQUFhO0FBQ2hCQyxTQUFHLEVBQUVGO0FBRFcsS0FBYixFQUVKO0FBQ0NqQyxjQUFRLEVBQUUsQ0FEWDtBQUVDTixjQUFRLEVBQUUsQ0FGWDtBQUdDa0IsWUFBTSxFQUFFO0FBSFQsS0FGSSxDQUFQO0FBT0gsR0FUZ0I7QUFVakJ3QixZQUFVLEVBQUUsVUFBVTFDLFFBQVYsRUFBb0IyQyxRQUFwQixFQUE4QjtBQUN0QyxXQUFPLEtBQUtILE9BQUwsQ0FBYTtBQUNoQnhDLGNBQVEsRUFBRUE7QUFETSxLQUFiLEVBRUo7QUFDQ00sY0FBUSxFQUFFLENBRFgsQ0FDYTs7QUFEYixLQUZJLENBQVA7QUFLSDtBQWhCZ0IsQ0FBckI7QUFzQkEsTUFBTXNDLFNBQVMsR0FBRzlDLHlEQUFRLENBQUMrQyxLQUFULENBQWUsT0FBZixFQUF3QjlDLFVBQXhCLENBQWxCO0FBQ2U2Qyx3RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC91c2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9uZ29vc2XDpsK14oC5w6jCr+KAolxyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcclxuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcclxuXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VybmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBpbmRleDoge1xyXG4gICAgICAgICAgICB1bmlxdWU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNwYXJzZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgbmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZWQ6IHtcclxuICAgICAgICB0eXBlOiBEYXRlXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZDoge1xyXG4gICAgICAgIHR5cGU6IERhdGVcclxuICAgIH0sXHJcbiAgICBmYXZzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDEwMFxyXG4gICAgfSxcclxuICAgIGdlbmRlcjoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgfSxcclxuICAgIHJvbGVzOiB7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgZGVmYXVsdDogWyd1c2VyJ11cclxuICAgIH0sXHJcbiAgICBwaWM6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJy9pbWcvaGVhZGVyLmpwZydcclxuICAgIH0sXHJcbiAgICBtb2JpbGU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgbWF0Y2g6IC9eMVszLTldKFxcZHs5fSkkLyxcclxuICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgfSxcclxuICAgIHN0YXR1czoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnMCdcclxuICAgIH0sXHJcbiAgICByZWdtYXJrOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICB9LFxyXG4gICAgbG9jYXRpb246IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJydcclxuICAgIH0sXHJcbiAgICBpc1ZpcDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiAnMCdcclxuICAgIH0sXHJcbiAgICBjb3VudDoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9XHJcbn0pXHJcblxyXG4vLyBwcmUg5YmN572u55qE6ZKp5a2QIHBvc3Qg5ZCO572u55qE6ZKp5a2QXHJcblVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgIHRoaXMuY3JlYXRlZCA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXHJcbiAgICBuZXh0KClcclxufSlcclxuVXNlclNjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcclxuICAgIGNvbnNvbGUubG9nKCdVc2VyU2NoZW1hLnBvc3Qoc2F2ZSkgRXJyb3InLCBlcnJvcik7XHJcblxyXG4gICAgaWYgKGVycm9yLm5hbWUgPT09ICdNb25nb0Vycm9yJyAmJiBlcnJvci5jb2RlID09PSAxMTAwMCkge1xyXG4gICAgICAgIG5leHQobmV3IEVycm9yKCdFcnJvcjpNb25nb29zZSBoYXMgYSBkdXBsaWNhdGUga2V5JykpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5leHQoZXJyb3IpXHJcbiAgICB9XHJcbn0pXHJcblVzZXJTY2hlbWEucHJlKCd1cGRhdGUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgdGhpcy51cGRhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgbmV4dCgpXHJcbn0pXHJcblxyXG4vLyDlkJHnlLHor6Ugc2NoZW1hIOe8luivkeeUn+aIkOeahCBNb2RlbCDmt7vliqDpnZnmgIHnsbvmlrnms5VcclxuLy8g5pys5L6L5Lit56ys5LqM5Liq5Y+C5pWw5Li65p+l6K+i5Ye655qE5pWw5o2u6L+H5ruk5L+h5oGvIDDkuLrkuI3mn6Xor6JcclxuVXNlclNjaGVtYS5zdGF0aWNzID0ge1xyXG4gICAgZmluZEJ5SUQ6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICBfaWQ6IGlkXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBwYXNzd29yZDogMCxcclxuICAgICAgICAgICAgdXNlcm5hbWU6IDAsXHJcbiAgICAgICAgICAgIG1vYmlsZTogMFxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgZmluZEJ5TmFtZTogZnVuY3Rpb24gKHVzZXJuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAwIC8vIDAg5Luj6KGo6L+H5ruk5o6J6K+l5bGe5oCn6L+U5ZueXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCd1c2VycycsIFVzZXJTY2hlbWEpXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJNb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/user.js\n");

/***/ }),

/***/ "./src/routes/modules sync recursive \\.js$":
/*!***************************************!*\
  !*** ./src/routes/modules sync \.js$ ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./LoginRouter.js\": \"./src/routes/modules/LoginRouter.js\",\n\t\"./PublicRouter.js\": \"./src/routes/modules/PublicRouter.js\",\n\t\"./contentRouter.js\": \"./src/routes/modules/contentRouter.js\",\n\t\"./userRouter.js\": \"./src/routes/modules/userRouter.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/routes/modules sync recursive \\\\.js$\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyBcXC5qcyQ/NGUxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcyBzeW5jIHJlY3Vyc2l2ZSBcXC5qcyQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFwID0ge1xuXHRcIi4vTG9naW5Sb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9Mb2dpblJvdXRlci5qc1wiLFxuXHRcIi4vUHVibGljUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvUHVibGljUm91dGVyLmpzXCIsXG5cdFwiLi9jb250ZW50Um91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qc1wiLFxuXHRcIi4vdXNlclJvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL3VzZXJSb3V0ZXIuanNcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyByZWN1cnNpdmUgXFxcXC5qcyRcIjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules sync recursive \\.js$\n");

/***/ }),

/***/ "./src/routes/modules/LoginRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/LoginRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_LoginController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/LoginController */ \"./src/api/LoginController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/login');\nrouter.post('/forget', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forget);\nrouter.post('/login', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].login);\nrouter.post('/register', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvTG9naW5Sb3V0ZXIuanM/ZTAyNyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwiTG9naW5Db250cm9sbGVyIiwiZm9yZ2V0IiwibG9naW4iLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFDQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsUUFBZDtBQUVBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQyw0REFBZSxDQUFDQyxNQUF2QztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXNCQyw0REFBZSxDQUFDRSxLQUF0QztBQUNBTixNQUFNLENBQUNHLElBQVAsQ0FBWSxXQUFaLEVBQXlCQyw0REFBZSxDQUFDRyxRQUF6QztBQUVlUCxxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9Mb2dpblJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcclxuXHJcbmltcG9ydCBMb2dpbkNvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL0xvZ2luQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5yb3V0ZXIucHJlZml4KCcvbG9naW4nKVxyXG5cclxucm91dGVyLnBvc3QoJy9mb3JnZXQnLCBMb2dpbkNvbnRyb2xsZXIuZm9yZ2V0KVxyXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgTG9naW5Db250cm9sbGVyLmxvZ2luKVxyXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgTG9naW5Db250cm9sbGVyLnJlZ2lzdGVyKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/LoginRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/PublicRouter.js":
/*!********************************************!*\
  !*** ./src/routes/modules/PublicRouter.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_PublicController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/PublicController */ \"./src/api/PublicController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/UserController */ \"./src/api/UserController.js\");\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/public');\nrouter.get('/getcaptcha', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCaptcha); // 获取文章列表\n\nrouter.get('/list', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostList); // 温馨提醒\n\nrouter.get('/tips', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTips); // 友情链接\n\nrouter.get('/links', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLinks); // 回复周榜\n\nrouter.get('/topWeek', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTopWeek); // 确认修改邮件\n\nrouter.get('/resetEmail', _api_UserController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateUsername); // 获取文章详情\n\nrouter.get('/content/detail', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostDetail);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvUHVibGljUm91dGVyLmpzPzJmYmEiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwiZ2V0IiwiUHVibGljQ29udHJvbGxlciIsImdldENhcHRjaGEiLCJjb250ZW50Q29udHJvbGxlciIsImdldFBvc3RMaXN0IiwiZ2V0VGlwcyIsImdldExpbmtzIiwiZ2V0VG9wV2VlayIsInVzZXJDb250cm9sbGVyIiwidXBkYXRlVXNlcm5hbWUiLCJnZXRQb3N0RGV0YWlsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBQ0FELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFNBQWQ7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsYUFBWCxFQUEwQkMsNkRBQWdCLENBQUNDLFVBQTNDLEUsQ0FFQTs7QUFDQUwsTUFBTSxDQUFDRyxHQUFQLENBQVcsT0FBWCxFQUFvQkcsOERBQWlCLENBQUNDLFdBQXRDLEUsQ0FFQTs7QUFDQVAsTUFBTSxDQUFDRyxHQUFQLENBQVcsT0FBWCxFQUFvQkcsOERBQWlCLENBQUNFLE9BQXRDLEUsQ0FFQTs7QUFDQVIsTUFBTSxDQUFDRyxHQUFQLENBQVcsUUFBWCxFQUFxQkcsOERBQWlCLENBQUNHLFFBQXZDLEUsQ0FFQTs7QUFDQVQsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QkcsOERBQWlCLENBQUNJLFVBQXpDLEUsQ0FFQTs7QUFDQVYsTUFBTSxDQUFDRyxHQUFQLENBQVcsYUFBWCxFQUEwQlEsMkRBQWMsQ0FBQ0MsY0FBekMsRSxDQUVBOztBQUNBWixNQUFNLENBQUNHLEdBQVAsQ0FBVyxpQkFBWCxFQUE4QkcsOERBQWlCLENBQUNPLGFBQWhEO0FBRWViLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL1B1YmxpY1JvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmltcG9ydCBQdWJsaWNDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9QdWJsaWNDb250cm9sbGVyJ1xuaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJ0AvYXBpL0NvbnRlbnRDb250cm9sbGVyJ1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJ0AvYXBpL1VzZXJDb250cm9sbGVyJ1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcbnJvdXRlci5wcmVmaXgoJy9wdWJsaWMnKVxuXG5yb3V0ZXIuZ2V0KCcvZ2V0Y2FwdGNoYScsIFB1YmxpY0NvbnRyb2xsZXIuZ2V0Q2FwdGNoYSlcblxuLy8g6I635Y+W5paH56ug5YiX6KGoXG5yb3V0ZXIuZ2V0KCcvbGlzdCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3RMaXN0KVxuXG4vLyDmuKnppqjmj5DphpJcbnJvdXRlci5nZXQoJy90aXBzJywgY29udGVudENvbnRyb2xsZXIuZ2V0VGlwcylcblxuLy8g5Y+L5oOF6ZO+5o6lXG5yb3V0ZXIuZ2V0KCcvbGlua3MnLCBjb250ZW50Q29udHJvbGxlci5nZXRMaW5rcylcblxuLy8g5Zue5aSN5ZGo5qacXG5yb3V0ZXIuZ2V0KCcvdG9wV2VlaycsIGNvbnRlbnRDb250cm9sbGVyLmdldFRvcFdlZWspXG5cbi8vIOehruiupOS/ruaUuemCruS7tlxucm91dGVyLmdldCgnL3Jlc2V0RW1haWwnLCB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VybmFtZSlcblxuLy8g6I635Y+W5paH56ug6K+m5oOFXG5yb3V0ZXIuZ2V0KCcvY29udGVudC9kZXRhaWwnLCBjb250ZW50Q29udHJvbGxlci5nZXRQb3N0RGV0YWlsKVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/PublicRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/contentRouter.js":
/*!*********************************************!*\
  !*** ./src/routes/modules/contentRouter.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/content'); //上传图片\n\nrouter.post('/upload', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].uploadImg); //发表新帖\n\nrouter.post('/add', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addPost);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcz84YTEwIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJjb250ZW50Q29udHJvbGxlciIsInVwbG9hZEltZyIsImFkZFBvc3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBQ0FELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFVBQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQyw4REFBaUIsQ0FBQ0MsU0FBekMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxNQUFaLEVBQW9CQyw4REFBaUIsQ0FBQ0UsT0FBdEM7QUFHZU4scUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcclxuXHJcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICdAL2FwaS9Db250ZW50Q29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5yb3V0ZXIucHJlZml4KCcvY29udGVudCcpXHJcblxyXG4vL+S4iuS8oOWbvueJh1xyXG5yb3V0ZXIucG9zdCgnL3VwbG9hZCcsIGNvbnRlbnRDb250cm9sbGVyLnVwbG9hZEltZylcclxuXHJcbi8v5Y+R6KGo5paw5biWXHJcbnJvdXRlci5wb3N0KCcvYWRkJywgY29udGVudENvbnRyb2xsZXIuYWRkUG9zdClcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/contentRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/userRouter.js":
/*!******************************************!*\
  !*** ./src/routes/modules/userRouter.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/user'); // 用户签到\n\nrouter.get('/fav', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userSign); // 更新用户的基本信息\n\nrouter.post('/basic', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateUserInfo); // 修改密码\n\nrouter.post('/changePassword', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].changePasswd); // // 取消 设置收藏\n// router.get('/setCollect', userController.setCollect)\n// // 获取收藏列表\n// router.get('/collect', userController.getCollectByUid)\n// // 获取用户发贴记录\n// router.get('/post', contentController.getPostByUid)\n// // 删除发贴记录\n// router.get('/deletePost', contentController.deletePostByUid)\n// // 获取历史消息\n// router.get('/getmsg', userController.getMsg)\n// // 获取点赞记录\n// router.get('/getHands', userController.getHands)\n// // 设置消息状态\n// router.get('/setmsg', userController.setMsg)\n// // 保存错误日志\n// router.post('/addError', errorController.addError)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcz8xZjNjIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsImdldCIsInVzZXJDb250cm9sbGVyIiwidXNlclNpZ24iLCJwb3N0IiwidXBkYXRlVXNlckluZm8iLCJjaGFuZ2VQYXNzd2QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLE9BQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxNQUFYLEVBQW1CQywyREFBYyxDQUFDQyxRQUFsQyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFFBQVosRUFBc0JGLDJEQUFjLENBQUNHLGNBQXJDLEUsQ0FFQTs7QUFDQVAsTUFBTSxDQUFDTSxJQUFQLENBQVksaUJBQVosRUFBK0JGLDJEQUFjLENBQUNJLFlBQTlDLEUsQ0FFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTs7QUFFZVIscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvVXNlckNvbnRyb2xsZXInXG5cblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXG5cbnJvdXRlci5wcmVmaXgoJy91c2VyJylcblxuLy8g55So5oi3562+5YiwXG5yb3V0ZXIuZ2V0KCcvZmF2JywgdXNlckNvbnRyb2xsZXIudXNlclNpZ24pXG5cbi8vIOabtOaWsOeUqOaIt+eahOWfuuacrOS/oeaBr1xucm91dGVyLnBvc3QoJy9iYXNpYycsIHVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXJJbmZvKVxuXG4vLyDkv67mlLnlr4bnoIFcbnJvdXRlci5wb3N0KCcvY2hhbmdlUGFzc3dvcmQnLCB1c2VyQ29udHJvbGxlci5jaGFuZ2VQYXNzd2QpXG5cbi8vIC8vIOWPlua2iCDorr7nva7mlLbol49cbi8vIHJvdXRlci5nZXQoJy9zZXRDb2xsZWN0JywgdXNlckNvbnRyb2xsZXIuc2V0Q29sbGVjdClcblxuLy8gLy8g6I635Y+W5pS26JeP5YiX6KGoXG4vLyByb3V0ZXIuZ2V0KCcvY29sbGVjdCcsIHVzZXJDb250cm9sbGVyLmdldENvbGxlY3RCeVVpZClcblxuLy8gLy8g6I635Y+W55So5oi35Y+R6LS06K6w5b2VXG4vLyByb3V0ZXIuZ2V0KCcvcG9zdCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3RCeVVpZClcblxuLy8gLy8g5Yig6Zmk5Y+R6LS06K6w5b2VXG4vLyByb3V0ZXIuZ2V0KCcvZGVsZXRlUG9zdCcsIGNvbnRlbnRDb250cm9sbGVyLmRlbGV0ZVBvc3RCeVVpZClcblxuLy8gLy8g6I635Y+W5Y6G5Y+y5raI5oGvXG4vLyByb3V0ZXIuZ2V0KCcvZ2V0bXNnJywgdXNlckNvbnRyb2xsZXIuZ2V0TXNnKVxuXG4vLyAvLyDojrflj5bngrnotZ7orrDlvZVcbi8vIHJvdXRlci5nZXQoJy9nZXRIYW5kcycsIHVzZXJDb250cm9sbGVyLmdldEhhbmRzKVxuXG4vLyAvLyDorr7nva7mtojmga/nirbmgIFcbi8vIHJvdXRlci5nZXQoJy9zZXRtc2cnLCB1c2VyQ29udHJvbGxlci5zZXRNc2cpXG5cbi8vIC8vIOS/neWtmOmUmeivr+aXpeW/l1xuLy8gcm91dGVyLnBvc3QoJy9hZGRFcnJvcicsIGVycm9yQ29udHJvbGxlci5hZGRFcnJvcilcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/userRouter.js\n");

/***/ }),

/***/ "./src/routes/routes.js":
/*!******************************!*\
  !*** ./src/routes/routes.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-combine-routers */ \"koa-combine-routers\");\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__);\n // import PublicRouter from './PublicRouter'\n// import LoginRouter from './LoginRouter'\n// import UserRouter from './userRouter' \n// export default combineRoutes(PublicRouter, LoginRouter, UserRouter)\n//使用require.context升级\n// 加载目录下得所有js文件，包括子目录\n\nconst moduleFiles = __webpack_require__(\"./src/routes/modules sync recursive \\\\.js$\"); //拼接combineRoutes目录结构 Object[]\n\n\nconst modules = moduleFiles.keys().reduce((items, path) => {\n  const value = moduleFiles(path);\n  items.push(value.default);\n  return items;\n}, []);\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default()(modules));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3JvdXRlcy5qcz82NDFiIl0sIm5hbWVzIjpbIm1vZHVsZUZpbGVzIiwicmVxdWlyZSIsIm1vZHVsZXMiLCJrZXlzIiwicmVkdWNlIiwiaXRlbXMiLCJwYXRoIiwidmFsdWUiLCJwdXNoIiwiZGVmYXVsdCIsImNvbWJpbmVSb3V0ZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtDQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQSxNQUFNQSxXQUFXLEdBQUdDLGlFQUFwQixDLENBQ0E7OztBQUNBLE1BQU1DLE9BQU8sR0FBR0YsV0FBVyxDQUFDRyxJQUFaLEdBQW1CQyxNQUFuQixDQUEwQixDQUFDQyxLQUFELEVBQVFDLElBQVIsS0FBaUI7QUFDdkQsUUFBTUMsS0FBSyxHQUFHUCxXQUFXLENBQUNNLElBQUQsQ0FBekI7QUFDQUQsT0FBSyxDQUFDRyxJQUFOLENBQVdELEtBQUssQ0FBQ0UsT0FBakI7QUFDQSxTQUFPSixLQUFQO0FBQ0gsQ0FKZSxFQUliLEVBSmEsQ0FBaEI7QUFVZUsseUhBQWEsQ0FBQ1IsT0FBRCxDQUE1QiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvcm91dGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbWJpbmVSb3V0ZXMgZnJvbSAna29hLWNvbWJpbmUtcm91dGVycydcblxuLy8gaW1wb3J0IFB1YmxpY1JvdXRlciBmcm9tICcuL1B1YmxpY1JvdXRlcidcbi8vIGltcG9ydCBMb2dpblJvdXRlciBmcm9tICcuL0xvZ2luUm91dGVyJ1xuLy8gaW1wb3J0IFVzZXJSb3V0ZXIgZnJvbSAnLi91c2VyUm91dGVyJyBcbi8vIGV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSb3V0ZXMoUHVibGljUm91dGVyLCBMb2dpblJvdXRlciwgVXNlclJvdXRlcilcblxuLy/kvb/nlKhyZXF1aXJlLmNvbnRleHTljYfnuqdcbi8vIOWKoOi9veebruW9leS4i+W+l+aJgOaciWpz5paH5Lu277yM5YyF5ous5a2Q55uu5b2VXG5jb25zdCBtb2R1bGVGaWxlcyA9IHJlcXVpcmUuY29udGV4dCgnLi9tb2R1bGVzJywgdHJ1ZSwgL1xcLmpzJC8pXG4vL+aLvOaOpWNvbWJpbmVSb3V0ZXPnm67lvZXnu5PmnoQgT2JqZWN0W11cbmNvbnN0IG1vZHVsZXMgPSBtb2R1bGVGaWxlcy5rZXlzKCkucmVkdWNlKChpdGVtcywgcGF0aCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gbW9kdWxlRmlsZXMocGF0aClcbiAgICBpdGVtcy5wdXNoKHZhbHVlLmRlZmF1bHQpXG4gICAgcmV0dXJuIGl0ZW1zXG59LCBbXSlcblxuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb21iaW5lUm91dGVzKG1vZHVsZXMpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/routes.js\n");

/***/ }),

/***/ "@koa/cors":
/*!****************************!*\
  !*** external "@koa/cors" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@koa/cors\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IkBrb2EvY29ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBrb2EvY29yc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@koa/cors\n");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcrypt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRcIj9jZjljIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImJjcnlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcrypt\n");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqc1wiPzNhYTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa\n");

/***/ }),

/***/ "koa-body":
/*!***************************!*\
  !*** external "koa-body" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-body\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWJvZHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-body\n");

/***/ }),

/***/ "koa-combine-routers":
/*!**************************************!*\
  !*** external "koa-combine-routers" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-combine-routers\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtY29tYmluZS1yb3V0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbWJpbmUtcm91dGVyc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-combine-routers\n");

/***/ }),

/***/ "koa-compose":
/*!******************************!*\
  !*** external "koa-compose" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWNvbXBvc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compose\n");

/***/ }),

/***/ "koa-compress":
/*!*******************************!*\
  !*** external "koa-compress" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compress\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS1jb21wcmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21wcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compress\n");

/***/ }),

/***/ "koa-helmet":
/*!*****************************!*\
  !*** external "koa-helmet" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-helmet\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtaGVsbWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWhlbG1ldFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-helmet\n");

/***/ }),

/***/ "koa-json":
/*!***************************!*\
  !*** external "koa-json" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-json\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWpzb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-json\n");

/***/ }),

/***/ "koa-jwt":
/*!**************************!*\
  !*** external "koa-jwt" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-jwt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etand0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWp3dFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-jwt\n");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-router\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-router\n");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-static\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etc3RhdGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXN0YXRpY1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-static\n");

/***/ }),

/***/ "make-dir":
/*!***************************!*\
  !*** external "make-dir" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"make-dir\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtYWtlLWRpclwiPzk3YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibWFrZS1kaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtYWtlLWRpclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///make-dir\n");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"moment\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9iZDc2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Im1vbWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbWVudFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///moment\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/M2Q1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJub2RlbWFpbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJwYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///path\n");

/***/ }),

/***/ "qs":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"qs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJxc1wiP2E1YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJxc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///qs\n");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"redis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVkaXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWRpc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///redis\n");

/***/ }),

/***/ "svg-captcha":
/*!******************************!*\
  !*** external "svg-captcha" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"svg-captcha\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdmctY2FwdGNoYVwiP2NjNjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoic3ZnLWNhcHRjaGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdmctY2FwdGNoYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///svg-captcha\n");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"tls\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0bHNcIj85NGNiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6InRscy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInRsc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///tls\n");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"util\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dGlsXCI/YmUwYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJ1dGlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXRpbFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///util\n");

/***/ }),

/***/ "uuid/dist/v4":
/*!*******************************!*\
  !*** external "uuid/dist/v4" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"uuid/dist/v4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dWlkL2Rpc3QvdjRcIj85ZDcyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6InV1aWQvZGlzdC92NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInV1aWQvZGlzdC92NFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///uuid/dist/v4\n");

/***/ })

/******/ });